<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="alignedblob_8cpp" kind="file">
    <compoundname>alignedblob.cpp</compoundname>
    <includes refid="alignedblob_8h" local="yes">alignedblob.h</includes>
    <includes refid="ndminx_8h" local="yes">ndminx.h</includes>
    <incdepgraph>
      <node id="36430">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="36398" relation="include">
        </childnode>
        <childnode refid="36431" relation="include">
        </childnode>
        <childnode refid="36432" relation="include">
        </childnode>
        <childnode refid="36437" relation="include">
        </childnode>
        <childnode refid="36444" relation="include">
        </childnode>
      </node>
      <node id="36445">
        <label>tabvector.h</label>
        <link refid="tabvector_8h"/>
        <childnode refid="36446" relation="include">
        </childnode>
        <childnode refid="36398" relation="include">
        </childnode>
        <childnode refid="36415" relation="include">
        </childnode>
        <childnode refid="36431" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
        <childnode refid="36397" relation="include">
        </childnode>
      </node>
      <node id="36420">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="36397">
        <label>bbgrid.h</label>
        <link refid="bbgrid_8h"/>
        <childnode refid="36398" relation="include">
        </childnode>
        <childnode refid="36411" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
        <childnode refid="36421" relation="include">
        </childnode>
        <childnode refid="36429" relation="include">
        </childnode>
      </node>
      <node id="36444">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36400" relation="include">
        </childnode>
        <childnode refid="36421" relation="include">
        </childnode>
      </node>
      <node id="36404">
        <label>stdlib.h</label>
      </node>
      <node id="36401">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="36402" relation="include">
        </childnode>
      </node>
      <node id="36428">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="36408" relation="include">
        </childnode>
      </node>
      <node id="36429">
        <label>allheaders.h</label>
      </node>
      <node id="36421">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
      </node>
      <node id="36403">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="36404" relation="include">
        </childnode>
        <childnode refid="36405" relation="include">
        </childnode>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36406" relation="include">
        </childnode>
        <childnode refid="36408" relation="include">
        </childnode>
        <childnode refid="36409" relation="include">
        </childnode>
      </node>
      <node id="36398">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36400" relation="include">
        </childnode>
        <childnode refid="36403" relation="include">
        </childnode>
        <childnode refid="36410" relation="include">
        </childnode>
      </node>
      <node id="36433">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="36411" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
      </node>
      <node id="36407">
        <label>stddef.h</label>
      </node>
      <node id="36408">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="36400" relation="include">
        </childnode>
      </node>
      <node id="36442">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="36440" relation="include">
        </childnode>
        <childnode refid="36415" relation="include">
        </childnode>
        <childnode refid="36413" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
        <childnode refid="36421" relation="include">
        </childnode>
        <childnode refid="36443" relation="include">
        </childnode>
      </node>
      <node id="36402">
        <label>limits.h</label>
      </node>
      <node id="36396">
        <label>alignedblob.h</label>
        <link refid="alignedblob_8h"/>
        <childnode refid="36397" relation="include">
        </childnode>
        <childnode refid="36430" relation="include">
        </childnode>
        <childnode refid="36427" relation="include">
        </childnode>
        <childnode refid="36445" relation="include">
        </childnode>
      </node>
      <node id="36416">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="36414" relation="include">
        </childnode>
      </node>
      <node id="36417">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="36413" relation="include">
        </childnode>
      </node>
      <node id="36431">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36400" relation="include">
        </childnode>
        <childnode refid="36403" relation="include">
        </childnode>
        <childnode refid="36410" relation="include">
        </childnode>
      </node>
      <node id="36405">
        <label>string.h</label>
      </node>
      <node id="36419">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="36414" relation="include">
        </childnode>
        <childnode refid="36413" relation="include">
        </childnode>
        <childnode refid="36420" relation="include">
        </childnode>
        <childnode refid="36421" relation="include">
        </childnode>
        <childnode refid="36422" relation="include">
        </childnode>
      </node>
      <node id="36418">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="36400" relation="include">
        </childnode>
      </node>
      <node id="36425">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="36400" relation="include">
        </childnode>
      </node>
      <node id="36411">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="36412" relation="include">
        </childnode>
        <childnode refid="36417" relation="include">
        </childnode>
        <childnode refid="36418" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
        <childnode refid="36428" relation="include">
        </childnode>
        <childnode refid="36421" relation="include">
        </childnode>
      </node>
      <node id="36432">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="36423" relation="include">
        </childnode>
        <childnode refid="36418" relation="include">
        </childnode>
        <childnode refid="36431" relation="include">
        </childnode>
        <childnode refid="36427" relation="include">
        </childnode>
        <childnode refid="36428" relation="include">
        </childnode>
        <childnode refid="36433" relation="include">
        </childnode>
        <childnode refid="36434" relation="include">
        </childnode>
      </node>
      <node id="36434">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36435" relation="include">
        </childnode>
        <childnode refid="36432" relation="include">
        </childnode>
      </node>
      <node id="36409">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="36408" relation="include">
        </childnode>
      </node>
      <node id="36414">
        <label>math.h</label>
      </node>
      <node id="36412">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="36413" relation="include">
        </childnode>
        <childnode refid="36417" relation="include">
        </childnode>
      </node>
      <node id="36410">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="36408" relation="include">
        </childnode>
      </node>
      <node id="36436">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="36413" relation="include">
        </childnode>
      </node>
      <node id="36440">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="36437">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="36438" relation="include">
        </childnode>
        <childnode refid="36439" relation="include">
        </childnode>
        <childnode refid="36434" relation="include">
        </childnode>
        <childnode refid="36441" relation="include">
        </childnode>
      </node>
      <node id="36423">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36424" relation="include">
        </childnode>
        <childnode refid="36427" relation="include">
        </childnode>
      </node>
      <node id="36424">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36404" relation="include">
        </childnode>
        <childnode refid="36425" relation="include">
        </childnode>
        <childnode refid="36408" relation="include">
        </childnode>
        <childnode refid="36426" relation="include">
        </childnode>
        <childnode refid="36420" relation="include">
        </childnode>
      </node>
      <node id="36406">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="36407" relation="include">
        </childnode>
        <childnode refid="36400" relation="include">
        </childnode>
      </node>
      <node id="36446">
        <label>blobgrid.h</label>
        <link refid="blobgrid_8h"/>
        <childnode refid="36397" relation="include">
        </childnode>
        <childnode refid="36430" relation="include">
        </childnode>
      </node>
      <node id="36439">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="36440" relation="include">
        </childnode>
        <childnode refid="36415" relation="include">
        </childnode>
        <childnode refid="36427" relation="include">
        </childnode>
      </node>
      <node id="36415">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36400" relation="include">
        </childnode>
        <childnode refid="36403" relation="include">
        </childnode>
        <childnode refid="36410" relation="include">
        </childnode>
      </node>
      <node id="36395">
        <label>textord/alignedblob.cpp</label>
        <link refid="alignedblob.cpp"/>
        <childnode refid="36396" relation="include">
        </childnode>
        <childnode refid="36420" relation="include">
        </childnode>
      </node>
      <node id="36413">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36414" relation="include">
        </childnode>
        <childnode refid="36415" relation="include">
        </childnode>
        <childnode refid="36416" relation="include">
        </childnode>
      </node>
      <node id="36438">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="36406" relation="include">
        </childnode>
      </node>
      <node id="36422">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="36423" relation="include">
        </childnode>
      </node>
      <node id="36443">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="36400">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="36401" relation="include">
        </childnode>
      </node>
      <node id="36441">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="36398" relation="include">
        </childnode>
        <childnode refid="36438" relation="include">
        </childnode>
        <childnode refid="36427" relation="include">
        </childnode>
        <childnode refid="36442" relation="include">
        </childnode>
        <childnode refid="36443" relation="include">
        </childnode>
      </node>
      <node id="36399">
        <label>stdio.h</label>
      </node>
      <node id="36427">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36405" relation="include">
        </childnode>
        <childnode refid="36401" relation="include">
        </childnode>
        <childnode refid="36406" relation="include">
        </childnode>
      </node>
      <node id="36426">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="36399" relation="include">
        </childnode>
        <childnode refid="36405" relation="include">
        </childnode>
      </node>
      <node id="36435">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="36436" relation="include">
        </childnode>
        <childnode refid="36403" relation="include">
        </childnode>
        <childnode refid="36406" relation="include">
        </childnode>
        <childnode refid="36419" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
      <sectiondef kind="func">
      <memberdef kind="function" id="alignedblob_8cpp_1a4d4617181f57f66d45c5acb7dbaefd8a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_debug_tabfind, 0,&quot;Debug tab finding&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_debug_tabfind</type>
        </param>
        <param>
          <type>0</type>
        </param>
        <param>
          <type>&quot;Debug tab finding&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="28" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1a4483203562b60b30355382dc24b50ca3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_debug_bugs, 0,&quot;Turn on output related to bugs in tab finding&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_debug_bugs</type>
        </param>
        <param>
          <type>0</type>
        </param>
        <param>
          <type>&quot;Turn on output related to bugs in tab finding&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="29" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1abf5811ab990b78c7e9417936d07693be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_testregion_left,-1,&quot;Left edge of debug reporting rectangle&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_testregion_left</type>
        </param>
        <param>
          <type>-</type>
          <declname>1</declname>
        </param>
        <param>
          <type>&quot;Left edge of debug reporting rectangle&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="30" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1ace12f25dc49ab164ece6d7980be7730b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_testregion_top,-1,&quot;Top edge of debug reporting rectangle&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_testregion_top</type>
        </param>
        <param>
          <type>-</type>
          <declname>1</declname>
        </param>
        <param>
          <type>&quot;Top edge of debug reporting rectangle&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="31" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1adc7997e3ea3eef55a1b19725b066e8c0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_testregion_right, MAX_INT32,&quot;Right edge of debug rectangle&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_testregion_right</type>
        </param>
        <param>
          <type><ref refid="host_8h_1aac62d87844689a18b6f5339a89ed6e7f" kindref="member">MAX_INT32</ref></type>
        </param>
        <param>
          <type>&quot;Right edge of debug rectangle&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="32" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1aedebb05d4da41406acebd0c18aed8109" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>INT_VAR</definition>
        <argsstring>(textord_testregion_bottom, MAX_INT32,&quot;Bottom edge of debug rectangle&quot;)</argsstring>
        <name>INT_VAR</name>
        <param>
          <type>textord_testregion_bottom</type>
        </param>
        <param>
          <type><ref refid="host_8h_1aac62d87844689a18b6f5339a89ed6e7f" kindref="member">MAX_INT32</ref></type>
        </param>
        <param>
          <type>&quot;Bottom edge of debug rectangle&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="33" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1a92966c5c7e92899addd45ce9a85a0c45" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BOOL_VAR</definition>
        <argsstring>(textord_debug_images, false,&quot;Use greyed image background for debug&quot;)</argsstring>
        <name>BOOL_VAR</name>
        <param>
          <type>textord_debug_images</type>
        </param>
        <param>
          <type>false</type>
        </param>
        <param>
          <type>&quot;Use greyed image background for debug&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="34" column="1"/>
      </memberdef>
      <memberdef kind="function" id="alignedblob_8cpp_1acb04c2a945dc6c1d4182f484d3c2dbd7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BOOL_VAR</definition>
        <argsstring>(textord_debug_printable, false,&quot;Make debug windows printable&quot;)</argsstring>
        <name>BOOL_VAR</name>
        <param>
          <type>textord_debug_printable</type>
        </param>
        <param>
          <type>false</type>
        </param>
        <param>
          <type>&quot;Make debug windows printable&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp" line="35" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>alignedblob.cpp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Description:<sp/>Subclass<sp/>of<sp/>BBGrid<sp/>to<sp/>find<sp/>vertically<sp/>aligned<sp/>blobs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Ray<sp/>Smith</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Fri<sp/>Mar<sp/>21<sp/>15:03:01<sp/>PST<sp/>2008</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(C)<sp/>Copyright<sp/>2008,<sp/>Google<sp/>Inc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//</highlight></codeline>
<codeline lineno="19"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="alignedblob_8h" kindref="compound">alignedblob.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ndminx_8h" kindref="compound">ndminx.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Include<sp/>automatically<sp/>generated<sp/>configuration<sp/>file<sp/>if<sp/>running<sp/>autoconf.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;config_auto.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="27"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_debug_tabfind,<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Debug<sp/>tab<sp/>finding&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_debug_bugs,<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Turn<sp/>on<sp/>output<sp/>related<sp/>to<sp/>bugs<sp/>in<sp/>tab<sp/>finding&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_testregion_left,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Left<sp/>edge<sp/>of<sp/>debug<sp/>reporting<sp/>rectangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_testregion_top,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>edge<sp/>of<sp/>debug<sp/>reporting<sp/>rectangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_testregion_right,<sp/><ref refid="host_8h_1aac62d87844689a18b6f5339a89ed6e7f" kindref="member">MAX_INT32</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Right<sp/>edge<sp/>of<sp/>debug<sp/>rectangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><ref refid="params_8h_1a554d43d0cf0e3f9552921941d9e147bd" kindref="member">INT_VAR</ref>(textord_testregion_bottom,<sp/><ref refid="host_8h_1aac62d87844689a18b6f5339a89ed6e7f" kindref="member">MAX_INT32</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Bottom<sp/>edge<sp/>of<sp/>debug<sp/>rectangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><ref refid="params_8h_1a442e7f541a050acf5ebda026db177877" kindref="member">BOOL_VAR</ref>(textord_debug_images,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>greyed<sp/>image<sp/>background<sp/>for<sp/>debug&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><ref refid="params_8h_1a442e7f541a050acf5ebda026db177877" kindref="member">BOOL_VAR</ref>(textord_debug_printable,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Make<sp/>debug<sp/>windows<sp/>printable&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fraction<sp/>of<sp/>resolution<sp/>used<sp/>as<sp/>alignment<sp/>tolerance<sp/>for<sp/>aligned<sp/>tabs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a9ef44019867a8035dc34a7795097b157" kindref="member">kAlignedFraction</ref><sp/>=<sp/>0.03125;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fraction<sp/>of<sp/>resolution<sp/>used<sp/>as<sp/>alignment<sp/>tolerance<sp/>for<sp/>ragged<sp/>tabs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1abdaa318336c9bb9609f2fdba391a9451" kindref="member">kRaggedFraction</ref><sp/>=<sp/>2.5;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fraction<sp/>of<sp/>height<sp/>used<sp/>as<sp/>a<sp/>minimum<sp/>gutter<sp/>gap<sp/>for<sp/>aligned<sp/>blobs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a5b475b6dfc1167009e77c89f2ca25dfb" kindref="member">kAlignedGapFraction</ref><sp/>=<sp/>0.75;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fraction<sp/>of<sp/>height<sp/>used<sp/>as<sp/>a<sp/>minimum<sp/>gutter<sp/>gap<sp/>for<sp/>ragged<sp/>tabs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a92a18c9684aaa0acd9939e7e91d1cd60" kindref="member">kRaggedGapFraction</ref><sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constant<sp/>number<sp/>of<sp/>pixels<sp/>used<sp/>as<sp/>alignment<sp/>tolerance<sp/>for<sp/>line<sp/>finding.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a9e1752bce5ba73cc7345cc8b688e149d" kindref="member">kVLineAlignment</ref><sp/>=<sp/>3;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constant<sp/>number<sp/>of<sp/>pixels<sp/>used<sp/>as<sp/>gutter<sp/>gap<sp/>tolerance<sp/>for<sp/>line<sp/>finding.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a4e46e9a76747314d18c6db272345a9c9" kindref="member">kVLineGutter</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constant<sp/>number<sp/>of<sp/>pixels<sp/>used<sp/>as<sp/>the<sp/>search<sp/>size<sp/>for<sp/>line<sp/>finding.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a3de2795111588ee41cd247b177131f37" kindref="member">kVLineSearchSize</ref><sp/>=<sp/>150;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Min<sp/>number<sp/>of<sp/>points<sp/>to<sp/>accept<sp/>for<sp/>a<sp/>ragged<sp/>tab<sp/>stop.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1ad619a483f2439f99777811f537a9cb24" kindref="member">kMinRaggedTabs</ref><sp/>=<sp/>5;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Min<sp/>number<sp/>of<sp/>points<sp/>to<sp/>accept<sp/>for<sp/>an<sp/>aligned<sp/>tab<sp/>stop.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a3036fb27e166287eddab8b7988c96383" kindref="member">kMinAlignedTabs</ref><sp/>=<sp/>4;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constant<sp/>number<sp/>of<sp/>pixels<sp/>minimum<sp/>height<sp/>of<sp/>a<sp/>vertical<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a20a31756a93d4d56040b537fd40f1da9" kindref="member">kVLineMinLength</ref><sp/>=<sp/>500;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Minimum<sp/>gradient<sp/>for<sp/>a<sp/>vertical<sp/>tab<sp/>vector.<sp/>Used<sp/>to<sp/>prune<sp/>away<sp/>junk</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="comment">//<sp/>tab<sp/>vectors<sp/>with<sp/>what<sp/>would<sp/>be<sp/>a<sp/>ridiculously<sp/>large<sp/>skew<sp/>angle.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Value<sp/>corresponds<sp/>to<sp/>tan(90<sp/>-<sp/>max<sp/>allowed<sp/>skew<sp/>angle)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1ad8fd17f5ba82834b8c2f95e94f5a9129" kindref="member">kMinTabGradient</ref><sp/>=<sp/>4.0;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Tolerance<sp/>to<sp/>skew<sp/>on<sp/>top<sp/>of<sp/>current<sp/>estimate<sp/>of<sp/>skew.<sp/>Divide<sp/>x<sp/>or<sp/>y<sp/>length</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="comment">//<sp/>by<sp/>kMaxSkewFactor<sp/>to<sp/>get<sp/>the<sp/>y<sp/>or<sp/>x<sp/>skew<sp/>distance.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>angle<sp/>is<sp/>small,<sp/>the<sp/>angle<sp/>in<sp/>degrees<sp/>is<sp/>roughly<sp/>60/kMaxSkewFactor.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1aa2907c990fec72f4cfd40254643178e3" kindref="member">kMaxSkewFactor</ref><sp/>=<sp/>15;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constant<sp/>part<sp/>of<sp/>textord_debug_pix_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="namespacetesseract_1ad3740a681ee2fe5c705d28e5cd2645ee" kindref="member">kTextordDebugPix</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;psdebug_pix&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Name<sp/>of<sp/>image<sp/>file<sp/>to<sp/>use<sp/>if<sp/>textord_debug_images<sp/>is<sp/>true.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>AlignedBlob::textord_debug_pix_<sp/>=<sp/><ref refid="namespacetesseract_1ad3740a681ee2fe5c705d28e5cd2645ee" kindref="member">kTextordDebugPix</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Index<sp/>to<sp/>image<sp/>file<sp/>to<sp/>use<sp/>if<sp/>textord_debug_images<sp/>is<sp/>true.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>AlignedBlob::debug_pix_index_<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Increment<sp/>the<sp/>serial<sp/>number<sp/>counter<sp/>and<sp/>set<sp/>the<sp/>string<sp/>to<sp/>use</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="comment">//<sp/>for<sp/>a<sp/>filename<sp/>if<sp/>textord_debug_images<sp/>is<sp/>true.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_aligned_blob_1a08f8b8760c2809ce385cfded3d9cabb6" kindref="member">AlignedBlob::IncrementDebugPix</ref>()<sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/>++debug_pix_index_;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/>textord_debug_pix_<sp/>=<sp/><ref refid="namespacetesseract_1ad3740a681ee2fe5c705d28e5cd2645ee" kindref="member">kTextordDebugPix</ref>;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>numbuf[32];</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/>snprintf(numbuf,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(numbuf),<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>debug_pix_index_);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/>textord_debug_pix_<sp/>+=<sp/>numbuf;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>textord_debug_pix_<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;.pix&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="85"><highlight class="normal">}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constructor<sp/>to<sp/>set<sp/>the<sp/>parameters<sp/>for<sp/>finding<sp/>aligned<sp/>and<sp/>ragged<sp/>tabs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Vertical_x<sp/>and<sp/>vertical_y<sp/>are<sp/>the<sp/>current<sp/>estimates<sp/>of<sp/>the<sp/>true<sp/>vertical</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="comment">//<sp/>direction<sp/>(up)<sp/>in<sp/>the<sp/>image.<sp/>Height<sp/>is<sp/>the<sp/>height<sp/>of<sp/>the<sp/>starter<sp/>blob.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="comment">//<sp/>v_gap_multiple<sp/>is<sp/>the<sp/>multiple<sp/>of<sp/>height<sp/>that<sp/>will<sp/>be<sp/>used<sp/>as<sp/>a<sp/>limit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="comment">//<sp/>on<sp/>vertical<sp/>gap<sp/>before<sp/>giving<sp/>up<sp/>and<sp/>calling<sp/>the<sp/>line<sp/>ended.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">//<sp/>resolution<sp/>is<sp/>the<sp/>original<sp/>image<sp/>resolution,<sp/>and<sp/>align0<sp/>indicates<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>type<sp/>of<sp/>tab<sp/>stop<sp/>to<sp/>be<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><ref refid="structtesseract_1_1_aligned_blob_params_1aac285afe5a09388331a6dc25f4fef615" kindref="member">AlignedBlobParams::AlignedBlobParams</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_y,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>v_gap_multiple,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min_gutter_width,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>resolution,<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822" kindref="member">TabAlignment</ref><sp/>align0)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/>:<sp/>right_tab(align0<sp/>==<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a3eb640025f235401fd86bf1bf01e4a49" kindref="member">TA_RIGHT_RAGGED</ref><sp/>||<sp/>align0<sp/>==<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a0dfc605a485921b4a7c1616e32019513" kindref="member">TA_RIGHT_ALIGNED</ref>),</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>ragged(align0<sp/>==<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a63f1e8bdcb518d39f915c4a6f51126c9" kindref="member">TA_LEFT_RAGGED</ref><sp/>||<sp/>align0<sp/>==<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a3eb640025f235401fd86bf1bf01e4a49" kindref="member">TA_RIGHT_RAGGED</ref>),</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>alignment(align0),</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>confirmed_type(<ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca9f2414540c7d6e051206f486a70f5d2e" kindref="member">TT_CONFIRMED</ref>),</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>min_length(0)<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>tolerances<sp/>according<sp/>to<sp/>the<sp/>type<sp/>of<sp/>line<sp/>sought.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>tab<sp/>search,<sp/>these<sp/>are<sp/>based<sp/>on<sp/>the<sp/>image<sp/>resolution<sp/>for<sp/>most,<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>height<sp/>of<sp/>the<sp/>starting<sp/>blob<sp/>for<sp/>the<sp/>maximum<sp/>vertical<sp/>gap.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>max_v_gap<sp/>=<sp/>height<sp/>*<sp/>v_gap_multiple;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ragged)<sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>the<sp/>case<sp/>of<sp/>a<sp/>ragged<sp/>edge,<sp/>we<sp/>are<sp/>much<sp/>more<sp/>generous<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>inside<sp/>alignment<sp/>fraction,<sp/>but<sp/>also<sp/>require<sp/>a<sp/>much<sp/>bigger<sp/>gutter.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>gutter_fraction<sp/>=<sp/><ref refid="namespacetesseract_1a92a18c9684aaa0acd9939e7e91d1cd60" kindref="member">kRaggedGapFraction</ref>;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(alignment<sp/>==<sp/><ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a3eb640025f235401fd86bf1bf01e4a49" kindref="member">TA_RIGHT_RAGGED</ref>)<sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>l_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1abdaa318336c9bb9609f2fdba391a9451" kindref="member">kRaggedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>r_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1a9ef44019867a8035dc34a7795097b157" kindref="member">kAlignedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>l_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1a9ef44019867a8035dc34a7795097b157" kindref="member">kAlignedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>r_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1abdaa318336c9bb9609f2fdba391a9451" kindref="member">kRaggedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>min_points<sp/>=<sp/><ref refid="namespacetesseract_1ad619a483f2439f99777811f537a9cb24" kindref="member">kMinRaggedTabs</ref>;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>gutter_fraction<sp/>=<sp/><ref refid="namespacetesseract_1a5b475b6dfc1167009e77c89f2ca25dfb" kindref="member">kAlignedGapFraction</ref>;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>l_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1a9ef44019867a8035dc34a7795097b157" kindref="member">kAlignedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>r_align_tolerance<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(resolution<sp/>*<sp/><ref refid="namespacetesseract_1a9ef44019867a8035dc34a7795097b157" kindref="member">kAlignedFraction</ref><sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>min_points<sp/>=<sp/><ref refid="namespacetesseract_1a3036fb27e166287eddab8b7988c96383" kindref="member">kMinAlignedTabs</ref>;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/>min_gutter<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(height<sp/>*<sp/>gutter_fraction<sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(min_gutter<sp/>&lt;<sp/>min_gutter_width)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>min_gutter<sp/>=<sp/>min_gutter_width;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Fit<sp/>the<sp/>vertical<sp/>vector<sp/>into<sp/>an<sp/>ICOORD,<sp/>which<sp/>is<sp/>16<sp/>bit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/>set_vertical(vertical_x,<sp/>vertical_y);</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constructor<sp/>to<sp/>set<sp/>the<sp/>parameters<sp/>for<sp/>finding<sp/>vertical<sp/>lines.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Vertical_x<sp/>and<sp/>vertical_y<sp/>are<sp/>the<sp/>current<sp/>estimates<sp/>of<sp/>the<sp/>true<sp/>vertical</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">//<sp/>direction<sp/>(up)<sp/>in<sp/>the<sp/>image.<sp/>Width<sp/>is<sp/>the<sp/>width<sp/>of<sp/>the<sp/>starter<sp/>blob.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><ref refid="structtesseract_1_1_aligned_blob_params_1aac285afe5a09388331a6dc25f4fef615" kindref="member">AlignedBlobParams::AlignedBlobParams</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_y,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/>:<sp/>gutter_fraction(0.0),</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>right_tab(false),</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>ragged(false),</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>alignment(<ref refid="namespacetesseract_1a9661ffc0ba1d1cfbca95090649c79822a5e3a11fa3b4f26e3e73cc7832bb72381" kindref="member">TA_SEPARATOR</ref>),</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>confirmed_type(<ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca17113fa407dccfcd4e19cca53e715af8" kindref="member">TT_VLINE</ref>),</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>max_v_gap(<ref refid="namespacetesseract_1a3de2795111588ee41cd247b177131f37" kindref="member">kVLineSearchSize</ref>),</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>min_gutter(<ref refid="namespacetesseract_1a4e46e9a76747314d18c6db272345a9c9" kindref="member">kVLineGutter</ref>),</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>min_points(1),</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>min_length(<ref refid="namespacetesseract_1a20a31756a93d4d56040b537fd40f1da9" kindref="member">kVLineMinLength</ref>)<sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>threshold<sp/>for<sp/>left<sp/>and<sp/>right<sp/>alignment.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>l_align_tolerance<sp/>=<sp/><ref refid="ndminx_8h_1aacc3ee1a7f283f8ef65cea31f4436a95" kindref="member">MAX</ref>(<ref refid="namespacetesseract_1a9e1752bce5ba73cc7345cc8b688e149d" kindref="member">kVLineAlignment</ref>,<sp/>width);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/>r_align_tolerance<sp/>=<sp/><ref refid="ndminx_8h_1aacc3ee1a7f283f8ef65cea31f4436a95" kindref="member">MAX</ref>(<ref refid="namespacetesseract_1a9e1752bce5ba73cc7345cc8b688e149d" kindref="member">kVLineAlignment</ref>,<sp/>width);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Fit<sp/>the<sp/>vertical<sp/>vector<sp/>into<sp/>an<sp/>ICOORD,<sp/>which<sp/>is<sp/>16<sp/>bit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/>set_vertical(vertical_x,<sp/>vertical_y);</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fit<sp/>the<sp/>vertical<sp/>vector<sp/>into<sp/>an<sp/>ICOORD,<sp/>which<sp/>is<sp/>16<sp/>bit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_aligned_blob_params_1a83e44cae379b6731699515fb80f5be33" kindref="member">AlignedBlobParams::set_vertical</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_y)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>factor<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vertical_y<sp/>&gt;<sp/><ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref>)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>factor<sp/>=<sp/>vertical_y<sp/>/<sp/><ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_aligned_blob_params_1acdc3b3bc6a750096da1641b343517ace" kindref="member">vertical</ref>.<ref refid="class_i_c_o_o_r_d_1a94c586039b3a003b35cf659b33b938f3" kindref="member" tooltip="rewrite function ">set_x</ref>(vertical_x<sp/>/<sp/>factor);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_aligned_blob_params_1acdc3b3bc6a750096da1641b343517ace" kindref="member">vertical</ref>.<ref refid="class_i_c_o_o_r_d_1aa9fb418d1c602c0533e426759da43d67" kindref="member" tooltip="rewrite function ">set_y</ref>(vertical_y<sp/>/<sp/>factor);</highlight></codeline>
<codeline lineno="161"><highlight class="normal">}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><ref refid="classtesseract_1_1_aligned_blob_1a055f4537191b2fbbd69c8f1629237372" kindref="member">AlignedBlob::AlignedBlob</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>gridsize,</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_i_c_o_o_r_d" kindref="compound" tooltip="integer coordinate ">ICOORD</ref>&amp;<sp/>bleft,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_i_c_o_o_r_d" kindref="compound" tooltip="integer coordinate ">ICOORD</ref>&amp;<sp/>tright)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/>:<sp/>BlobGrid(gridsize,<sp/>bleft,<sp/>tright)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><ref refid="classtesseract_1_1_aligned_blob_1aa695efbfce803437711ca69c165588c9" kindref="member">AlignedBlob::~AlignedBlob</ref>()<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal">}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Return<sp/>true<sp/>if<sp/>the<sp/>given<sp/>coordinates<sp/>are<sp/>within<sp/>the<sp/>test<sp/>rectangle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and<sp/>the<sp/>debug<sp/>level<sp/>is<sp/>at<sp/>least<sp/>the<sp/>given<sp/>detail<sp/>level.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">AlignedBlob::WithinTestRegion</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>detail_level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y)<sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textord_debug_tabfind<sp/>&lt;<sp/>detail_level)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x<sp/>&gt;=<sp/>textord_testregion_left<sp/>&amp;&amp;<sp/>x<sp/>&lt;=<sp/>textord_testregion_right<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>&lt;=<sp/>textord_testregion_top<sp/>&amp;&amp;<sp/>y<sp/>&gt;=<sp/>textord_testregion_bottom;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Display<sp/>the<sp/>tab<sp/>codes<sp/>of<sp/>the<sp/>BLOBNBOXes<sp/>in<sp/>this<sp/>grid.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><ref refid="class_scroll_view" kindref="compound">ScrollView</ref>*<sp/><ref refid="classtesseract_1_1_aligned_blob_1ae8e6c33de7a8a40bbb66c312ab9cc899" kindref="member">AlignedBlob::DisplayTabs</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>window_name,</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_scroll_view" kindref="compound">ScrollView</ref>*<sp/>tab_win)<sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>GRAPHICS_DISABLED</highlight></codeline>
<codeline lineno="185"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tab_win<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>tab_win<sp/>=<sp/><ref refid="classtesseract_1_1_b_b_grid_1aa716f76c7f04f7112abfc10a3f8c63e0" kindref="member">MakeWindow</ref>(0,<sp/>50,<sp/>window_name);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>every<sp/>tab<sp/>in<sp/>the<sp/>grid,<sp/>display<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/>GridSearch&lt;BLOBNBOX,<sp/>BLOBNBOX_CLIST,<sp/>BLOBNBOX_C_IT&gt;<sp/>gsearch(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/>gsearch.StartFullSearch();</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>bbox;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((bbox<sp/>=<sp/>gsearch.NextFullSearch())<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left_x<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>right_x<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>();</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top_y<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>();</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bottom_y<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>();</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cc" kindref="member">TabType</ref><sp/>tabtype<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccaddba1c39549497adfc655e5e9a817dec" kindref="member">TT_NONE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccad0945333210420da84a7617b5788f246" kindref="member">TT_MAYBE_ALIGNED</ref>)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a66e5117e4930fdd9a43bdb674d57a719" kindref="member">ScrollView::BLUE</ref>);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca0d571d70d55bfdb99070e2ee2d6e1c7f" kindref="member">TT_MAYBE_RAGGED</ref>)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a61dec9bc0aaf1d527a731b2a6ce055c8" kindref="member">ScrollView::YELLOW</ref>);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca9f2414540c7d6e051206f486a70f5d2e" kindref="member">TT_CONFIRMED</ref>)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a9d8c87be486dead41d198d6b97a22174" kindref="member">ScrollView::GREEN</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a7bba33cbbab6aaa71dce1aad46ecc3a5" kindref="member">ScrollView::GREY</ref>);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a2ba16f17fc401bb28be1a08160207e45" kindref="member">Line</ref>(left_x,<sp/>top_y,<sp/>left_x,<sp/>bottom_y);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>tabtype<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>();</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccaddba1c39549497adfc655e5e9a817dec" kindref="member">TT_NONE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccad0945333210420da84a7617b5788f246" kindref="member">TT_MAYBE_ALIGNED</ref>)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8aebeaaeee353c6f04b4498b1fef94bbb3" kindref="member">ScrollView::MAGENTA</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca0d571d70d55bfdb99070e2ee2d6e1c7f" kindref="member">TT_MAYBE_RAGGED</ref>)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a0691e22f5da865103a497f9503269a61" kindref="member">ScrollView::ORANGE</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tabtype<sp/>==<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca9f2414540c7d6e051206f486a70f5d2e" kindref="member">TT_CONFIRMED</ref>)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a0959f7470b08ae1a38aa7e38fba29402" kindref="member">ScrollView::RED</ref>);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a79855c525ec660b452382e9813d2edb5" kindref="member">Pen</ref>(<ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8a7bba33cbbab6aaa71dce1aad46ecc3a5" kindref="member">ScrollView::GREY</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a2ba16f17fc401bb28be1a08160207e45" kindref="member">Line</ref>(right_x,<sp/>top_y,<sp/>right_x,<sp/>bottom_y);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/>tab_win-&gt;<ref refid="class_scroll_view_1a0830a51981a20c8700b5ec49137e46e9" kindref="member">Update</ref>();</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="224"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tab_win;</highlight></codeline>
<codeline lineno="225"><highlight class="normal">}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Helper<sp/>returns<sp/>true<sp/>if<sp/>the<sp/>total<sp/>number<sp/>of<sp/>line_crossings<sp/>of<sp/>all<sp/>the<sp/>blobs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>list<sp/>is<sp/>at<sp/>least<sp/>2.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>AtLeast2LineCrossings(BLOBNBOX_CLIST*<sp/>blobs)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/>BLOBNBOX_C_IT<sp/>it(blobs);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>total_crossings<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(it.mark_cycle_pt();<sp/>!it.cycled_list();<sp/>it.forward())<sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>total_crossings<sp/>+=<sp/>it.data()-&gt;line_crossings();</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>total_crossings<sp/>&gt;=<sp/>2;</highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Finds<sp/>a<sp/>vector<sp/>corresponding<sp/>to<sp/>a<sp/>set<sp/>of<sp/>vertically<sp/>aligned<sp/>blob<sp/>edges</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//<sp/>running<sp/>through<sp/>the<sp/>given<sp/>box.<sp/>The<sp/>type<sp/>of<sp/>vector<sp/>returned<sp/>and<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight><highlight class="comment">//<sp/>search<sp/>parameters<sp/>are<sp/>determined<sp/>by<sp/>the<sp/>AlignedBlobParams.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight><highlight class="comment">//<sp/>vertical_x<sp/>and<sp/>y<sp/>are<sp/>updated<sp/>with<sp/>an<sp/>estimate<sp/>of<sp/>the<sp/>real</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight><highlight class="comment">//<sp/>vertical<sp/>direction.<sp/>(skew<sp/>finding.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>NULL<sp/>if<sp/>no<sp/>decent<sp/>vector<sp/>can<sp/>be<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal">TabVector*<sp/><ref refid="classtesseract_1_1_aligned_blob_1ae8acdd97fe77a8af9b71a9078e324e3c" kindref="member">AlignedBlob::FindVerticalAlignment</ref>(AlignedBlobParams<sp/>align_params,</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>bbox,</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>vertical_x,</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>vertical_y)<sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ext_start_y,<sp/>ext_end_y;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/>BLOBNBOX_CLIST<sp/>good_points;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Search<sp/>up<sp/>and<sp/>then<sp/>down<sp/>from<sp/>the<sp/>starting<sp/>bbox.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>debug<sp/>=<sp/><ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>());</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pt_count<sp/>=<sp/>AlignTabs(align_params,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>bbox,<sp/>&amp;good_points,<sp/>&amp;ext_end_y);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/>pt_count<sp/>+=<sp/>AlignTabs(align_params,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>bbox,<sp/>&amp;good_points,<sp/>&amp;ext_start_y);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/>BLOBNBOX_C_IT<sp/>it(&amp;good_points);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/>it.move_to_last();</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/>box<sp/>=<sp/>it.data()-&gt;bounding_box();</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>end_y<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>();</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>end_x<sp/>=<sp/>align_params.right_tab<sp/>?<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>:<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/>it.move_to_first();</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/>box<sp/>=<sp/>it.data()-&gt;bounding_box();</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_x<sp/>=<sp/>align_params.right_tab<sp/>?<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>:<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_y<sp/>=<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>();</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Acceptable<sp/>tab<sp/>vectors<sp/>must<sp/>have<sp/>a<sp/>mininum<sp/>number<sp/>of<sp/>points,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>have<sp/>a<sp/>minimum<sp/>acceptable<sp/>length,<sp/>and<sp/>have<sp/>a<sp/>minimum<sp/>gradient.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>gradient<sp/>corresponds<sp/>to<sp/>the<sp/>skew<sp/>angle.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Ragged<sp/>tabs<sp/>don&apos;t<sp/>need<sp/>to<sp/>satisfy<sp/>the<sp/>gradient<sp/>condition,<sp/>as<sp/>they</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>will<sp/>always<sp/>end<sp/>up<sp/>parallel<sp/>to<sp/>the<sp/>vertical<sp/>direction.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>at_least_2_crossings<sp/>=<sp/>AtLeast2LineCrossings(&amp;good_points);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((pt_count<sp/>&gt;=<sp/>align_params.min_points<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>end_y<sp/>-<sp/>start_y<sp/>&gt;=<sp/>align_params.min_length<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(align_params.ragged<sp/>||</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_y<sp/>-<sp/>start_y<sp/>&gt;=<sp/>abs(end_x<sp/>-<sp/>start_x)<sp/>*<sp/><ref refid="namespacetesseract_1ad8fd17f5ba82834b8c2f95e94f5a9129" kindref="member">kMinTabGradient</ref>))<sp/>||</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>at_least_2_crossings)<sp/>{</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>confirmed_points<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Count<sp/>existing<sp/>confirmed<sp/>points<sp/>to<sp/>see<sp/>if<sp/>vector<sp/>is<sp/>acceptable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(it.mark_cycle_pt();<sp/>!it.cycled_list();<sp/>it.forward())<sp/>{</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bbox<sp/>=<sp/>it.data();</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(align_params.right_tab)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>()<sp/>==<sp/>align_params.confirmed_type)</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++confirmed_points;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>()<sp/>==<sp/>align_params.confirmed_type)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++confirmed_points;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ragged<sp/>vectors<sp/>are<sp/>not<sp/>allowed<sp/>to<sp/>use<sp/>too<sp/>many<sp/>already<sp/>used<sp/>points.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!align_params.ragged<sp/>||</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>confirmed_points<sp/>+<sp/>confirmed_points<sp/>&lt;<sp/>pt_count)<sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Confirming<sp/>tab<sp/>vector<sp/>of<sp/>%d<sp/>pts<sp/>starting<sp/>at<sp/>%d,%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pt_count,<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>());</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Flag<sp/>all<sp/>the<sp/>aligned<sp/>neighbours<sp/>as<sp/>confirmed<sp/>.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(it.mark_cycle_pt();<sp/>!it.cycled_list();<sp/>it.forward())<sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox<sp/>=<sp/>it.data();</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(align_params.right_tab)<sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a2a26da567144a5131817df4a23e9ec31" kindref="member">set_right_tab_type</ref>(align_params.confirmed_type);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a098a0c7864a31569db4c32e32f54504c" kindref="member">set_left_tab_type</ref>(align_params.confirmed_type);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1a2e753aa9943276301d68e9f9cad99620" kindref="member">print</ref>();</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>make<sp/>the<sp/>vector<sp/>and<sp/>return<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>TabVector*<sp/>result<sp/>=<sp/><ref refid="classtesseract_1_1_tab_vector_1a66c3cdb82a3378aba8c0838d4fb64805" kindref="member">TabVector::FitVector</ref>(align_params.alignment,</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>align_params.vertical,</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_start_y,<sp/>ext_end_y,</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;good_points,</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vertical_x,<sp/>vertical_y);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>result-&gt;set_intersects_other_lines(at_least_2_crossings);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Box<sp/>was<sp/>%d,<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>());</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result-&gt;Print(</highlight><highlight class="stringliteral">&quot;After<sp/>fitting&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Ragged<sp/>tab<sp/>used<sp/>too<sp/>many<sp/>used<sp/>points:<sp/>%d<sp/>out<sp/>of<sp/>%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>confirmed_points,<sp/>pt_count);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Tab<sp/>vector<sp/>failed<sp/>basic<sp/>tests:<sp/>pt<sp/>count<sp/>%d<sp/>vs<sp/>min<sp/>%d,<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;length<sp/>%d<sp/>vs<sp/>min<sp/>%d,<sp/>min<sp/>grad<sp/>%g\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pt_count,<sp/>align_params.min_points,<sp/>end_y<sp/>-<sp/>start_y,</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>align_params.min_length,<sp/>abs(end_x<sp/>-<sp/>start_x)<sp/>*<sp/>kMinTabGradient);</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Find<sp/>a<sp/>set<sp/>of<sp/>blobs<sp/>that<sp/>are<sp/>aligned<sp/>in<sp/>the<sp/>given<sp/>vertical</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight><highlight class="comment">//<sp/>direction<sp/>with<sp/>the<sp/>given<sp/>blob.<sp/>Returns<sp/>a<sp/>list<sp/>of<sp/>aligned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight><highlight class="comment">//<sp/>blobs<sp/>and<sp/>the<sp/>number<sp/>in<sp/>the<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight><highlight class="comment">//<sp/>For<sp/>other<sp/>parameters<sp/>see<sp/>FindAlignedBlob<sp/>below.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>AlignedBlob::AlignTabs(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AlignedBlobParams&amp;<sp/>params,</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>top_to_bottom,<sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>bbox,</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BLOBNBOX_CLIST*<sp/>good_points,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>end_y)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ptcount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/>BLOBNBOX_C_IT<sp/>it(good_points);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>debug<sp/>=<sp/><ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>());</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Starting<sp/>alignment<sp/>run<sp/>at<sp/>blob:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>box.<ref refid="class_t_b_o_x_1a2e753aa9943276301d68e9f9cad99620" kindref="member">print</ref>();</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x_start<sp/>=<sp/>params.right_tab<sp/>?<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>:<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(bbox<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>the<sp/>blob<sp/>to<sp/>the<sp/>list<sp/>if<sp/>the<sp/>appropriate<sp/>side<sp/>is<sp/>a<sp/>tab<sp/>candidate,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>if<sp/>we<sp/>are<sp/>working<sp/>on<sp/>a<sp/>ragged<sp/>tab.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cc" kindref="member">TabType</ref><sp/>type<sp/>=<sp/>params.right_tab<sp/>?<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>()</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>();</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((type<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccaddba1c39549497adfc655e5e9a817dec" kindref="member">TT_NONE</ref><sp/>&amp;&amp;<sp/>type<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca0d571d70d55bfdb99070e2ee2d6e1c7f" kindref="member">TT_MAYBE_RAGGED</ref>)<sp/>||<sp/>params.ragged)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(it.empty()<sp/>||<sp/>it.data()<sp/>!=<sp/>bbox))<sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top_to_bottom)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it.add_before_then_move(bbox);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it.add_after_then_move(bbox);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++ptcount;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>next<sp/>blob<sp/>that<sp/>is<sp/>aligned<sp/>with<sp/>the<sp/>current<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FindAlignedBlob<sp/>guarantees<sp/>that<sp/>forward<sp/>progress<sp/>will<sp/>be<sp/>made<sp/>in<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>top_to_bottom<sp/>direction,<sp/>and<sp/>therefore<sp/>eventually<sp/>it<sp/>will<sp/>return<sp/>NULL,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>making<sp/>this<sp/>while<sp/>(bbox<sp/>!=<sp/>NULL)<sp/>loop<sp/>safe.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>bbox<sp/>=<sp/>FindAlignedBlob(params,<sp/>top_to_bottom,<sp/>bbox,<sp/>x_start,<sp/>end_y);</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bbox<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!params.ragged)</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_start<sp/>=<sp/>params.right_tab<sp/>?<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>:<sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Alignment<sp/>run<sp/>ended<sp/>with<sp/>%d<sp/>pts<sp/>at<sp/>blob:&quot;</highlight><highlight class="normal">,<sp/>ptcount);</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>box.<ref refid="class_t_b_o_x_1a2e753aa9943276301d68e9f9cad99620" kindref="member">print</ref>();</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ptcount;</highlight></codeline>
<codeline lineno="378"><highlight class="normal">}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Search<sp/>vertically<sp/>for<sp/>a<sp/>blob<sp/>that<sp/>is<sp/>aligned<sp/>with<sp/>the<sp/>input<sp/>bbox.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>search<sp/>parameters<sp/>are<sp/>determined<sp/>by<sp/>AlignedBlobParams.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight><highlight class="comment">//<sp/>top_to_bottom<sp/>tells<sp/>whether<sp/>to<sp/>search<sp/>down<sp/>or<sp/>up.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>return<sp/>value<sp/>is<sp/>NULL<sp/>if<sp/>nothing<sp/>was<sp/>found<sp/>in<sp/>the<sp/>search<sp/>box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight><highlight class="comment">//<sp/>or<sp/>if<sp/>a<sp/>blob<sp/>was<sp/>found<sp/>in<sp/>the<sp/>gutter.<sp/>On<sp/>a<sp/>NULL<sp/>return,<sp/>end_y</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="comment">//<sp/>is<sp/>set<sp/>to<sp/>the<sp/>edge<sp/>of<sp/>the<sp/>search<sp/>box<sp/>or<sp/>the<sp/>leading<sp/>edge<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="comment">//<sp/>gutter<sp/>blob<sp/>if<sp/>one<sp/>was<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>AlignedBlob::FindAlignedBlob(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AlignedBlobParams&amp;<sp/>p,</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>top_to_bottom,<sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>bbox,</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x_start,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>end_y)<sp/>{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>box<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>are<sp/>separator<sp/>lines,<sp/>get<sp/>the<sp/>column<sp/>edges.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left_column_edge<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1ac149d9356065f3836019b2da3e311740" kindref="member">left_rule</ref>();</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>right_column_edge<sp/>=<sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a9b323abfc9e7e03a3edccab8f725315b" kindref="member">right_rule</ref>();</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>start_y<sp/>is<sp/>used<sp/>to<sp/>guarantee<sp/>that<sp/>forward<sp/>progress<sp/>is<sp/>made<sp/>and<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>search<sp/>does<sp/>not<sp/>go<sp/>into<sp/>an<sp/>infinite<sp/>loop.<sp/>New<sp/>blobs<sp/>must<sp/>extend<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>line<sp/>beyond<sp/>start_y.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_y<sp/>=<sp/>top_to_bottom<sp/>?<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>()<sp/>:<sp/>box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>();</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))<sp/>{</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Column<sp/>edges<sp/>for<sp/>blob<sp/>at<sp/>(%d,%d)-&gt;(%d,%d)<sp/>are<sp/>[%d,<sp/>%d]\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>(),<sp/>box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>(),</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>left_column_edge,<sp/>right_column_edge);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>skew<sp/>tolerance.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>skew_tolerance<sp/>=<sp/>p.max_v_gap<sp/>/<sp/><ref refid="namespacetesseract_1aa2907c990fec72f4cfd40254643178e3" kindref="member">kMaxSkewFactor</ref>;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>xmin<sp/>and<sp/>xmax<sp/>of<sp/>the<sp/>search<sp/>box<sp/>so<sp/>that<sp/>it<sp/>contains</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>possibly<sp/>relevant<sp/>boxes<sp/>upto<sp/>p.max_v_gap<sp/>above<sp/>or<sp/>below<sp/>accoording</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>top_to_bottom.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Start<sp/>with<sp/>a<sp/>notion<sp/>of<sp/>vertical<sp/>with<sp/>the<sp/>current<sp/>estimate.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x2<sp/>=<sp/>(p.max_v_gap<sp/>*<sp/>p.vertical.x()<sp/>+<sp/>p.vertical.y()/2)<sp/>/<sp/>p.vertical.y();</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top_to_bottom)<sp/>{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>x2<sp/>=<sp/>x_start<sp/>-<sp/>x2;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>*end_y<sp/>=<sp/>start_y<sp/>-<sp/>p.max_v_gap;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>x2<sp/>=<sp/>x_start<sp/>+<sp/>x2;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>*end_y<sp/>=<sp/>start_y<sp/>+<sp/>p.max_v_gap;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Expand<sp/>the<sp/>box<sp/>by<sp/>an<sp/>additional<sp/>skew<sp/>tolerance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>xmin<sp/>=<sp/><ref refid="ndminx_8h_1a74e75242132eaabbc1c512488a135926" kindref="member">MIN</ref>(x_start,<sp/>x2)<sp/>-<sp/>skew_tolerance;</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>xmax<sp/>=<sp/><ref refid="ndminx_8h_1aacc3ee1a7f283f8ef65cea31f4436a95" kindref="member">MAX</ref>(x_start,<sp/>x2)<sp/>+<sp/>skew_tolerance;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>add<sp/>direction-specific<sp/>tolerances.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p.right_tab)<sp/>{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>xmax<sp/>+=<sp/>p.min_gutter;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/>xmin<sp/>-=<sp/>p.l_align_tolerance;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>xmax<sp/>+=<sp/>p.r_align_tolerance;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>xmin<sp/>-=<sp/>p.min_gutter;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>a<sp/>vertical<sp/>search<sp/>for<sp/>an<sp/>aligned<sp/>blob.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/>GridSearch&lt;BLOBNBOX,<sp/>BLOBNBOX_CLIST,<sp/>BLOBNBOX_C_IT&gt;<sp/>vsearch(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Starting<sp/>%s<sp/>%s<sp/>search<sp/>at<sp/>%d-%d,%d,<sp/>search_size=%d,<sp/>gutter=%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.ragged<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;Ragged&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;Aligned&quot;</highlight><highlight class="normal">,<sp/>p.right_tab<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;Right&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;Left&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xmin,<sp/>xmax,<sp/>start_y,<sp/>p.max_v_gap,<sp/>p.min_gutter);</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/>vsearch.StartVerticalSearch(xmin,<sp/>xmax,<sp/>start_y);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>result<sp/>stores<sp/>the<sp/>best<sp/>real<sp/>return<sp/>value.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>result<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>backup_result<sp/>is<sp/>not<sp/>a<sp/>tab<sp/>candidate<sp/>and<sp/>can<sp/>be<sp/>used<sp/>if<sp/>no</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>real<sp/>tab<sp/>candidate<sp/>result<sp/>is<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>backup_result<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>neighbour<sp/>is<sp/>the<sp/>blob<sp/>that<sp/>is<sp/>currently<sp/>being<sp/>investigated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>*<sp/>neighbour<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((neighbour<sp/>=<sp/>vsearch.NextVerticalSearch(top_to_bottom))<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(neighbour<sp/>==<sp/>bbox)</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>nbox<sp/>=<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_y<sp/>=<sp/>(nbox.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>()<sp/>+<sp/>nbox.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>())<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((!top_to_bottom<sp/>&amp;&amp;<sp/>n_y<sp/>&gt;<sp/>start_y<sp/>+<sp/>p.max_v_gap)<sp/>||</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(top_to_bottom<sp/>&amp;&amp;<sp/>n_y<sp/>&lt;<sp/>start_y<sp/>-<sp/>p.max_v_gap))<sp/>{</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Neighbour<sp/>too<sp/>far<sp/>at<sp/>(%d,%d)-&gt;(%d,%d)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nbox.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>());</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/><sp/></highlight><highlight class="comment">//<sp/>Gone<sp/>far<sp/>enough.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>is<sp/>CRITICAL<sp/>to<sp/>ensure<sp/>that<sp/>forward<sp/>progress<sp/>is<sp/>made,<sp/>(strictly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in/decreasing<sp/>n_y)<sp/>or<sp/>the<sp/>caller<sp/>could<sp/>loop<sp/>infinitely,<sp/>while</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>waiting<sp/>for<sp/>a<sp/>sequence<sp/>of<sp/>blobs<sp/>in<sp/>a<sp/>line<sp/>to<sp/>end.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NextVerticalSearch<sp/>alone<sp/>does<sp/>not<sp/>guarantee<sp/>this,<sp/>as<sp/>there<sp/>may<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>more<sp/>than<sp/>one<sp/>blob<sp/>in<sp/>a<sp/>grid<sp/>cell.<sp/>See<sp/>comment<sp/>in<sp/>AlignTabs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((n_y<sp/>&lt;<sp/>start_y)<sp/>!=<sp/>top_to_bottom<sp/>||<sp/>nbox.<ref refid="class_t_b_o_x_1a7ae8e4b8b3af5b23db3d6c959249064c" kindref="member">y_overlap</ref>(box))</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>look<sp/>in<sp/>the<sp/>required<sp/>direction.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>result-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1a98e0f9a8622eec475ee93b260c57c7ab" kindref="member">y_gap</ref>(nbox)<sp/>&gt;<sp/><ref refid="classtesseract_1_1_grid_base_1afff2cee730084711205977b5fcb4901e" kindref="member">gridsize</ref>())</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;<sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>result<sp/>is<sp/>clear.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(backup_result<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>p.ragged<sp/>&amp;&amp;<sp/>result<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>backup_result-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1a98e0f9a8622eec475ee93b260c57c7ab" kindref="member">y_gap</ref>(nbox)<sp/>&gt;<sp/><ref refid="classtesseract_1_1_grid_base_1afff2cee730084711205977b5fcb4901e" kindref="member">gridsize</ref>())</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>backup_result;<sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>result<sp/>is<sp/>clear.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>neighbouring<sp/>blob<sp/>is<sp/>the<sp/>wrong<sp/>side<sp/>of<sp/>a<sp/>separator<sp/>line,<sp/>then<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;doesn&apos;t<sp/>exist&quot;<sp/>as<sp/>far<sp/>as<sp/>we<sp/>are<sp/>concerned.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x_at_n_y<sp/>=<sp/>x_start<sp/>+<sp/>(n_y<sp/>-<sp/>start_y)<sp/>*<sp/>p.vertical.x()<sp/>/<sp/>p.vertical.y();</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(x_at_n_y<sp/>&lt;<sp/>neighbour-&gt;left_crossing_rule()<sp/>||</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_at_n_y<sp/>&gt;<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a2f061c25817d44575426977155555fb7" kindref="member">right_crossing_rule</ref>())</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/><sp/></highlight><highlight class="comment">//<sp/>Separator<sp/>line<sp/>in<sp/>the<sp/>way.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_left<sp/>=<sp/>nbox.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_right<sp/>=<sp/>nbox.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>();</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_x<sp/>=<sp/>p.right_tab<sp/>?<sp/>n_right<sp/>:<sp/>n_left;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;neighbour<sp/>at<sp/>(%d,%d)-&gt;(%d,%d),<sp/>n_x=%d,<sp/>n_y=%d,<sp/>xatn=%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nbox.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>(),<sp/>nbox.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>(),</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_x,<sp/>n_y,<sp/>x_at_n_y);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p.right_tab<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_left<sp/>&lt;<sp/>x_at_n_y<sp/>+<sp/>p.min_gutter<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_right<sp/>&gt;<sp/>x_at_n_y<sp/>+<sp/>p.r_align_tolerance<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(p.ragged<sp/>||<sp/>n_left<sp/>&lt;<sp/>x_at_n_y<sp/>+<sp/>p.gutter_fraction<sp/>*<sp/>nbox.<ref refid="class_t_b_o_x_1a8379d4bbc72bdbb1f069fc14790e632d" kindref="member">height</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>the<sp/>gutter<sp/>so<sp/>end<sp/>of<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>()<sp/>&gt;=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccad0945333210420da84a7617b5788f246" kindref="member">TT_MAYBE_ALIGNED</ref>)</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a2a26da567144a5131817df4a23e9ec31" kindref="member">set_right_tab_type</ref>(<ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca78f911fabc911af76c04ea289a990ac7" kindref="member">TT_DELETED</ref>);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*end_y<sp/>=<sp/>top_to_bottom<sp/>?<sp/>nbox.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>()<sp/>:<sp/>nbox.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>();</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;gutter\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!p.right_tab<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_left<sp/>&lt;<sp/>x_at_n_y<sp/>-<sp/>p.l_align_tolerance<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_right<sp/>&gt;<sp/>x_at_n_y<sp/>-<sp/>p.min_gutter<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(p.ragged<sp/>||<sp/>n_right<sp/>&gt;<sp/>x_at_n_y<sp/>-<sp/>p.gutter_fraction<sp/>*<sp/>nbox.<ref refid="class_t_b_o_x_1a8379d4bbc72bdbb1f069fc14790e632d" kindref="member">height</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>the<sp/>gutter<sp/>so<sp/>end<sp/>of<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>()<sp/>&gt;=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccad0945333210420da84a7617b5788f246" kindref="member">TT_MAYBE_ALIGNED</ref>)</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bbox-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a098a0c7864a31569db4c32e32f54504c" kindref="member">set_left_tab_type</ref>(<ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca78f911fabc911af76c04ea289a990ac7" kindref="member">TT_DELETED</ref>);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*end_y<sp/>=<sp/>top_to_bottom<sp/>?<sp/>nbox.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>()<sp/>:<sp/>nbox.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>();</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;gutter\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((p.right_tab<sp/>&amp;&amp;<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a2d3bd49977c92a46d2cedfe410484732" kindref="member">leader_on_right</ref>())<sp/>||</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!p.right_tab<sp/>&amp;&amp;<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a2ac782044b1e472f8ee6bfc9c0072bc9" kindref="member">leader_on_left</ref>()))</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/><sp/></highlight><highlight class="comment">//<sp/>Neigbours<sp/>of<sp/>leaders<sp/>are<sp/>not<sp/>allowed<sp/>to<sp/>be<sp/>used.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n_x<sp/>&lt;=<sp/>x_at_n_y<sp/>+<sp/>p.r_align_tolerance<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_x<sp/>&gt;=<sp/>x_at_n_y<sp/>-<sp/>p.l_align_tolerance)<sp/>{</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Aligned<sp/>so<sp/>keep<sp/>it.<sp/>If<sp/>it<sp/>is<sp/>a<sp/>marked<sp/>tab<sp/>save<sp/>it<sp/>as<sp/>result,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>otherwise<sp/>keep<sp/>it<sp/>as<sp/>backup_result<sp/>to<sp/>return<sp/>in<sp/>case<sp/>of<sp/>later<sp/>failure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;aligned,<sp/>seeking%d,<sp/>l=%d,<sp/>r=%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.right_tab,<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>(),</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>());</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cc" kindref="member">TabType</ref><sp/>n_type<sp/>=<sp/>p.right_tab<sp/>?<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a13607f52743a9ef3ec1f9d452aca0df5" kindref="member">right_tab_type</ref>()</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>neighbour-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a8b16d77deb75ed8aa2ff9d6be9462ec1" kindref="member">left_tab_type</ref>();</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n_type<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12ccaddba1c39549497adfc655e5e9a817dec" kindref="member">TT_NONE</ref><sp/>&amp;&amp;<sp/>(p.ragged<sp/>||<sp/>n_type<sp/>!=<sp/><ref refid="blobbox_8h_1a6d0b33e703e1291d0b60d4fe5a5e12cca0d571d70d55bfdb99070e2ee2d6e1c7f" kindref="member">TT_MAYBE_RAGGED</ref>))<sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>neighbour;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Keep<sp/>the<sp/>closest<sp/>neighbour<sp/>by<sp/>Euclidean<sp/>distance.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>prevents<sp/>it<sp/>from<sp/>picking<sp/>a<sp/>tab<sp/>blob<sp/>in<sp/>another<sp/>column.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>old_box<sp/>=<sp/>result-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x_diff<sp/>=<sp/>p.right_tab<sp/>?<sp/>old_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>:<sp/>old_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>();</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_diff<sp/>-=<sp/>x_at_n_y;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y_diff<sp/>=<sp/>(old_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>()<sp/>+<sp/>old_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>())<sp/>/<sp/>2<sp/>-<sp/>start_y;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>old_dist<sp/>=<sp/>x_diff<sp/>*<sp/>x_diff<sp/>+<sp/>y_diff<sp/>*<sp/>y_diff;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_diff<sp/>=<sp/>n_x<sp/>-<sp/>x_at_n_y;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_diff<sp/>=<sp/>n_y<sp/>-<sp/>start_y;</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>new_dist<sp/>=<sp/>x_diff<sp/>*<sp/>x_diff<sp/>+<sp/>y_diff<sp/>*<sp/>y_diff;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_dist<sp/>&lt;<sp/>old_dist)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>neighbour;</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(backup_result<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Backup\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>backup_result<sp/>=<sp/>neighbour;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>backup_box<sp/>=<sp/>backup_result-&gt;<ref refid="class_b_l_o_b_n_b_o_x_1a7b97b8bc16b1473a28f9c44011522f4e" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((p.right_tab<sp/>&amp;&amp;<sp/>backup_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>()<sp/>&lt;<sp/>nbox.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref>())<sp/>||</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!p.right_tab<sp/>&amp;&amp;<sp/>backup_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>()<sp/>&gt;<sp/>nbox.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_aligned_blob_1a357ff9e1d9bac2b1d88fb0d335fa7f3e" kindref="member">WithinTestRegion</ref>(2,<sp/>x_start,<sp/>start_y))</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Better<sp/>backup\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>backup_result<sp/>=<sp/>neighbour;</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>?<sp/>result<sp/>:<sp/>backup_result;</highlight></codeline>
<codeline lineno="550"><highlight class="normal">}</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/textord/alignedblob.cpp"/>
  </compounddef>
</doxygen>
