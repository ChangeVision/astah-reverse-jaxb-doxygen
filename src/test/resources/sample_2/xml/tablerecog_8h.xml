<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="tablerecog_8h" kind="file">
    <compoundname>tablerecog.h</compoundname>
    <includes refid="colpartitiongrid_8h" local="yes">colpartitiongrid.h</includes>
    <includes refid="genericvector_8h" local="yes">genericvector.h</includes>
    <includedby refid="tablefind_8cpp" local="yes">textord/tablefind.cpp</includedby>
    <includedby refid="tablerecog_8cpp" local="yes">textord/tablerecog.cpp</includedby>
    <incdepgraph>
      <node id="39674">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="39641" relation="include">
        </childnode>
        <childnode refid="39675" relation="include">
        </childnode>
        <childnode refid="39676" relation="include">
        </childnode>
        <childnode refid="39681" relation="include">
        </childnode>
        <childnode refid="39688" relation="include">
        </childnode>
      </node>
      <node id="39691">
        <label>tabvector.h</label>
        <link refid="tabvector_8h"/>
        <childnode refid="39692" relation="include">
        </childnode>
        <childnode refid="39641" relation="include">
        </childnode>
        <childnode refid="39658" relation="include">
        </childnode>
        <childnode refid="39675" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39640" relation="include">
        </childnode>
      </node>
      <node id="39663">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="39640">
        <label>bbgrid.h</label>
        <link refid="bbgrid_8h"/>
        <childnode refid="39641" relation="include">
        </childnode>
        <childnode refid="39654" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
        <childnode refid="39672" relation="include">
        </childnode>
      </node>
      <node id="39688">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39643" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
      </node>
      <node id="39647">
        <label>stdlib.h</label>
      </node>
      <node id="39644">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="39645" relation="include">
        </childnode>
      </node>
      <node id="39638">
        <label>textord/tablerecog.h</label>
        <link refid="tablerecog.h"/>
        <childnode refid="39639" relation="include">
        </childnode>
        <childnode refid="39667" relation="include">
        </childnode>
      </node>
      <node id="39671">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="39651" relation="include">
        </childnode>
      </node>
      <node id="39672">
        <label>allheaders.h</label>
      </node>
      <node id="39664">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
      </node>
      <node id="39646">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="39647" relation="include">
        </childnode>
        <childnode refid="39648" relation="include">
        </childnode>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39649" relation="include">
        </childnode>
        <childnode refid="39651" relation="include">
        </childnode>
        <childnode refid="39652" relation="include">
        </childnode>
      </node>
      <node id="39641">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39643" relation="include">
        </childnode>
        <childnode refid="39646" relation="include">
        </childnode>
        <childnode refid="39653" relation="include">
        </childnode>
      </node>
      <node id="39677">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="39654" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
      </node>
      <node id="39650">
        <label>stddef.h</label>
      </node>
      <node id="39651">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="39643" relation="include">
        </childnode>
      </node>
      <node id="39686">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="39684" relation="include">
        </childnode>
        <childnode refid="39658" relation="include">
        </childnode>
        <childnode refid="39656" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
        <childnode refid="39687" relation="include">
        </childnode>
      </node>
      <node id="39645">
        <label>limits.h</label>
      </node>
      <node id="39690">
        <label>alignedblob.h</label>
        <link refid="alignedblob_8h"/>
        <childnode refid="39640" relation="include">
        </childnode>
        <childnode refid="39674" relation="include">
        </childnode>
        <childnode refid="39670" relation="include">
        </childnode>
        <childnode refid="39691" relation="include">
        </childnode>
      </node>
      <node id="39659">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="39657" relation="include">
        </childnode>
      </node>
      <node id="39660">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="39656" relation="include">
        </childnode>
      </node>
      <node id="39675">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39643" relation="include">
        </childnode>
        <childnode refid="39646" relation="include">
        </childnode>
        <childnode refid="39653" relation="include">
        </childnode>
      </node>
      <node id="39648">
        <label>string.h</label>
      </node>
      <node id="39662">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="39657" relation="include">
        </childnode>
        <childnode refid="39656" relation="include">
        </childnode>
        <childnode refid="39663" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
        <childnode refid="39665" relation="include">
        </childnode>
      </node>
      <node id="39661">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="39643" relation="include">
        </childnode>
      </node>
      <node id="39693">
        <label>linefind.h</label>
        <link refid="linefind_8h"/>
      </node>
      <node id="39668">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="39643" relation="include">
        </childnode>
      </node>
      <node id="39639">
        <label>colpartitiongrid.h</label>
        <link refid="colpartitiongrid_8h"/>
        <childnode refid="39640" relation="include">
        </childnode>
        <childnode refid="39673" relation="include">
        </childnode>
        <childnode refid="39694" relation="include">
        </childnode>
      </node>
      <node id="39654">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="39655" relation="include">
        </childnode>
        <childnode refid="39660" relation="include">
        </childnode>
        <childnode refid="39661" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39671" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
      </node>
      <node id="39676">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="39666" relation="include">
        </childnode>
        <childnode refid="39661" relation="include">
        </childnode>
        <childnode refid="39675" relation="include">
        </childnode>
        <childnode refid="39670" relation="include">
        </childnode>
        <childnode refid="39671" relation="include">
        </childnode>
        <childnode refid="39677" relation="include">
        </childnode>
        <childnode refid="39678" relation="include">
        </childnode>
      </node>
      <node id="39678">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39679" relation="include">
        </childnode>
        <childnode refid="39676" relation="include">
        </childnode>
      </node>
      <node id="39652">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="39651" relation="include">
        </childnode>
      </node>
      <node id="39689">
        <label>tabfind.h</label>
        <link refid="tabfind_8h"/>
        <childnode refid="39690" relation="include">
        </childnode>
        <childnode refid="39668" relation="include">
        </childnode>
        <childnode refid="39691" relation="include">
        </childnode>
        <childnode refid="39693" relation="include">
        </childnode>
      </node>
      <node id="39657">
        <label>math.h</label>
      </node>
      <node id="39655">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="39656" relation="include">
        </childnode>
        <childnode refid="39660" relation="include">
        </childnode>
      </node>
      <node id="39653">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="39651" relation="include">
        </childnode>
      </node>
      <node id="39680">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="39656" relation="include">
        </childnode>
      </node>
      <node id="39684">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="39681">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="39682" relation="include">
        </childnode>
        <childnode refid="39683" relation="include">
        </childnode>
        <childnode refid="39678" relation="include">
        </childnode>
        <childnode refid="39685" relation="include">
        </childnode>
      </node>
      <node id="39666">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39667" relation="include">
        </childnode>
        <childnode refid="39670" relation="include">
        </childnode>
      </node>
      <node id="39667">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39647" relation="include">
        </childnode>
        <childnode refid="39668" relation="include">
        </childnode>
        <childnode refid="39651" relation="include">
        </childnode>
        <childnode refid="39669" relation="include">
        </childnode>
        <childnode refid="39663" relation="include">
        </childnode>
      </node>
      <node id="39649">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="39650" relation="include">
        </childnode>
        <childnode refid="39643" relation="include">
        </childnode>
      </node>
      <node id="39692">
        <label>blobgrid.h</label>
        <link refid="blobgrid_8h"/>
        <childnode refid="39640" relation="include">
        </childnode>
        <childnode refid="39674" relation="include">
        </childnode>
      </node>
      <node id="39683">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="39684" relation="include">
        </childnode>
        <childnode refid="39658" relation="include">
        </childnode>
        <childnode refid="39670" relation="include">
        </childnode>
      </node>
      <node id="39658">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39643" relation="include">
        </childnode>
        <childnode refid="39646" relation="include">
        </childnode>
        <childnode refid="39653" relation="include">
        </childnode>
      </node>
      <node id="39673">
        <label>colpartition.h</label>
        <link refid="colpartition_8h"/>
        <childnode refid="39640" relation="include">
        </childnode>
        <childnode refid="39674" relation="include">
        </childnode>
        <childnode refid="39663" relation="include">
        </childnode>
        <childnode refid="39681" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39664" relation="include">
        </childnode>
        <childnode refid="39689" relation="include">
        </childnode>
        <childnode refid="39691" relation="include">
        </childnode>
      </node>
      <node id="39656">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39657" relation="include">
        </childnode>
        <childnode refid="39658" relation="include">
        </childnode>
        <childnode refid="39659" relation="include">
        </childnode>
      </node>
      <node id="39682">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="39649" relation="include">
        </childnode>
      </node>
      <node id="39665">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="39666" relation="include">
        </childnode>
      </node>
      <node id="39687">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="39643">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="39644" relation="include">
        </childnode>
      </node>
      <node id="39685">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="39641" relation="include">
        </childnode>
        <childnode refid="39682" relation="include">
        </childnode>
        <childnode refid="39670" relation="include">
        </childnode>
        <childnode refid="39686" relation="include">
        </childnode>
        <childnode refid="39687" relation="include">
        </childnode>
      </node>
      <node id="39694">
        <label>colpartitionset.h</label>
        <link refid="colpartitionset_8h"/>
        <childnode refid="39673" relation="include">
        </childnode>
        <childnode refid="39667" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
        <childnode refid="39691" relation="include">
        </childnode>
      </node>
      <node id="39642">
        <label>stdio.h</label>
      </node>
      <node id="39670">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39648" relation="include">
        </childnode>
        <childnode refid="39644" relation="include">
        </childnode>
        <childnode refid="39649" relation="include">
        </childnode>
      </node>
      <node id="39669">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="39642" relation="include">
        </childnode>
        <childnode refid="39648" relation="include">
        </childnode>
      </node>
      <node id="39679">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="39680" relation="include">
        </childnode>
        <childnode refid="39646" relation="include">
        </childnode>
        <childnode refid="39649" relation="include">
        </childnode>
        <childnode refid="39662" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="39695">
        <label>textord/tablerecog.h</label>
        <link refid="tablerecog.h"/>
        <childnode refid="39696" relation="include">
        </childnode>
        <childnode refid="39697" relation="include">
        </childnode>
      </node>
      <node id="39696">
        <label>textord/tablefind.cpp</label>
        <link refid="tablefind_8cpp"/>
      </node>
      <node id="39697">
        <label>textord/tablerecog.cpp</label>
        <link refid="tablerecog_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="classtesseract_1_1_structured_table" prot="public">tesseract::StructuredTable</innerclass>
    <innerclass refid="classtesseract_1_1_table_recognizer" prot="public">tesseract::TableRecognizer</innerclass>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tablerecog.h</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Description:<sp/>Functions<sp/>to<sp/>detect<sp/>structure<sp/>of<sp/>tables.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/><sp/><sp/><sp/>Nicholas<sp/>Beato</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Created:<sp/><sp/><sp/>Aug<sp/>17,<sp/>2010</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(C)<sp/>Copyright<sp/>2010,<sp/>Google<sp/>Inc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//</highlight></codeline>
<codeline lineno="19"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>TABLERECOG_H_</highlight></codeline>
<codeline lineno="21"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>TABLERECOG_H_</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="colpartitiongrid_8h" kindref="compound">colpartitiongrid.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="genericvector_8h" kindref="compound">genericvector.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="comment">//<sp/>There<sp/>are<sp/>2<sp/>classes<sp/>in<sp/>this<sp/>file.<sp/>They<sp/>have<sp/>2<sp/>different<sp/>purposes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>-<sp/>StructuredTable<sp/>contains<sp/>the<sp/>methods<sp/>to<sp/>find<sp/>the<sp/>structure<sp/>given</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>a<sp/>specific<sp/>bounding<sp/>box<sp/>and<sp/>grow<sp/>that<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>-<sp/>TableRecognizer<sp/>contains<sp/>the<sp/>methods<sp/>to<sp/>adjust<sp/>the<sp/>possible<sp/>positions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>of<sp/>a<sp/>table<sp/>without<sp/>worrying<sp/>about<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">//<sp/>To<sp/>use<sp/>these<sp/>classes,<sp/>the<sp/>assumption<sp/>is<sp/>that<sp/>the<sp/>TableFinder<sp/>will</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>have<sp/>a<sp/>guess<sp/>of<sp/>the<sp/>location<sp/>of<sp/>a<sp/>table<sp/>(or<sp/>possibly<sp/>over/undersegmented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//<sp/>tables).<sp/>The<sp/>TableRecognizer<sp/>is<sp/>responsible<sp/>for<sp/>finding<sp/>the<sp/>table<sp/>boundaries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="comment">//<sp/>at<sp/>a<sp/>high<sp/>level.<sp/>The<sp/>StructuredTable<sp/>class<sp/>is<sp/>responsible<sp/>for<sp/>determining</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>structure<sp/>of<sp/>the<sp/>table<sp/>and<sp/>trying<sp/>to<sp/>maximize<sp/>its<sp/>bounds<sp/>while<sp/>retaining</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(The<sp/>latter<sp/>part<sp/>is<sp/>not<sp/>implemented<sp/>yet,<sp/>but<sp/>that<sp/>was<sp/>the<sp/>goal).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">//<sp/>While<sp/>on<sp/>the<sp/>boundary<sp/>discussion,<sp/>keep<sp/>in<sp/>mind<sp/>that<sp/>this<sp/>is<sp/>a<sp/>first<sp/>pass.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">//<sp/>There<sp/>should<sp/>eventually<sp/>be<sp/>some<sp/>things<sp/>like<sp/>internal<sp/>structure<sp/>checks,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and,<sp/>more<sp/>importantly,<sp/>surrounding<sp/>text<sp/>flow<sp/>checks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Usage:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>StructuredTable<sp/>class<sp/>contains<sp/>methods<sp/>to<sp/>query<sp/>a<sp/>potential<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">//<sp/>It<sp/>has<sp/>functions<sp/>to<sp/>find<sp/>structure,<sp/>count<sp/>rows,<sp/>find<sp/>ColPartitions<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">//<sp/>intersect<sp/>gridlines,<sp/>etc.<sp/>It<sp/>is<sp/>not<sp/>meant<sp/>to<sp/>blindly<sp/>find<sp/>a<sp/>table.<sp/>It</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">//<sp/>is<sp/>meant<sp/>to<sp/>start<sp/>with<sp/>a<sp/>known<sp/>table<sp/>location<sp/>and<sp/>enhance<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Usage:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>ColPartitionGrid<sp/>text_grid,<sp/>line_grid;<sp/><sp/>//<sp/>init</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>TBOX<sp/>table_box;<sp/><sp/>//<sp/>known<sp/>location<sp/>of<sp/>table<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>StructuredTable<sp/>table;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>table.Init();<sp/><sp/>//<sp/>construction<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>table.set_text_grid(/*<sp/>text<sp/>*/);<sp/><sp/>//<sp/>These<sp/>2<sp/>grids<sp/>can<sp/>be<sp/>the<sp/>same!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>table.set_line_grid(/*<sp/>lines<sp/>*/);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>table.set_min_text_height(10);<sp/><sp/><sp/><sp/>//<sp/>Filter<sp/>vertical<sp/>and<sp/>tall<sp/>text.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>//<sp/>IMPORTANT!<sp/>The<sp/>table<sp/>needs<sp/>to<sp/>be<sp/>told<sp/>where<sp/>it<sp/>is!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>table.set_bounding_box(table_box);<sp/><sp/>//<sp/>Set<sp/>initial<sp/>table<sp/>location.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>if<sp/>(table.FindWhitespacedStructure())<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>process<sp/>table</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>table.column_count();<sp/><sp/>//<sp/>number<sp/>of<sp/>columns</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>table.row_count();<sp/><sp/><sp/><sp/><sp/>//<sp/>number<sp/>of<sp/>rows</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>table.cells_count();<sp/><sp/><sp/>//<sp/>number<sp/>of<sp/>cells</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>table.bounding_box();<sp/><sp/>//<sp/>updated<sp/>bounding<sp/>box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>etc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="classtesseract_1_1_structured_table" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtesseract_1_1_structured_table" kindref="compound">StructuredTable</ref><sp/>{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_structured_table_1a61e7479fd0274d93178161ff1b90f12d" kindref="member">StructuredTable</ref>();</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_structured_table_1a7b7955c72479ce32909b345c656415f5" kindref="member">~StructuredTable</ref>();</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialization<sp/>code.<sp/>Must<sp/>be<sp/>called<sp/>after<sp/>the<sp/>constructor.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a3dc40da641753dbaf7b8351f67b95ddb" kindref="member">Init</ref>();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Sets<sp/>the<sp/>grids<sp/>used<sp/>by<sp/>the<sp/>table.<sp/>These<sp/>can<sp/>be<sp/>changed<sp/>between</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>calls<sp/>to<sp/>Recognize.<sp/>They<sp/>are<sp/>treated<sp/>as<sp/>read-only<sp/>data.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ae525ff4858f6123817232f93ecc43476" kindref="member">set_text_grid</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>text);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a98ef5d31a061ce9b3091fb79f0191c69" kindref="member">set_line_grid</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>lines);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Filters<sp/>text<sp/>partitions<sp/>that<sp/>are<sp/>ridiculously<sp/>tall<sp/>to<sp/>prevent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>merging<sp/>rows.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a47a275de6919be20e719b704c45814f1" kindref="member">set_max_text_height</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Basic<sp/>accessors.<sp/>Some<sp/>are<sp/>treated<sp/>as<sp/>attributes<sp/>despite<sp/>having<sp/>indirect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>representation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a1507dc9a3a530f8819cfd18f3635cbf3" kindref="member">is_lined</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a5516d2be345fb1740fd35a4316da2072" kindref="member">row_count</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1aeefea2e84ee34a4b7495949e9d0dbede" kindref="member">column_count</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1aad8221b60221210d9cad2cede71d705e" kindref="member">cell_count</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a735232879bcc0cad741b02fee2c2e660" kindref="member">set_bounding_box</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>box);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/><ref refid="classtesseract_1_1_structured_table_1a3c7bee910fbd573f3999c58db9539c02" kindref="member">bounding_box</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1aeba605980cd361c291fc5cfb770c3efa" kindref="member">median_cell_height</ref>();</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a25242413ecf219632e47b776e91de532" kindref="member">median_cell_width</ref>();</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ae6f73aa2764c036433b2cca3c7c058b3" kindref="member">row_height</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a8b7c2dbdaac6a8a502de0badba4a4fd7" kindref="member">column_width</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>column)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a32b66cd4497a4126fcca80a5acd8da1c" kindref="member">space_above</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a75ce97ac260ae3697d22827e8108aa74" kindref="member">space_below</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Given<sp/>enough<sp/>horizontal<sp/>and<sp/>vertical<sp/>lines<sp/>in<sp/>a<sp/>region,<sp/>create<sp/>this<sp/>table</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>based<sp/>on<sp/>the<sp/>structure<sp/>given<sp/>by<sp/>the<sp/>lines.<sp/>Return<sp/>true<sp/>if<sp/>it<sp/>worked<sp/>out.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Code<sp/>assumes<sp/>the<sp/>lines<sp/>exist.<sp/>It<sp/>is<sp/>the<sp/>caller&apos;s<sp/>responsibility<sp/>to<sp/>check</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>lines<sp/>and<sp/>find<sp/>an<sp/>appropriate<sp/>bounding<sp/>box.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a918b3e568bf9c5518a61744b9e2903a9" kindref="member">FindLinedStructure</ref>();</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>main<sp/>subroutine<sp/>for<sp/>finding<sp/>generic<sp/>table<sp/>structure.<sp/>The<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>finds<sp/>the<sp/>grid<sp/>structure<sp/>in<sp/>the<sp/>given<sp/>box.<sp/>Returns<sp/>true<sp/>if<sp/>a<sp/>good<sp/>grid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>exists,<sp/>implying<sp/>that<sp/>&quot;this&quot;<sp/>table<sp/>is<sp/>valid.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a8931e5502d9bcccee24083f44f8262f3" kindref="member">FindWhitespacedStructure</ref>();</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>inserting<sp/>part<sp/>into<sp/>the<sp/>table<sp/>does<sp/>not<sp/>cause<sp/>any</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>cell<sp/>merges.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a3cb05866929df4ec8793b53fcd9ae0a8" kindref="member">DoesPartitionFit</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>&amp;<sp/>part)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Checks<sp/>if<sp/>a<sp/>sub-table<sp/>has<sp/>multiple<sp/>data<sp/>cells<sp/>filled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a298934f8abccabe361df8b6a991b5c97" kindref="member">CountFilledCells</ref>();</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ab309005ab9016419f2d4af29e524f945" kindref="member">CountFilledCellsInRow</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a7fa7ba1ae2c09eae1a43476bcb6dbb81" kindref="member">CountFilledCellsInColumn</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>column);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a298934f8abccabe361df8b6a991b5c97" kindref="member">CountFilledCells</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row_start,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row_end,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>column_start,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>column_end);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Makes<sp/>sure<sp/>that<sp/>at<sp/>least<sp/>one<sp/>cell<sp/>in<sp/>a<sp/>row<sp/>has<sp/>substantial<sp/>area<sp/>filled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>can<sp/>filter<sp/>out<sp/>large<sp/>whitespace<sp/>caused<sp/>by<sp/>growing<sp/>tables<sp/>too<sp/>far</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>page<sp/>numbers.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(currently<sp/>bugged<sp/>for<sp/>some<sp/>reason).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a175d7d7c8b49471e593c99ab3c43f44e" kindref="member">VerifyRowFilled</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Finds<sp/>the<sp/>filled<sp/>area<sp/>in<sp/>a<sp/>cell.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a876e5d9f12bd9f23a1bc41144ba49135" kindref="member">CalculateCellFilledPercentage</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>column);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Debug<sp/>display,<sp/>draws<sp/>the<sp/>table<sp/>in<sp/>the<sp/>given<sp/>color.<sp/>If<sp/>the<sp/>table<sp/>is<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>valid,<sp/>the<sp/>table<sp/>and<sp/>&quot;best&quot;<sp/>grid<sp/>lines<sp/>are<sp/>still<sp/>drawn<sp/>in<sp/>the<sp/>given<sp/>color.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a963787fcfcc5343b74b5e873723752a0" kindref="member">Display</ref>(<ref refid="class_scroll_view" kindref="compound">ScrollView</ref>*<sp/>window,<sp/><ref refid="class_scroll_view_1a100504544a5423a94222149ee9ed0fe8" kindref="member">ScrollView::Color</ref><sp/>color);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Clear<sp/>the<sp/>structure<sp/>information.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a9f06f45074d0987e9c6d6eee54033ccd" kindref="member">ClearStructure</ref>();</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Verifies<sp/>the<sp/>lines<sp/>do<sp/>not<sp/>intersect<sp/>partitions.<sp/>This<sp/>happens<sp/>when</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>lines<sp/>are<sp/>in<sp/>column<sp/>boundaries<sp/>and<sp/>extend<sp/>the<sp/>full<sp/>page.<sp/>As<sp/>a<sp/>result,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>grid<sp/>lines<sp/>go<sp/>through<sp/>column<sp/>text.<sp/>The<sp/>condition<sp/>is<sp/>detectable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a10d18f070403d28436812e28c8eddf21" kindref="member">VerifyLinedTableCells</ref>();</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>the<sp/>function<sp/>to<sp/>change<sp/>if<sp/>you<sp/>want<sp/>to<sp/>filter<sp/>resulting<sp/>tables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>better.<sp/>Right<sp/>now<sp/>it<sp/>just<sp/>checks<sp/>for<sp/>a<sp/>minimum<sp/>cell<sp/>count<sp/>and<sp/>such.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>You<sp/>could<sp/>add<sp/>things<sp/>like<sp/>maximum<sp/>number<sp/>of<sp/>ColPartitions<sp/>per<sp/>cell<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>similar.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1adeb681371e657a5596c79acfd558fcc9" kindref="member">VerifyWhitespacedTable</ref>();</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>columns<sp/>of<sp/>a<sp/>table<sp/>using<sp/>whitespace.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a9096fe209bc3bac12d3d6478cfe614bd" kindref="member">FindWhitespacedColumns</ref>();</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>rows<sp/>of<sp/>a<sp/>table<sp/>using<sp/>whitespace.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a267d885a876327019d2fd85ef6dade90" kindref="member">FindWhitespacedRows</ref>();</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculates<sp/>the<sp/>whitespace<sp/>around<sp/>the<sp/>table<sp/>using<sp/>the<sp/>table<sp/>boundary<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>supplied<sp/>grids<sp/>(set_text_grid<sp/>and<sp/>set_line_grid).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a5ff1789e2e45b46e9b0d29e75120e068" kindref="member">CalculateMargins</ref>();</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Update<sp/>the<sp/>table<sp/>margins<sp/>with<sp/>the<sp/>supplied<sp/>grid.<sp/>This<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>only<sp/>called<sp/>by<sp/>calculate<sp/>margins<sp/>to<sp/>use<sp/>multiple<sp/>grid<sp/>sources.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ae86b1f857121b9e9270143d8fdbe5715" kindref="member">UpdateMargins</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>grid);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a235fd8f82d814906b0407a323c94d7f6" kindref="member">FindVerticalMargin</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>grid,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_x,</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>decrease)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a37a39634fe1a9f1d11f05cb8214f4444" kindref="member">FindHorizontalMargin</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>grid,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_y,</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>decrease)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculates<sp/>stats<sp/>on<sp/>the<sp/>table,<sp/>namely<sp/>the<sp/>median<sp/>cell<sp/>height<sp/>and<sp/>width.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a2e34d7cc3d51305252ab3f88a4d75c82" kindref="member">CalculateStats</ref>();</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Given<sp/>a<sp/>whitespaced<sp/>table,<sp/>this<sp/>looks<sp/>for<sp/>bordering<sp/>lines<sp/>that<sp/>might</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>be<sp/>page<sp/>layout<sp/>boxes<sp/>around<sp/>the<sp/>table.<sp/>It<sp/>is<sp/>necessary<sp/>to<sp/>get<sp/>the<sp/>margins</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>correct<sp/>on<sp/>the<sp/>table.<sp/>If<sp/>the<sp/>lines<sp/>are<sp/>not<sp/>joined,<sp/>the<sp/>margins<sp/>will<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>distance<sp/>to<sp/>the<sp/>line,<sp/>which<sp/>is<sp/>not<sp/>right.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a1b867f9bd1c26b92dcf946592e2db94c" kindref="member">AbsorbNearbyLines</ref>();</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Nice<sp/>utility<sp/>function<sp/>for<sp/>finding<sp/>partition<sp/>gaps.<sp/>You<sp/>feed<sp/>it<sp/>a<sp/>sorted</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>list<sp/>of<sp/>all<sp/>of<sp/>the<sp/>mins/maxes<sp/>of<sp/>the<sp/>partitions<sp/>in<sp/>the<sp/>table,<sp/>and<sp/>it<sp/>gives</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>you<sp/>the<sp/>gaps<sp/>(middle).<sp/>This<sp/>works<sp/>for<sp/>both<sp/>vertical<sp/>and<sp/>horizontal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>gaps.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>you<sp/>want<sp/>to<sp/>allow<sp/>slight<sp/>overlap<sp/>in<sp/>the<sp/>division<sp/>and<sp/>the<sp/>partitions,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>just<sp/>scale<sp/>down<sp/>the<sp/>partitions<sp/>before<sp/>inserting<sp/>them<sp/>in<sp/>the<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Likewise,<sp/>you<sp/>can<sp/>force<sp/>at<sp/>least<sp/>some<sp/>space<sp/>between<sp/>partitions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>trick<sp/>is<sp/>how<sp/>the<sp/>horizontal<sp/>partitions<sp/>are<sp/>done<sp/>(since<sp/>the<sp/>page</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>skew<sp/>could<sp/>make<sp/>it<sp/>hard<sp/>to<sp/>find<sp/>splits<sp/>in<sp/>the<sp/>text).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>As<sp/>a<sp/>result,<sp/>&quot;0<sp/>distance&quot;<sp/>between<sp/>closest<sp/>partitions<sp/>causes<sp/>a<sp/>gap.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>not<sp/>a<sp/>programmatic<sp/>assumption.<sp/>It<sp/>is<sp/>intentional<sp/>and<sp/>simplifies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>things.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;max_merged&quot;<sp/>indicates<sp/>both<sp/>the<sp/>minimum<sp/>number<sp/>of<sp/>stacked<sp/>partitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>cause<sp/>a<sp/>cell<sp/>(add<sp/>1<sp/>to<sp/>it),<sp/>and<sp/>the<sp/>maximum<sp/>number<sp/>of<sp/>partitions<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>a<sp/>grid<sp/>line<sp/>can<sp/>intersect.<sp/>For<sp/>example,<sp/>if<sp/>max_merged<sp/>is<sp/>0,<sp/>then<sp/>lines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>are<sp/>inserted<sp/>wherever<sp/>space<sp/>exists<sp/>between<sp/>partitions.<sp/>If<sp/>it<sp/>is<sp/>2,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>lines<sp/>may<sp/>intersect<sp/>2<sp/>partitions<sp/>at<sp/>most,<sp/>but<sp/>you<sp/>also<sp/>need<sp/>at<sp/>least</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>2<sp/>partitions<sp/>to<sp/>generate<sp/>a<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a855165a2c1cf7e18aa4df0d56b56d86c" kindref="member">FindCellSplitLocations</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref>&amp;<sp/>min_list,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref>&amp;<sp/>max_list,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>max_merged,</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref>*<sp/>locations);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Counts<sp/>the<sp/>number<sp/>of<sp/>ColPartitions<sp/>that<sp/>intersect<sp/>vertical<sp/>cell</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>division<sp/>at<sp/>this<sp/>x<sp/>value.<sp/>Used<sp/>by<sp/>VerifyLinedTable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ae4f7bc2ae0ce34f6ba90c262cb4042b5" kindref="member">CountVerticalIntersections</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a9d51b6ec44c4019aeffb8d29e53411e7" kindref="member">CountHorizontalIntersections</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Counts<sp/>how<sp/>many<sp/>text<sp/>partitions<sp/>are<sp/>in<sp/>this<sp/>box.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1ae190c12603d6999e32720726ccec6f6c" kindref="member">CountPartitions</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>box);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Input<sp/>data,<sp/>used<sp/>as<sp/>read<sp/>only<sp/>data<sp/>to<sp/>make<sp/>decisions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="classtesseract_1_1_structured_table_1a3e7a1ec39e82e5f0cca9c11133ddfe1b" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/><ref refid="classtesseract_1_1_structured_table_1a3e7a1ec39e82e5f0cca9c11133ddfe1b" kindref="member">text_grid_</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Text<sp/>ColPartitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238" refid="classtesseract_1_1_structured_table_1a62fec6d4270cd340c843b445f85de7a3" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/><ref refid="classtesseract_1_1_structured_table_1a62fec6d4270cd340c843b445f85de7a3" kindref="member">line_grid_</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Line<sp/>ColPartitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Table<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>bounding<sp/>box<sp/>is<sp/>a<sp/>convenient<sp/>external<sp/>representation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>cell_x_<sp/>and<sp/>cell_y_<sp/>indicate<sp/>the<sp/>grid<sp/>lines.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242" refid="classtesseract_1_1_structured_table_1ad73e474cdce4ccd7af1a09efa6fa9fa9" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/><ref refid="classtesseract_1_1_structured_table_1ad73e474cdce4ccd7af1a09efa6fa9fa9" kindref="member">bounding_box_</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Bounding<sp/>box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243" refid="classtesseract_1_1_structured_table_1aa44caf479da7fa5f65c5600063e7a073" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector_eq_eq" kindref="compound">GenericVectorEqEq&lt;int&gt;</ref><sp/><ref refid="classtesseract_1_1_structured_table_1aa44caf479da7fa5f65c5600063e7a073" kindref="member">cell_x_</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>Locations<sp/>of<sp/>vertical<sp/>divisions<sp/>(sorted)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244" refid="classtesseract_1_1_structured_table_1a61ad297f7e3351085670324ec9f4a95f" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector_eq_eq" kindref="compound">GenericVectorEqEq&lt;int&gt;</ref><sp/><ref refid="classtesseract_1_1_structured_table_1a61ad297f7e3351085670324ec9f4a95f" kindref="member">cell_y_</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>Locations<sp/>of<sp/>horizontal<sp/>divisions<sp/>(sorted)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245" refid="classtesseract_1_1_structured_table_1a1480c3fdb3fa9e7de7a3a032351004a4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a1480c3fdb3fa9e7de7a3a032351004a4" kindref="member">is_lined_</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Is<sp/>the<sp/>table<sp/>backed<sp/>up<sp/>by<sp/>a<sp/>line<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Table<sp/>margins,<sp/>set<sp/>via<sp/>CalculateMargins</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247" refid="classtesseract_1_1_structured_table_1aae33c28056468e9da3b8b652e3cf0c94" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1aae33c28056468e9da3b8b652e3cf0c94" kindref="member">space_above_</ref>;</highlight></codeline>
<codeline lineno="248" refid="classtesseract_1_1_structured_table_1a5d0168255bb07d28f1e30276d3fb751c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a5d0168255bb07d28f1e30276d3fb751c" kindref="member">space_below_</ref>;</highlight></codeline>
<codeline lineno="249" refid="classtesseract_1_1_structured_table_1a369e1cab57c1cf20f454d31bc2d9b69c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a369e1cab57c1cf20f454d31bc2d9b69c" kindref="member">space_left_</ref>;</highlight></codeline>
<codeline lineno="250" refid="classtesseract_1_1_structured_table_1a950d1abfe05a5582cc71617d3e689c80" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a950d1abfe05a5582cc71617d3e689c80" kindref="member">space_right_</ref>;</highlight></codeline>
<codeline lineno="251" refid="classtesseract_1_1_structured_table_1a69b525ae08de1ff7dd256f61b9ae28b8" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a69b525ae08de1ff7dd256f61b9ae28b8" kindref="member">median_cell_height_</ref>;</highlight></codeline>
<codeline lineno="252" refid="classtesseract_1_1_structured_table_1a4d6c741190fdf2e49551baf63e53dafe" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a4d6c741190fdf2e49551baf63e53dafe" kindref="member">median_cell_width_</ref>;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Filters,<sp/>used<sp/>to<sp/>prevent<sp/>awkward<sp/>partitions<sp/>from<sp/>destroying<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254" refid="classtesseract_1_1_structured_table_1a7e77d9ccc738260e085d54d840020844" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_structured_table_1a7e77d9ccc738260e085d54d840020844" kindref="member">max_text_height_</ref>;</highlight></codeline>
<codeline lineno="255"><highlight class="normal">};</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257" refid="classtesseract_1_1_table_recognizer" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtesseract_1_1_table_recognizer" kindref="compound">TableRecognizer</ref><sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_table_recognizer_1af82ad8abb0e3f94edb554594b9e41b55" kindref="member">TableRecognizer</ref>();</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_table_recognizer_1a5a661cb9168813a34fe23af441958bb2" kindref="member">~TableRecognizer</ref>();</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialization<sp/>code.<sp/>Must<sp/>be<sp/>called<sp/>after<sp/>the<sp/>constructor.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1aca159b4dcd53ac99591aff44ce50a015" kindref="member">Init</ref>();</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Sets<sp/>the<sp/>grids<sp/>used<sp/>by<sp/>the<sp/>table.<sp/>These<sp/>can<sp/>be<sp/>changed<sp/>between</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>calls<sp/>to<sp/>Recognize.<sp/>They<sp/>are<sp/>treated<sp/>as<sp/>read-only<sp/>data.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1abdb2fec4ac7970b190ceaaf4bfb4368f" kindref="member">set_text_grid</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>text);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a969a85b74ae52c0fc72da54e66ed93a6" kindref="member">set_line_grid</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>lines);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Sets<sp/>some<sp/>additional<sp/>constraints<sp/>on<sp/>the<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1ad24b027f3a4261cf7cb25f03646e58de" kindref="member">set_min_height</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a394e60c5a4a61f8572ae33d2fade3ee3" kindref="member">set_min_width</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Filters<sp/>text<sp/>partitions<sp/>that<sp/>are<sp/>ridiculously<sp/>tall<sp/>to<sp/>prevent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>merging<sp/>rows.<sp/>Note<sp/>that<sp/>&quot;filters&quot;<sp/>refers<sp/>to<sp/>allowing<sp/>horizontal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>cells<sp/>to<sp/>slice<sp/>through<sp/>them<sp/>on<sp/>the<sp/>premise<sp/>that<sp/>they<sp/>were</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>merged<sp/>text<sp/>rows<sp/>during<sp/>previous<sp/>layout.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a5c4fca3ea6f9452c7ec5a76f2e085a0c" kindref="member">set_max_text_height</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Given<sp/>a<sp/>guess<sp/>location,<sp/>the<sp/>RecognizeTable<sp/>function<sp/>will<sp/>try<sp/>to<sp/>find<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>structured<sp/>grid<sp/>in<sp/>the<sp/>area.<sp/>On<sp/>success,<sp/>it<sp/>will<sp/>return<sp/>a<sp/>new</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>StructuredTable<sp/>(and<sp/>assumes<sp/>you<sp/>will<sp/>delete<sp/>it).<sp/>Otherwise,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NULL<sp/>is<sp/>returned.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Keep<sp/>in<sp/>mind,<sp/>this<sp/>may<sp/>&quot;overgrow&quot;<sp/>or<sp/>&quot;undergrow&quot;<sp/>the<sp/>size<sp/>of<sp/>guess.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Ideally,<sp/>there<sp/>is<sp/>a<sp/>either<sp/>a<sp/>one-to-one<sp/>correspondence<sp/>between</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>guess<sp/>and<sp/>table<sp/>or<sp/>no<sp/>table<sp/>at<sp/>all.<sp/>This<sp/>is<sp/>not<sp/>the<sp/>best<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>assumptions<sp/>right<sp/>now,<sp/>but<sp/>was<sp/>made<sp/>to<sp/>try<sp/>to<sp/>keep<sp/>things<sp/>simple<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>first<sp/>pass.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>a<sp/>line<sp/>structure<sp/>is<sp/>available<sp/>on<sp/>the<sp/>page<sp/>in<sp/>the<sp/>given<sp/>region,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>table<sp/>will<sp/>use<sp/>the<sp/>linear<sp/>structure<sp/>as<sp/>it<sp/>is.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Otherwise,<sp/>it<sp/>will<sp/>try<sp/>to<sp/>maximize<sp/>the<sp/>whitespace<sp/>around<sp/>it<sp/>while<sp/>keeping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>a<sp/>grid<sp/>structure.<sp/>This<sp/>is<sp/>somewhat<sp/>working.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Since<sp/>the<sp/>combination<sp/>of<sp/>adjustments<sp/>can<sp/>get<sp/>high,<sp/>effort<sp/>was</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>originally<sp/>made<sp/>to<sp/>keep<sp/>the<sp/>number<sp/>of<sp/>adjustments<sp/>linear<sp/>in<sp/>the<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>partitions.<sp/>The<sp/>underlying<sp/>structure<sp/>finding<sp/>code<sp/>used<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>much<sp/>more<sp/>complex.<sp/>I<sp/>don&apos;t<sp/>know<sp/>how<sp/>necessary<sp/>this<sp/>constraint<sp/>is<sp/>anymore.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>evaluation<sp/>of<sp/>a<sp/>possible<sp/>table<sp/>is<sp/>kept<sp/>within<sp/>O(nlogn)<sp/>in<sp/>the<sp/>size<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>table<sp/>(where<sp/>size<sp/>is<sp/>the<sp/>number<sp/>of<sp/>partitions<sp/>in<sp/>the<sp/>table).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>As<sp/>a<sp/>result,<sp/>the<sp/>algorithm<sp/>is<sp/>capable<sp/>of<sp/>O(n^2<sp/>log<sp/>n).<sp/>Depending</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>on<sp/>the<sp/>grid<sp/>search<sp/>size,<sp/>it<sp/>may<sp/>be<sp/>higher.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Last<sp/>note:<sp/>it<sp/>is<sp/>possible<sp/>to<sp/>just<sp/>try<sp/>all<sp/>partition<sp/>boundaries<sp/>at<sp/>a<sp/>high</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>level<sp/>O(n^4)<sp/>and<sp/>do<sp/>a<sp/>verification<sp/>scheme<sp/>(at<sp/>least<sp/>O(nlogn)).<sp/>If<sp/>there</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>area<sp/>200<sp/>partitions<sp/>on<sp/>a<sp/>page,<sp/>this<sp/>could<sp/>be<sp/>too<sp/>costly.<sp/>Effort<sp/>could<sp/>go</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>into<sp/>pruning<sp/>the<sp/>search,<sp/>but<sp/>I<sp/>opted<sp/>for<sp/>something<sp/>quicker.<sp/>I&apos;m<sp/>confident</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>the<sp/>independent<sp/>adjustments<sp/>can<sp/>get<sp/>similar<sp/>results<sp/>and<sp/>keep<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>complextiy<sp/>down.<sp/>However,<sp/>the<sp/>other<sp/>approach<sp/>could<sp/>work<sp/>without<sp/>using</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>TableFinder<sp/>at<sp/>all<sp/>if<sp/>it<sp/>is<sp/>fast<sp/>enough.<sp/><sp/>It<sp/>comes<sp/>down<sp/>to<sp/>properly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>deciding<sp/>what<sp/>is<sp/>a<sp/>table.<sp/>The<sp/>code<sp/>currently<sp/>relies<sp/>on<sp/>TableFinder&apos;s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>guess<sp/>to<sp/>the<sp/>location<sp/>of<sp/>a<sp/>table<sp/>for<sp/>that.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_structured_table" kindref="compound">StructuredTable</ref>*<sp/><ref refid="classtesseract_1_1_table_recognizer_1adc08877ea279ece9d88e2e69cd00b2b4" kindref="member">RecognizeTable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>guess_box);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>given<sp/>box<sp/>has<sp/>a<sp/>lined<sp/>table<sp/>within<sp/>it.<sp/>The</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>table<sp/>argument<sp/>will<sp/>be<sp/>updated<sp/>with<sp/>the<sp/>table<sp/>if<sp/>the<sp/>table<sp/>exists.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a09c44b26f6ef2bf6308b669031cc00f1" kindref="member">RecognizeLinedTable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>guess_box,<sp/><ref refid="classtesseract_1_1_structured_table" kindref="compound">StructuredTable</ref>*<sp/>table);</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>given<sp/>box<sp/>has<sp/>a<sp/>large<sp/>number<sp/>of<sp/>horizontal<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>vertical<sp/>lines<sp/>present.<sp/>If<sp/>so,<sp/>we<sp/>assume<sp/>the<sp/>extent<sp/>of<sp/>these<sp/>lines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>uniquely<sp/>defines<sp/>a<sp/>table<sp/>and<sp/>find<sp/>that<sp/>table<sp/>via<sp/>SolveLinedTable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a9d994f1b39135c0a95e558e8bc0489ec" kindref="member">HasSignificantLines</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>guess);</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Given<sp/>enough<sp/>horizontal<sp/>and<sp/>vertical<sp/>lines<sp/>in<sp/>a<sp/>region,<sp/>find<sp/>a<sp/>bounding</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>box<sp/>that<sp/>encloses<sp/>all<sp/>of<sp/>them<sp/>(as<sp/>well<sp/>as<sp/>newly<sp/>introduced<sp/>lines).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>bounding<sp/>box<sp/>is<sp/>the<sp/>smallest<sp/>box<sp/>that<sp/>encloses<sp/>the<sp/>lines<sp/>in<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>without<sp/>having<sp/>any<sp/>lines<sp/>sticking<sp/>out<sp/>of<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>bounding_box<sp/>is<sp/>an<sp/>in/out<sp/>parameter.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>input,<sp/>it<sp/>in<sp/>the<sp/>extents<sp/>of<sp/>the<sp/>box<sp/>to<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>output,<sp/>it<sp/>is<sp/>the<sp/>resulting<sp/>bounding<sp/>box.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a1976dd404a086faf445085759cc3024c" kindref="member">FindLinesBoundingBox</ref>(<ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>*<sp/>bounding_box);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Iteration<sp/>in<sp/>above<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>bounding_box<sp/>is<sp/>an<sp/>in/out<sp/>parameter.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>input,<sp/>it<sp/>in<sp/>the<sp/>extents<sp/>of<sp/>the<sp/>box<sp/>to<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>output,<sp/>it<sp/>is<sp/>the<sp/>resulting<sp/>bounding<sp/>box.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a0e3b073b746ba18778b10413fe16f4e0" kindref="member">FindLinesBoundingBoxIteration</ref>(<ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>*<sp/>bounding_box);</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>given<sp/>box<sp/>has<sp/>a<sp/>whitespaced<sp/>table<sp/>within<sp/>it.<sp/>The</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>table<sp/>argument<sp/>will<sp/>be<sp/>updated<sp/>if<sp/>the<sp/>table<sp/>exists.<sp/>Also<sp/>note</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>this<sp/>method<sp/>will<sp/>fail<sp/>if<sp/>the<sp/>guess_box<sp/>center<sp/>is<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>mostly<sp/>within<sp/>the<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1ad40e89784fedeaa63f2b8e6088e9b270" kindref="member">RecognizeWhitespacedTable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>guess_box,<sp/><ref refid="classtesseract_1_1_structured_table" kindref="compound">StructuredTable</ref>*<sp/>table);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Finds<sp/>the<sp/>location<sp/>of<sp/>a<sp/>horizontal<sp/>split<sp/>relative<sp/>to<sp/>y.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>is<sp/>mostly<sp/>unused<sp/>now.<sp/>If<sp/>the<sp/>SolveWhitespacedTable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>changes<sp/>much,<sp/>it<sp/>can<sp/>be<sp/>removed.<sp/>Note,<sp/>it<sp/>isn&apos;t<sp/>really<sp/>as<sp/>reliable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>as<sp/>I<sp/>thought.<sp/>I<sp/>went<sp/>with<sp/>alternatives<sp/>for<sp/>most<sp/>of<sp/>the<sp/>other<sp/>uses.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a6852b6aaf9df0c7085a644b7696ff881" kindref="member">NextHorizontalSplit</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>right,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>top_to_bottom);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Indicates<sp/>that<sp/>a<sp/>table<sp/>row<sp/>is<sp/>weak.<sp/>This<sp/>means<sp/>that<sp/>it<sp/>has</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>many<sp/>missing<sp/>data<sp/>cells<sp/>or<sp/>very<sp/>large<sp/>cell<sp/>heights<sp/>compared.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a3fb9b12226218c00102c77c2a9e2ca6f" kindref="member">IsWeakTableRow</ref>(<ref refid="classtesseract_1_1_structured_table" kindref="compound">StructuredTable</ref>*<sp/>table,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Input<sp/>data,<sp/>used<sp/>as<sp/>read<sp/>only<sp/>data<sp/>to<sp/>make<sp/>decisions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367" refid="classtesseract_1_1_table_recognizer_1a1ec03b4d8e7b7cd1361d23be47d5d81a" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/><ref refid="classtesseract_1_1_table_recognizer_1a1ec03b4d8e7b7cd1361d23be47d5d81a" kindref="member">text_grid_</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Text<sp/>ColPartitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368" refid="classtesseract_1_1_table_recognizer_1acef775b055806466bf907b9008a9f705" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/><ref refid="classtesseract_1_1_table_recognizer_1acef775b055806466bf907b9008a9f705" kindref="member">line_grid_</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Line<sp/>ColPartitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Table<sp/>constraints,<sp/>a<sp/>&quot;good&quot;<sp/>table<sp/>must<sp/>satisfy<sp/>these.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370" refid="classtesseract_1_1_table_recognizer_1a4a0cb917deb38c9cd761390e2e89967b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a4a0cb917deb38c9cd761390e2e89967b" kindref="member">min_height_</ref>;</highlight></codeline>
<codeline lineno="371" refid="classtesseract_1_1_table_recognizer_1a99ef7bab6b09c69357a69f440235d83c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a99ef7bab6b09c69357a69f440235d83c" kindref="member">min_width_</ref>;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Filters,<sp/>used<sp/>to<sp/>prevent<sp/>awkward<sp/>partitions<sp/>from<sp/>destroying<sp/>structure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373" refid="classtesseract_1_1_table_recognizer_1a2d6b6326270fc127b50a497e4d0c6c7c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_table_recognizer_1a2d6b6326270fc127b50a497e4d0c6c7c" kindref="member">max_text_height_</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>Horizontal<sp/>lines<sp/>may<sp/>intersect<sp/>taller<sp/>text.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal">};</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/></highlight><highlight class="comment">/*<sp/>TABLERECOG_H_<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/textord/tablerecog.h"/>
  </compounddef>
</doxygen>
