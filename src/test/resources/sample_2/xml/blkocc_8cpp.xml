<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="blkocc_8cpp" kind="file">
    <compoundname>blkocc.cpp</compoundname>
    <includes refid="mfcpch_8h" local="yes">mfcpch.h</includes>
    <includes local="no">ctype.h</includes>
    <includes local="no">math.h</includes>
    <includes refid="errcode_8h" local="yes">errcode.h</includes>
    <includes refid="drawtord_8h" local="yes">drawtord.h</includes>
    <includes refid="blkocc_8h" local="yes">blkocc.h</includes>
    <includes refid="helpers_8h" local="yes">helpers.h</includes>
    <includes refid="notdll_8h" local="yes">notdll.h</includes>
    <incdepgraph>
      <node id="36670">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="36669" relation="include">
        </childnode>
        <childnode refid="36671" relation="include">
        </childnode>
        <childnode refid="36672" relation="include">
        </childnode>
        <childnode refid="36686" relation="include">
        </childnode>
        <childnode refid="36693" relation="include">
        </childnode>
      </node>
      <node id="36644">
        <label>mfcpch.h</label>
        <link refid="mfcpch_8h"/>
      </node>
      <node id="36659">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="36693">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36648" relation="include">
        </childnode>
        <childnode refid="36663" relation="include">
        </childnode>
      </node>
      <node id="36655">
        <label>stdlib.h</label>
      </node>
      <node id="36649">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="36650" relation="include">
        </childnode>
      </node>
      <node id="36674">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="36647" relation="include">
        </childnode>
      </node>
      <node id="36663">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
      </node>
      <node id="36651">
        <label>drawtord.h</label>
        <link refid="drawtord_8h"/>
        <childnode refid="36652" relation="include">
        </childnode>
        <childnode refid="36663" relation="include">
        </childnode>
        <childnode refid="36664" relation="include">
        </childnode>
        <childnode refid="36670" relation="include">
        </childnode>
        <childnode refid="36695" relation="include">
        </childnode>
      </node>
      <node id="36694">
        <label>pithsync.h</label>
        <link refid="pithsync_8h"/>
        <childnode refid="36670" relation="include">
        </childnode>
        <childnode refid="36652" relation="include">
        </childnode>
        <childnode refid="36693" relation="include">
        </childnode>
        <childnode refid="36695" relation="include">
        </childnode>
      </node>
      <node id="36666">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="36655" relation="include">
        </childnode>
        <childnode refid="36658" relation="include">
        </childnode>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36661" relation="include">
        </childnode>
        <childnode refid="36647" relation="include">
        </childnode>
        <childnode refid="36667" relation="include">
        </childnode>
      </node>
      <node id="36669">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36648" relation="include">
        </childnode>
        <childnode refid="36666" relation="include">
        </childnode>
        <childnode refid="36668" relation="include">
        </childnode>
      </node>
      <node id="36675">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="36676" relation="include">
        </childnode>
        <childnode refid="36681" relation="include">
        </childnode>
      </node>
      <node id="36662">
        <label>stddef.h</label>
      </node>
      <node id="36696">
        <label>blkocc.h</label>
        <link refid="blkocc_8h"/>
        <childnode refid="36652" relation="include">
        </childnode>
        <childnode refid="36665" relation="include">
        </childnode>
        <childnode refid="36695" relation="include">
        </childnode>
      </node>
      <node id="36647">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="36648" relation="include">
        </childnode>
      </node>
      <node id="36691">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="36689" relation="include">
        </childnode>
        <childnode refid="36665" relation="include">
        </childnode>
        <childnode refid="36678" relation="include">
        </childnode>
        <childnode refid="36681" relation="include">
        </childnode>
        <childnode refid="36663" relation="include">
        </childnode>
        <childnode refid="36692" relation="include">
        </childnode>
      </node>
      <node id="36650">
        <label>limits.h</label>
      </node>
      <node id="36664">
        <label>pitsync1.h</label>
        <link refid="pitsync1_8h"/>
        <childnode refid="36665" relation="include">
        </childnode>
        <childnode refid="36669" relation="include">
        </childnode>
        <childnode refid="36670" relation="include">
        </childnode>
        <childnode refid="36652" relation="include">
        </childnode>
        <childnode refid="36693" relation="include">
        </childnode>
        <childnode refid="36694" relation="include">
        </childnode>
        <childnode refid="36695" relation="include">
        </childnode>
      </node>
      <node id="36679">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="36646" relation="include">
        </childnode>
      </node>
      <node id="36680">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="36678" relation="include">
        </childnode>
      </node>
      <node id="36671">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36648" relation="include">
        </childnode>
        <childnode refid="36666" relation="include">
        </childnode>
        <childnode refid="36668" relation="include">
        </childnode>
      </node>
      <node id="36658">
        <label>string.h</label>
      </node>
      <node id="36681">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="36646" relation="include">
        </childnode>
        <childnode refid="36678" relation="include">
        </childnode>
        <childnode refid="36659" relation="include">
        </childnode>
        <childnode refid="36663" relation="include">
        </childnode>
        <childnode refid="36682" relation="include">
        </childnode>
      </node>
      <node id="36673">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="36648" relation="include">
        </childnode>
      </node>
      <node id="36656">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="36648" relation="include">
        </childnode>
      </node>
      <node id="36676">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="36677" relation="include">
        </childnode>
        <childnode refid="36680" relation="include">
        </childnode>
        <childnode refid="36673" relation="include">
        </childnode>
        <childnode refid="36681" relation="include">
        </childnode>
        <childnode refid="36674" relation="include">
        </childnode>
        <childnode refid="36663" relation="include">
        </childnode>
      </node>
      <node id="36672">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="36652" relation="include">
        </childnode>
        <childnode refid="36673" relation="include">
        </childnode>
        <childnode refid="36671" relation="include">
        </childnode>
        <childnode refid="36660" relation="include">
        </childnode>
        <childnode refid="36674" relation="include">
        </childnode>
        <childnode refid="36675" relation="include">
        </childnode>
        <childnode refid="36683" relation="include">
        </childnode>
      </node>
      <node id="36683">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36684" relation="include">
        </childnode>
        <childnode refid="36672" relation="include">
        </childnode>
      </node>
      <node id="36667">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="36647" relation="include">
        </childnode>
      </node>
      <node id="36677">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="36678" relation="include">
        </childnode>
        <childnode refid="36680" relation="include">
        </childnode>
      </node>
      <node id="36646">
        <label>math.h</label>
      </node>
      <node id="36668">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="36647" relation="include">
        </childnode>
      </node>
      <node id="36685">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="36678" relation="include">
        </childnode>
      </node>
      <node id="36689">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="36645">
        <label>ctype.h</label>
      </node>
      <node id="36686">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="36687" relation="include">
        </childnode>
        <childnode refid="36688" relation="include">
        </childnode>
        <childnode refid="36683" relation="include">
        </childnode>
        <childnode refid="36690" relation="include">
        </childnode>
      </node>
      <node id="36652">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36654" relation="include">
        </childnode>
        <childnode refid="36660" relation="include">
        </childnode>
      </node>
      <node id="36654">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36655" relation="include">
        </childnode>
        <childnode refid="36656" relation="include">
        </childnode>
        <childnode refid="36647" relation="include">
        </childnode>
        <childnode refid="36657" relation="include">
        </childnode>
        <childnode refid="36659" relation="include">
        </childnode>
      </node>
      <node id="36661">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="36662" relation="include">
        </childnode>
        <childnode refid="36648" relation="include">
        </childnode>
      </node>
      <node id="36643">
        <label>textord/blkocc.cpp</label>
        <link refid="blkocc.cpp"/>
        <childnode refid="36644" relation="include">
        </childnode>
        <childnode refid="36645" relation="include">
        </childnode>
        <childnode refid="36646" relation="include">
        </childnode>
        <childnode refid="36647" relation="include">
        </childnode>
        <childnode refid="36651" relation="include">
        </childnode>
        <childnode refid="36696" relation="include">
        </childnode>
        <childnode refid="36657" relation="include">
        </childnode>
        <childnode refid="36695" relation="include">
        </childnode>
      </node>
      <node id="36688">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="36689" relation="include">
        </childnode>
        <childnode refid="36665" relation="include">
        </childnode>
        <childnode refid="36660" relation="include">
        </childnode>
      </node>
      <node id="36665">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36648" relation="include">
        </childnode>
        <childnode refid="36666" relation="include">
        </childnode>
        <childnode refid="36668" relation="include">
        </childnode>
      </node>
      <node id="36678">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36646" relation="include">
        </childnode>
        <childnode refid="36665" relation="include">
        </childnode>
        <childnode refid="36679" relation="include">
        </childnode>
      </node>
      <node id="36695">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="36687">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="36661" relation="include">
        </childnode>
      </node>
      <node id="36682">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="36652" relation="include">
        </childnode>
      </node>
      <node id="36692">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="36648">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="36649" relation="include">
        </childnode>
      </node>
      <node id="36690">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="36669" relation="include">
        </childnode>
        <childnode refid="36687" relation="include">
        </childnode>
        <childnode refid="36660" relation="include">
        </childnode>
        <childnode refid="36691" relation="include">
        </childnode>
        <childnode refid="36692" relation="include">
        </childnode>
      </node>
      <node id="36653">
        <label>stdio.h</label>
      </node>
      <node id="36660">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36658" relation="include">
        </childnode>
        <childnode refid="36649" relation="include">
        </childnode>
        <childnode refid="36661" relation="include">
        </childnode>
      </node>
      <node id="36657">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="36653" relation="include">
        </childnode>
        <childnode refid="36658" relation="include">
        </childnode>
      </node>
      <node id="36684">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="36685" relation="include">
        </childnode>
        <childnode refid="36666" relation="include">
        </childnode>
        <childnode refid="36661" relation="include">
        </childnode>
        <childnode refid="36681" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="blkocc_8cpp_1afe85bccd88308835cbddef2afebe1d4d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>double_VAR</definition>
        <argsstring>(textord_underline_threshold, 0.5,&quot;Fraction of width occupied&quot;)</argsstring>
        <name>double_VAR</name>
        <param>
          <type>textord_underline_threshold</type>
        </param>
        <param>
          <type>0.</type>
          <declname>5</declname>
        </param>
        <param>
          <type>&quot;Fraction of width occupied&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" line="40" column="1"/>
      </memberdef>
      <memberdef kind="function" id="blkocc_8cpp_1a65252cac2e0e1ff407b166dcb4dc1833" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void horizontal_cblob_projection</definition>
        <argsstring>(C_BLOB *blob, STATS *stats)</argsstring>
        <name>horizontal_cblob_projection</name>
        <param>
          <type><ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref> *</type>
          <declname>blob</declname>
        </param>
        <param>
          <type><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref> *</type>
          <declname>stats</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>horizontal_cblob_projection</para><para>Compute the horizontal projection of a cblob from its outlines and add to the given <ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" line="43" column="1" bodyfile="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" bodystart="126" bodyend="136"/>
      </memberdef>
      <memberdef kind="function" id="blkocc_8cpp_1a930509a68401eba9f7943ebed4bcc95d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void horizontal_coutline_projection</definition>
        <argsstring>(C_OUTLINE *outline, STATS *stats)</argsstring>
        <name>horizontal_coutline_projection</name>
        <param>
          <type><ref refid="class_c___o_u_t_l_i_n_e" kindref="compound">C_OUTLINE</ref> *</type>
          <declname>outline</declname>
        </param>
        <param>
          <type><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref> *</type>
          <declname>stats</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>horizontal_coutline_projection</para><para>Compute the horizontal projection of a outline from its outlines and add to the given <ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" line="45" column="1" bodyfile="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" bodystart="146" bodyend="172"/>
      </memberdef>
      <memberdef kind="function" id="blkocc_8cpp_1a1b548029a83d9ac05ecb47cb177c69fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref></type>
        <definition>BOOL8 test_underline</definition>
        <argsstring>(BOOL8 testing_on, C_BLOB *blob, inT16 baseline, inT16 xheight)</argsstring>
        <name>test_underline</name>
        <param>
          <type><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref></type>
          <declname>testing_on</declname>
        </param>
        <param>
          <type><ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref> *</type>
          <declname>blob</declname>
        </param>
        <param>
          <type><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref></type>
          <declname>baseline</declname>
        </param>
        <param>
          <type><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref></type>
          <declname>xheight</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>test_underline</para><para>Check to see if the blob is an underline. Return TRUE if it is. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" line="55" column="1" bodyfile="/Users/makoto/Desktop/trunk/textord/blkocc.cpp" bodystart="55" bodyend="116"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*****************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blkocc.cpp<sp/><sp/>(Formerly<sp/>blockocc.c)</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Description:<sp/><sp/>Block<sp/>Occupancy<sp/>routines</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Chris<sp/>Newton</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>Created:<sp/><sp/><sp/><sp/><sp/><sp/>Fri<sp/>Nov<sp/>8</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>Modified:</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>Language:<sp/><sp/><sp/><sp/><sp/>C++</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>Package:<sp/><sp/><sp/><sp/><sp/><sp/>N/A</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>Status:<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Experimental<sp/>(Do<sp/>Not<sp/>Distribute)</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>(c)<sp/>Copyright<sp/>1991,<sp/>Hewlett-Packard<sp/>Company.</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>**<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>**<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>**<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>**<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="26"><highlight class="comment">----------------------------------------------------------------------</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>I<sp/>n<sp/>c<sp/>l<sp/>u<sp/>d<sp/>e<sp/>s</highlight></codeline>
<codeline lineno="28"><highlight class="comment">----------------------------------------------------------------------</highlight></codeline>
<codeline lineno="29"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mfcpch_8h" kindref="compound">mfcpch.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;ctype.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="errcode_8h" kindref="compound">errcode.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="drawtord_8h" kindref="compound">drawtord.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="blkocc_8h" kindref="compound">blkocc.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="helpers_8h" kindref="compound">helpers.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="notdll_8h" kindref="compound">notdll.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><ref refid="params_8h_1aa855c84dbbf962a5533a96e1f458c690" kindref="member">double_VAR</ref>(textord_underline_threshold,<sp/>0.5,<sp/></highlight><highlight class="stringliteral">&quot;Fraction<sp/>of<sp/>width<sp/>occupied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Forward<sp/>declarations<sp/>of<sp/>static<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>horizontal_cblob_projection(<ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref><sp/>*blob,<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>blob<sp/>to<sp/>project</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>*stats);<sp/><sp/></highlight><highlight class="comment">//<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>horizontal_coutline_projection(<ref refid="class_c___o_u_t_l_i_n_e" kindref="compound">C_OUTLINE</ref><sp/>*outline,</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>*stats);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><ref refid="blkocc_8cpp_1a1b548029a83d9ac05ecb47cb177c69fb" kindref="member">test_underline</ref>(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//look<sp/>for<sp/>underlines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/>testing_on,<sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>drawing<sp/>blob</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref><sp/>*blob,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>blob<sp/>to<sp/>test</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/><ref refid="mfoutline_8h_1a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23" kindref="member">baseline</ref>,<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>coords<sp/>of<sp/>baseline</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>xheight<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>height<sp/>of<sp/>line</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>occ;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>blob_width;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//width<sp/>of<sp/>blob</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>blob_box;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//bounding<sp/>box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>desc_occ;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>x_occ;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>asc_occ;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>projection;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/>blob_box<sp/>=<sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>();</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/>blob_width<sp/>=<sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>().<ref refid="class_t_b_o_x_1af95494a2ccacc70cc2b83820b2948619" kindref="member">width</ref><sp/>();</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>projection.<ref refid="class_s_t_a_t_s_1abcad6a546e1a1851730bc32f17b154ee" kindref="member">set_range</ref><sp/>(blob_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>(),<sp/>blob_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>()<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(testing_on)<sp/>{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blob-&gt;plot(to_win,GOLDENROD,GOLDENROD);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_color_index(to_win,GOLDENROD);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>move2d(to_win,blob_box.left(),baseline);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>draw2d(to_win,blob_box.right(),baseline);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>move2d(to_win,blob_box.left(),baseline+xheight);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>draw2d(to_win,blob_box.right(),baseline+xheight);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&quot;Testing<sp/>underline<sp/>on<sp/>blob<sp/>at<sp/>(%d,%d)-&gt;(%d,%d),<sp/>base=%d\nOccs:&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>().<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref><sp/>(),<sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>().<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>(),</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>().<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref><sp/>(),<sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1a77e52e29e2c622a3a63bb7edb110f6ab" kindref="member">bounding_box</ref><sp/>().<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>(),</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mfoutline_8h_1a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23" kindref="member">baseline</ref>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/>horizontal_cblob_projection(blob,<sp/>&amp;projection);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/>desc_occ<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(occ<sp/>=<sp/>blob_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>();<sp/>occ<sp/>&lt;<sp/><ref refid="mfoutline_8h_1a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23" kindref="member">baseline</ref>;<sp/>occ++)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(occ<sp/>&lt;=<sp/>blob_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>()<sp/>&amp;&amp;<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ)<sp/>&gt;<sp/>desc_occ)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//max<sp/>in<sp/>region</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>desc_occ<sp/>=<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/>x_occ<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(occ<sp/>=<sp/>baseline;<sp/>occ<sp/>&lt;=<sp/>baseline<sp/>+<sp/>xheight;<sp/>occ++)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(occ<sp/>&gt;=<sp/>blob_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>()<sp/>&amp;&amp;<sp/>occ<sp/>&lt;=<sp/>blob_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>()</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ)<sp/>&gt;<sp/>x_occ)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//max<sp/>in<sp/>region</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>x_occ<sp/>=<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/>asc_occ<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(occ<sp/>=<sp/>baseline<sp/>+<sp/>xheight<sp/>+<sp/>1;<sp/>occ<sp/>&lt;=<sp/>blob_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>();<sp/>occ++)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(occ<sp/>&gt;=<sp/>blob_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>()<sp/>&amp;&amp;<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ)<sp/>&gt;<sp/>asc_occ)</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>asc_occ<sp/>=<sp/>projection.<ref refid="class_s_t_a_t_s_1a4a3a320660e2092eeaa605df70bea8ea" kindref="member">pile_count</ref><sp/>(occ);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(testing_on)<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref><sp/>(</highlight><highlight class="stringliteral">&quot;%d<sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>desc_occ,<sp/>x_occ,<sp/>asc_occ);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(desc_occ<sp/>==<sp/>0<sp/>&amp;&amp;<sp/>x_occ<sp/>==<sp/>0<sp/>&amp;&amp;<sp/>asc_occ<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Bottom=%d,<sp/>top=%d,<sp/>base=%d,<sp/>x=%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob_box.<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref><sp/>(),<sp/>blob_box.<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref><sp/>(),<sp/><ref refid="mfoutline_8h_1a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23" kindref="member">baseline</ref>,<sp/>xheight);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>projection.<ref refid="class_s_t_a_t_s_1a78e51420aa91ecff1f635e606d4a0f88" kindref="member">print</ref>();</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(desc_occ<sp/>&gt;<sp/>x_occ<sp/>+<sp/>x_occ</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>desc_occ<sp/>&gt;<sp/>blob_width<sp/>*<sp/>textord_underline_threshold)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//real<sp/>underline</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(asc_occ<sp/>&gt;<sp/>x_occ<sp/>+<sp/>x_occ</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>asc_occ<sp/>&gt;<sp/>blob_width<sp/>*<sp/>textord_underline_threshold)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//overline</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//neither</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal">}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>horizontal_cblob_projection(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//project<sp/>outlines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref><sp/>*blob,<sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>blob<sp/>to<sp/>project</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>*stats<sp/><sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//outlines<sp/>of<sp/>blob</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/>C_OUTLINE_IT<sp/>out_it<sp/>=<sp/>blob-&gt;<ref refid="class_c___b_l_o_b_1ae510f3d0e7398fbb46608082429eac89" kindref="member">out_list</ref><sp/>();</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(out_it.mark_cycle_pt<sp/>();<sp/>!out_it.cycled_list<sp/>();<sp/>out_it.forward<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>horizontal_coutline_projection<sp/>(out_it.data<sp/>(),<sp/>stats);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="136"><highlight class="normal">}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>horizontal_coutline_projection(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//project<sp/>outlines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c___o_u_t_l_i_n_e" kindref="compound">C_OUTLINE</ref><sp/>*outline,<sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>outline<sp/>to<sp/>project</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>*stats<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><ref refid="class_i_c_o_o_r_d" kindref="compound" tooltip="integer coordinate ">ICOORD</ref><sp/>pos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//current<sp/>point</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><ref refid="class_i_c_o_o_r_d" kindref="compound" tooltip="integer coordinate ">ICOORD</ref><sp/>step;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//edge<sp/>step</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>length;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//of<sp/>outline</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>stepindex;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//current<sp/>step</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/>C_OUTLINE_IT<sp/>out_it<sp/>=<sp/>outline-&gt;<ref refid="class_c___o_u_t_l_i_n_e_1a87880b33bc69fa17ab37a93706ae8d84" kindref="member">child</ref><sp/>();</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/>pos<sp/>=<sp/>outline-&gt;<ref refid="class_c___o_u_t_l_i_n_e_1a0f9fef7d74691bbcf45faa2272600500" kindref="member">start_pos</ref><sp/>();</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/>length<sp/>=<sp/>outline-&gt;<ref refid="class_c___o_u_t_l_i_n_e_1afb87d87d3d48e964937b068f55f3ca3a" kindref="member">pathlength</ref><sp/>();</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(stepindex<sp/>=<sp/>0;<sp/>stepindex<sp/>&lt;<sp/>length;<sp/>stepindex++)<sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>step<sp/>=<sp/>outline-&gt;<ref refid="class_c___o_u_t_l_i_n_e_1af6831ec849fb5ab1f2b49517fbbd5f85" kindref="member">step</ref><sp/>(stepindex);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(step.<ref refid="class_i_c_o_o_r_d_1a66bba6ff8a5f060775e1c2ca511f7f29" kindref="member" tooltip="access_function ">y</ref><sp/>()<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stats-&gt;<ref refid="class_s_t_a_t_s_1ab8cacba14df28eed1bffc4cea0b2f87f" kindref="member">add</ref><sp/>(pos.<ref refid="class_i_c_o_o_r_d_1a66bba6ff8a5f060775e1c2ca511f7f29" kindref="member" tooltip="access_function ">y</ref><sp/>(),<sp/>pos.<ref refid="class_i_c_o_o_r_d_1a59722a47c540007c58a539f0e35b3f33" kindref="member" tooltip="access function ">x</ref><sp/>());</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(step.<ref refid="class_i_c_o_o_r_d_1a66bba6ff8a5f060775e1c2ca511f7f29" kindref="member" tooltip="access_function ">y</ref><sp/>()<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>stats-&gt;<ref refid="class_s_t_a_t_s_1ab8cacba14df28eed1bffc4cea0b2f87f" kindref="member">add</ref><sp/>(pos.<ref refid="class_i_c_o_o_r_d_1a66bba6ff8a5f060775e1c2ca511f7f29" kindref="member" tooltip="access_function ">y</ref><sp/>()<sp/>-<sp/>1,<sp/>-pos.<ref refid="class_i_c_o_o_r_d_1a59722a47c540007c58a539f0e35b3f33" kindref="member" tooltip="access function ">x</ref><sp/>());</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>+=<sp/>step;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(out_it.mark_cycle_pt<sp/>();<sp/>!out_it.cycled_list<sp/>();<sp/>out_it.forward<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>horizontal_coutline_projection<sp/>(out_it.data<sp/>(),<sp/>stats);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/textord/blkocc.cpp"/>
  </compounddef>
</doxygen>
