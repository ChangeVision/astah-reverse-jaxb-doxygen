<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="fixxht_8cpp" kind="file">
    <compoundname>fixxht.cpp</compoundname>
    <includes refid="mfcpch_8h" local="yes">mfcpch.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">ctype.h</includes>
    <includes refid="params_8h" local="yes">params.h</includes>
    <includes refid="float2int_8h" local="yes">float2int.h</includes>
    <includes refid="tesseractclass_8h" local="yes">tesseractclass.h</includes>
    <incdepgraph>
      <node id="2049">
        <label>matchtab.h</label>
        <link refid="matchtab_8h"/>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="1979" relation="include">
        </childnode>
      </node>
      <node id="1963">
        <label>cutil_class.h</label>
        <link refid="cutil__class_8h"/>
        <childnode refid="1964" relation="include">
        </childnode>
        <childnode refid="1975" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
      </node>
      <node id="2024">
        <label>docqual.h</label>
        <link refid="docqual_8h"/>
        <childnode refid="1993" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
      </node>
      <node id="2030">
        <label>image.h</label>
        <link refid="image_8h"/>
      </node>
      <node id="2033">
        <label>wordrec.h</label>
        <link refid="wordrec_8h"/>
        <childnode refid="2034" relation="include">
        </childnode>
        <childnode refid="2037" relation="include">
        </childnode>
        <childnode refid="2039" relation="include">
        </childnode>
        <childnode refid="2047" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="2035" relation="include">
        </childnode>
        <childnode refid="2049" relation="include">
        </childnode>
        <childnode refid="2048" relation="include">
        </childnode>
        <childnode refid="2050" relation="include">
        </childnode>
        <childnode refid="2021" relation="include">
        </childnode>
        <childnode refid="2036" relation="include">
        </childnode>
        <childnode refid="2051" relation="include">
        </childnode>
        <childnode refid="2053" relation="include">
        </childnode>
      </node>
      <node id="2031">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="1980" relation="include">
        </childnode>
        <childnode refid="2003" relation="include">
        </childnode>
        <childnode refid="2001" relation="include">
        </childnode>
        <childnode refid="1994" relation="include">
        </childnode>
        <childnode refid="2015" relation="include">
        </childnode>
      </node>
      <node id="2036">
        <label>states.h</label>
        <link refid="states_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
      </node>
      <node id="2013">
        <label>assert.h</label>
      </node>
      <node id="1936">
        <label>mfcpch.h</label>
        <link refid="mfcpch_8h"/>
      </node>
      <node id="1991">
        <label>tesseractclass.h</label>
        <link refid="tesseractclass_8h"/>
        <childnode refid="1992" relation="include">
        </childnode>
        <childnode refid="1993" relation="include">
        </childnode>
        <childnode refid="2024" relation="include">
        </childnode>
        <childnode refid="2025" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="2026" relation="include">
        </childnode>
        <childnode refid="2028" relation="include">
        </childnode>
        <childnode refid="2033" relation="include">
        </childnode>
      </node>
      <node id="2037">
        <label>classify.h</label>
        <link refid="classify_8h"/>
        <childnode refid="2038" relation="include">
        </childnode>
        <childnode refid="2029" relation="include">
        </childnode>
        <childnode refid="2037" relation="include">
        </childnode>
        <childnode refid="2039" relation="include">
        </childnode>
        <childnode refid="2044" relation="include">
        </childnode>
        <childnode refid="2045" relation="include">
        </childnode>
        <childnode refid="2046" relation="include">
        </childnode>
        <childnode refid="1954" relation="include">
        </childnode>
        <childnode refid="2018" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="1990" relation="include">
        </childnode>
        <childnode refid="1988" relation="include">
        </childnode>
      </node>
      <node id="1949">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="2020">
        <label>rejctmap.h</label>
        <link refid="rejctmap_8h"/>
        <childnode refid="1951" relation="include">
        </childnode>
        <childnode refid="2002" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
      </node>
      <node id="2015">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1984" relation="include">
        </childnode>
      </node>
      <node id="1975">
        <label>const.h</label>
        <link refid="const_8h"/>
      </node>
      <node id="2025">
        <label>devanagari_processing.h</label>
        <link refid="devanagari__processing_8h"/>
        <childnode refid="1994" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
      </node>
      <node id="1942">
        <label>stdlib.h</label>
      </node>
      <node id="1945">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="1946" relation="include">
        </childnode>
      </node>
      <node id="1987">
        <label>bitvec.h</label>
        <link refid="bitvec_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="2050">
        <label>gradechop.h</label>
        <link refid="gradechop_8h"/>
        <childnode refid="2021" relation="include">
        </childnode>
        <childnode refid="1949" relation="include">
        </childnode>
      </node>
      <node id="2026">
        <label>ocrclass.h</label>
        <link refid="ocrclass_8h"/>
        <childnode refid="2027" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="2004">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="1947" relation="include">
        </childnode>
      </node>
      <node id="1964">
        <label>ccutil.h</label>
        <link refid="ccutil_8h"/>
        <childnode refid="1965" relation="include">
        </childnode>
        <childnode refid="1947" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
        <childnode refid="1972" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
        <childnode refid="1973" relation="include">
        </childnode>
        <childnode refid="1974" relation="include">
        </childnode>
      </node>
      <node id="1992">
        <label>allheaders.h</label>
      </node>
      <node id="1984">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
      </node>
      <node id="1935">
        <label>ccmain/fixxht.cpp</label>
        <link refid="fixxht.cpp"/>
        <childnode refid="1936" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
        <childnode refid="1938" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1953" relation="include">
        </childnode>
        <childnode refid="1991" relation="include">
        </childnode>
      </node>
      <node id="1967">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="1942" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1951" relation="include">
        </childnode>
        <childnode refid="1947" relation="include">
        </childnode>
        <childnode refid="1968" relation="include">
        </childnode>
      </node>
      <node id="2023">
        <label>tessarray.h</label>
        <link refid="tessarray_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
      </node>
      <node id="1980">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1967" relation="include">
        </childnode>
        <childnode refid="1969" relation="include">
        </childnode>
      </node>
      <node id="1978">
        <label>baseline.h</label>
        <link refid="baseline_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
      </node>
      <node id="2029">
        <label>ccstruct.h</label>
        <link refid="ccstruct_8h"/>
        <childnode refid="1961" relation="include">
        </childnode>
        <childnode refid="2030" relation="include">
        </childnode>
      </node>
      <node id="2005">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="2006" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
      </node>
      <node id="2042">
        <label>trie.h</label>
        <link refid="trie_8h"/>
        <childnode refid="2040" relation="include">
        </childnode>
        <childnode refid="1961" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
      </node>
      <node id="2012">
        <label>ratngs.h</label>
        <link refid="ratngs_8h"/>
        <childnode refid="2013" relation="include">
        </childnode>
        <childnode refid="1980" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
        <childnode refid="2001" relation="include">
        </childnode>
      </node>
      <node id="1952">
        <label>stddef.h</label>
      </node>
      <node id="1958">
        <label>memory.h</label>
      </node>
      <node id="1989">
        <label>cutoffs.h</label>
        <link refid="cutoffs_8h"/>
        <childnode refid="1956" relation="include">
        </childnode>
      </node>
      <node id="1976">
        <label>fpoint.h</label>
        <link refid="fpoint_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1977" relation="include">
        </childnode>
      </node>
      <node id="2053">
        <label>callcpp.h</label>
        <link refid="callcpp_8h"/>
        <childnode refid="2013" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
      </node>
      <node id="1947">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="1956">
        <label>matchdefs.h</label>
        <link refid="matchdefs_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
      </node>
      <node id="2010">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="1997" relation="include">
        </childnode>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="1982" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
        <childnode refid="1984" relation="include">
        </childnode>
        <childnode refid="2011" relation="include">
        </childnode>
      </node>
      <node id="1946">
        <label>limits.h</label>
      </node>
      <node id="2052">
        <label>chop.h</label>
        <link refid="chop_8h"/>
        <childnode refid="2048" relation="include">
        </childnode>
        <childnode refid="2021" relation="include">
        </childnode>
      </node>
      <node id="2046">
        <label>intfx.h</label>
        <link refid="intfx_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="1955" relation="include">
        </childnode>
        <childnode refid="2018" relation="include">
        </childnode>
        <childnode refid="1977" relation="include">
        </childnode>
      </node>
      <node id="2034">
        <label>associate.h</label>
        <link refid="associate_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="2035" relation="include">
        </childnode>
        <childnode refid="2021" relation="include">
        </childnode>
        <childnode refid="2022" relation="include">
        </childnode>
        <childnode refid="2036" relation="include">
        </childnode>
      </node>
      <node id="2019">
        <label>params_training_featdef.h</label>
        <link refid="params__training__featdef_8h"/>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
      </node>
      <node id="2039">
        <label>dict.h</label>
        <link refid="dict_8h"/>
        <childnode refid="1965" relation="include">
        </childnode>
        <childnode refid="2040" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="2030" relation="include">
        </childnode>
        <childnode refid="1960" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="2041" relation="include">
        </childnode>
        <childnode refid="2042" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
        <childnode refid="2043" relation="include">
        </childnode>
      </node>
      <node id="1983">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="1977" relation="include">
        </childnode>
      </node>
      <node id="2008">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="1982" relation="include">
        </childnode>
      </node>
      <node id="2003">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1967" relation="include">
        </childnode>
        <childnode refid="1969" relation="include">
        </childnode>
      </node>
      <node id="1973">
        <label>pthread.h</label>
      </node>
      <node id="1937">
        <label>string.h</label>
      </node>
      <node id="1971">
        <label>unicharmap.h</label>
        <link refid="unicharmap_8h"/>
        <childnode refid="1957" relation="include">
        </childnode>
      </node>
      <node id="2017">
        <label>boxword.h</label>
        <link refid="boxword_8h"/>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
      </node>
      <node id="1957">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="1958" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
      </node>
      <node id="1961">
        <label>cutil.h</label>
        <link refid="cutil_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
        <childnode refid="1942" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1962" relation="include">
        </childnode>
        <childnode refid="1963" relation="include">
        </childnode>
      </node>
      <node id="2051">
        <label>findseam.h</label>
        <link refid="findseam_8h"/>
        <childnode refid="2021" relation="include">
        </childnode>
        <childnode refid="2048" relation="include">
        </childnode>
        <childnode refid="2052" relation="include">
        </childnode>
      </node>
      <node id="1981">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="1977" relation="include">
        </childnode>
        <childnode refid="1982" relation="include">
        </childnode>
        <childnode refid="1949" relation="include">
        </childnode>
        <childnode refid="1984" relation="include">
        </childnode>
        <childnode refid="1962" relation="include">
        </childnode>
      </node>
      <node id="2002">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="1943">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="1974">
        <label>semaphore.h</label>
      </node>
      <node id="2006">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="2007" relation="include">
        </childnode>
        <childnode refid="2008" relation="include">
        </childnode>
        <childnode refid="2002" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
        <childnode refid="2004" relation="include">
        </childnode>
        <childnode refid="1984" relation="include">
        </childnode>
      </node>
      <node id="2001">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="2002" relation="include">
        </childnode>
        <childnode refid="2003" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
        <childnode refid="2004" relation="include">
        </childnode>
        <childnode refid="2005" relation="include">
        </childnode>
        <childnode refid="1998" relation="include">
        </childnode>
      </node>
      <node id="1953">
        <label>float2int.h</label>
        <link refid="float2int_8h"/>
        <childnode refid="1954" relation="include">
        </childnode>
        <childnode refid="1990" relation="include">
        </childnode>
      </node>
      <node id="1998">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1999" relation="include">
        </childnode>
        <childnode refid="2001" relation="include">
        </childnode>
      </node>
      <node id="1968">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="1947" relation="include">
        </childnode>
      </node>
      <node id="1959">
        <label>mfoutline.h</label>
        <link refid="mfoutline_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1960" relation="include">
        </childnode>
        <childnode refid="1976" relation="include">
        </childnode>
        <childnode refid="1978" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
      </node>
      <node id="1965">
        <label>ambigs.h</label>
        <link refid="ambigs_8h"/>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="1962" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
      </node>
      <node id="1988">
        <label>unicity_table.h</label>
        <link refid="unicity__table_8h"/>
        <childnode refid="1943" relation="include">
        </childnode>
        <childnode refid="1947" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
      </node>
      <node id="2027">
        <label>time.h</label>
      </node>
      <node id="2007">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="1982" relation="include">
        </childnode>
        <childnode refid="2008" relation="include">
        </childnode>
      </node>
      <node id="1977">
        <label>math.h</label>
      </node>
      <node id="2022">
        <label>split.h</label>
        <link refid="split_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="1960" relation="include">
        </childnode>
      </node>
      <node id="1969">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="1947" relation="include">
        </childnode>
      </node>
      <node id="2000">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="1982" relation="include">
        </childnode>
      </node>
      <node id="1985">
        <label>vecfuncs.h</label>
        <link refid="vecfuncs_8h"/>
        <childnode refid="1977" relation="include">
        </childnode>
        <childnode refid="1979" relation="include">
        </childnode>
      </node>
      <node id="1997">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="1960">
        <label>oldlist.h</label>
        <link refid="oldlist_8h"/>
        <childnode refid="1961" relation="include">
        </childnode>
        <childnode refid="1943" relation="include">
        </childnode>
      </node>
      <node id="1990">
        <label>ocrfeatures.h</label>
        <link refid="ocrfeatures_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="1940" relation="include">
        </childnode>
      </node>
      <node id="1938">
        <label>ctype.h</label>
      </node>
      <node id="2032">
        <label>gap_map.h</label>
        <link refid="gap__map_8h"/>
        <childnode refid="2031" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
      </node>
      <node id="1994">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="1995" relation="include">
        </childnode>
        <childnode refid="1996" relation="include">
        </childnode>
        <childnode refid="1998" relation="include">
        </childnode>
        <childnode refid="2009" relation="include">
        </childnode>
      </node>
      <node id="1939">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
      </node>
      <node id="1941">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1942" relation="include">
        </childnode>
        <childnode refid="1943" relation="include">
        </childnode>
        <childnode refid="1947" relation="include">
        </childnode>
        <childnode refid="1948" relation="include">
        </childnode>
        <childnode refid="1949" relation="include">
        </childnode>
      </node>
      <node id="2041">
        <label>stopper.h</label>
        <link refid="stopper_8h"/>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="2036" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
      </node>
      <node id="1951">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="1952" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="2028">
        <label>textord.h</label>
        <link refid="textord_8h"/>
        <childnode refid="2029" relation="include">
        </childnode>
        <childnode refid="2031" relation="include">
        </childnode>
        <childnode refid="2032" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
        <childnode refid="1997" relation="include">
        </childnode>
      </node>
      <node id="1986">
        <label>protos.h</label>
        <link refid="protos_8h"/>
        <childnode refid="1987" relation="include">
        </childnode>
        <childnode refid="1961" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
        <childnode refid="1988" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
      </node>
      <node id="2016">
        <label>pageres.h</label>
        <link refid="pageres_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="2017" relation="include">
        </childnode>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="2018" relation="include">
        </childnode>
        <childnode refid="1994" relation="include">
        </childnode>
        <childnode refid="1998" relation="include">
        </childnode>
        <childnode refid="2019" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="2020" relation="include">
        </childnode>
        <childnode refid="2021" relation="include">
        </childnode>
        <childnode refid="2001" relation="include">
        </childnode>
      </node>
      <node id="2047">
        <label>language_model.h</label>
        <link refid="language__model_8h"/>
        <childnode refid="2034" relation="include">
        </childnode>
        <childnode refid="2040" relation="include">
        </childnode>
        <childnode refid="2039" relation="include">
        </childnode>
        <childnode refid="2045" relation="include">
        </childnode>
        <childnode refid="1955" relation="include">
        </childnode>
        <childnode refid="2035" relation="include">
        </childnode>
        <childnode refid="2048" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="2016" relation="include">
        </childnode>
      </node>
      <node id="2044">
        <label>featdefs.h</label>
        <link refid="featdefs_8h"/>
        <childnode refid="1990" relation="include">
        </childnode>
      </node>
      <node id="1996">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="1997" relation="include">
        </childnode>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
      </node>
      <node id="1966">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1967" relation="include">
        </childnode>
        <childnode refid="1969" relation="include">
        </childnode>
      </node>
      <node id="1970">
        <label>unicharset.h</label>
        <link refid="unicharset_8h"/>
        <childnode refid="1947" relation="include">
        </childnode>
        <childnode refid="1948" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
        <childnode refid="1943" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
        <childnode refid="1971" relation="include">
        </childnode>
      </node>
      <node id="2021">
        <label>seam.h</label>
        <link refid="seam_8h"/>
        <childnode refid="1979" relation="include">
        </childnode>
        <childnode refid="2022" relation="include">
        </childnode>
        <childnode refid="2023" relation="include">
        </childnode>
      </node>
      <node id="1993">
        <label>control.h</label>
        <link refid="control_8h"/>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1994" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="2015" relation="include">
        </childnode>
        <childnode refid="2016" relation="include">
        </childnode>
        <childnode refid="2014" relation="include">
        </childnode>
      </node>
      <node id="2048">
        <label>oldheap.h</label>
        <link refid="oldheap_8h"/>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1961" relation="include">
        </childnode>
      </node>
      <node id="2040">
        <label>dawg.h</label>
        <link refid="dawg_8h"/>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1943" relation="include">
        </childnode>
      </node>
      <node id="2045">
        <label>fontinfo.h</label>
        <link refid="fontinfo_8h"/>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1957" relation="include">
        </childnode>
      </node>
      <node id="1982">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1977" relation="include">
        </childnode>
        <childnode refid="1966" relation="include">
        </childnode>
        <childnode refid="1983" relation="include">
        </childnode>
      </node>
      <node id="2038">
        <label>adaptive.h</label>
        <link refid="adaptive_8h"/>
        <childnode refid="1960" relation="include">
        </childnode>
        <childnode refid="1955" relation="include">
        </childnode>
        <childnode refid="1940" relation="include">
        </childnode>
      </node>
      <node id="2014">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="1995">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="1951" relation="include">
        </childnode>
      </node>
      <node id="1962">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="1939" relation="include">
        </childnode>
      </node>
      <node id="1954">
        <label>intmatcher.h</label>
        <link refid="intmatcher_8h"/>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1955" relation="include">
        </childnode>
        <childnode refid="1989" relation="include">
        </childnode>
      </node>
      <node id="2011">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="1944">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="1945" relation="include">
        </childnode>
      </node>
      <node id="2009">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="1980" relation="include">
        </childnode>
        <childnode refid="1995" relation="include">
        </childnode>
        <childnode refid="1950" relation="include">
        </childnode>
        <childnode refid="2010" relation="include">
        </childnode>
        <childnode refid="2011" relation="include">
        </childnode>
      </node>
      <node id="1940">
        <label>stdio.h</label>
      </node>
      <node id="2035">
        <label>matrix.h</label>
        <link refid="matrix_8h"/>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
      </node>
      <node id="1955">
        <label>intproto.h</label>
        <link refid="intproto_8h"/>
        <childnode refid="1941" relation="include">
        </childnode>
        <childnode refid="1956" relation="include">
        </childnode>
        <childnode refid="1959" relation="include">
        </childnode>
        <childnode refid="1986" relation="include">
        </childnode>
        <childnode refid="1984" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
      </node>
      <node id="1972">
        <label>tessdatamanager.h</label>
        <link refid="tessdatamanager_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
        <childnode refid="1962" relation="include">
        </childnode>
      </node>
      <node id="2018">
        <label>normalis.h</label>
        <link refid="normalis_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1944" relation="include">
        </childnode>
      </node>
      <node id="1950">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
        <childnode refid="1945" relation="include">
        </childnode>
        <childnode refid="1951" relation="include">
        </childnode>
      </node>
      <node id="1979">
        <label>blobs.h</label>
        <link refid="blobs_8h"/>
        <childnode refid="1980" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
        <childnode refid="1985" relation="include">
        </childnode>
      </node>
      <node id="1948">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="1940" relation="include">
        </childnode>
        <childnode refid="1937" relation="include">
        </childnode>
      </node>
      <node id="2043">
        <label>permute.h</label>
        <link refid="permute_8h"/>
        <childnode refid="2012" relation="include">
        </childnode>
        <childnode refid="1939" relation="include">
        </childnode>
        <childnode refid="1970" relation="include">
        </childnode>
      </node>
      <node id="1999">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="2000" relation="include">
        </childnode>
        <childnode refid="1967" relation="include">
        </childnode>
        <childnode refid="1951" relation="include">
        </childnode>
        <childnode refid="1981" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fixxht.cpp<sp/><sp/>(Formerly<sp/>fixxht.c)</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Description:<sp/>Improve<sp/>x_ht<sp/>and<sp/>look<sp/>out<sp/>for<sp/>case<sp/>inconsistencies</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Phil<sp/>Cheatle</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Thu<sp/>Aug<sp/><sp/>5<sp/>14:11:08<sp/>BST<sp/>1993</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>(C)<sp/>Copyright<sp/>1992,<sp/>Hewlett-Packard<sp/>Ltd.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>**<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>**<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>**<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>**<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>**<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mfcpch_8h" kindref="compound">mfcpch.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;ctype.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;<ref refid="params_8h" kindref="compound">params.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;<ref refid="float2int_8h" kindref="compound">float2int.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;<ref refid="tesseractclass_8h" kindref="compound">tesseractclass.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Fixxht<sp/>overview.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Premise:<sp/>Initial<sp/>estimate<sp/>of<sp/>x-height<sp/>is<sp/>adequate<sp/>most<sp/>of<sp/>the<sp/>time,<sp/>but</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/>occasionally<sp/>it<sp/>is<sp/>incorrect.<sp/>Most<sp/>notable<sp/>causes<sp/>of<sp/>failure<sp/>are:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">//<sp/>1.<sp/>Small<sp/>caps,<sp/>where<sp/>the<sp/>top<sp/>of<sp/>the<sp/>caps<sp/>is<sp/>the<sp/>same<sp/>as<sp/>the<sp/>body<sp/>text</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//<sp/>xheight.<sp/>For<sp/>small<sp/>caps<sp/>words<sp/>the<sp/>xheight<sp/>needs<sp/>to<sp/>be<sp/>reduced<sp/>to<sp/>correctly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">//<sp/>recognize<sp/>the<sp/>caps<sp/>in<sp/>the<sp/>small<sp/>caps<sp/>word.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>2.<sp/>All<sp/>xheight<sp/>lines,<sp/>such<sp/>as<sp/>summer.<sp/>Here<sp/>the<sp/>initial<sp/>estimate<sp/>will<sp/>have</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//<sp/>guessed<sp/>that<sp/>the<sp/>blob<sp/>tops<sp/>are<sp/>caps<sp/>and<sp/>will<sp/>have<sp/>placed<sp/>the<sp/>xheight<sp/>too<sp/>low.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="comment">//<sp/>3.<sp/>Noise/logos<sp/>beside<sp/>words,<sp/>or<sp/>changes<sp/>in<sp/>font<sp/>size<sp/>on<sp/>a<sp/>line.<sp/>Such</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="comment">//<sp/>things<sp/>can<sp/>blow<sp/>the<sp/>statistics<sp/>and<sp/>cause<sp/>an<sp/>incorrect<sp/>estimate.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Algorithm.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Compare<sp/>the<sp/>vertical<sp/>position<sp/>(top<sp/>only)<sp/>of<sp/>alphnumerics<sp/>in<sp/>a<sp/>word<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>range<sp/>of<sp/>positions<sp/>in<sp/>training<sp/>data<sp/>(in<sp/>the<sp/>unicharset).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>CountMisfitTops.<sp/>If<sp/>any<sp/>characters<sp/>disagree<sp/>sufficiently<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">//<sp/>initial<sp/>xheight<sp/>estimate,<sp/>then<sp/>recalculate<sp/>the<sp/>xheight,<sp/>re-run<sp/>OCR<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>word,<sp/>and<sp/>if<sp/>the<sp/>number<sp/>of<sp/>vertical<sp/>misfits<sp/>goes<sp/>down,<sp/>along<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="comment">//<sp/>either<sp/>the<sp/>word<sp/>rating<sp/>or<sp/>certainty,<sp/>then<sp/>keep<sp/>the<sp/>new<sp/>xheight.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>new<sp/>xheight<sp/>is<sp/>calculated<sp/>as<sp/>follows:ComputeCompatibleXHeight</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">//<sp/>For<sp/>each<sp/>alphanumeric<sp/>character<sp/>that<sp/>has<sp/>a<sp/>vertically<sp/>misplaced<sp/>top</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(a<sp/>misfit),<sp/>yet<sp/>its<sp/>bottom<sp/>is<sp/>within<sp/>the<sp/>acceptable<sp/>range<sp/>(ie<sp/>it<sp/>is<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">//<sp/>likely<sp/>a<sp/>sub-or<sp/>super-script)<sp/>calculate<sp/>the<sp/>range<sp/>of<sp/>acceptable<sp/>xheight</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">//<sp/>positions<sp/>from<sp/>its<sp/>range<sp/>of<sp/>tops,<sp/>and<sp/>give<sp/>each<sp/>value<sp/>in<sp/>the<sp/>range<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">//<sp/>number<sp/>of<sp/>votes<sp/>equal<sp/>to<sp/>the<sp/>distance<sp/>of<sp/>its<sp/>top<sp/>from<sp/>its<sp/>acceptance<sp/>range.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>x-height<sp/>position<sp/>with<sp/>the<sp/>median<sp/>of<sp/>the<sp/>votes<sp/>becomes<sp/>the<sp/>new</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="comment">//<sp/>x-height.<sp/>This<sp/>assumes<sp/>that<sp/>most<sp/>characters<sp/>will<sp/>be<sp/>correctly<sp/>recognized</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">//<sp/>even<sp/>if<sp/>the<sp/>x-height<sp/>is<sp/>incorrect.<sp/>This<sp/>is<sp/>not<sp/>a<sp/>terrible<sp/>assumption,<sp/>but</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="comment">//<sp/>it<sp/>is<sp/>not<sp/>great.<sp/>An<sp/>improvement<sp/>would<sp/>be<sp/>to<sp/>use<sp/>a<sp/>classifier<sp/>that<sp/>does</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//<sp/>not<sp/>care<sp/>about<sp/>vertical<sp/>position<sp/>or<sp/>scaling<sp/>at<sp/>all.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>max-min<sp/>top<sp/>of<sp/>a<sp/>unicharset<sp/>char<sp/>is<sp/>bigger<sp/>than<sp/>kMaxCharTopRange</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="comment">//<sp/>then<sp/>the<sp/>char<sp/>top<sp/>cannot<sp/>be<sp/>used<sp/>to<sp/>judge<sp/>misfits<sp/>or<sp/>suggest<sp/>a<sp/>new<sp/>top.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1af2e2357e43916a53259c2ac0d7954eaf" kindref="member">kMaxCharTopRange</ref><sp/>=<sp/>48;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>the<sp/>number<sp/>of<sp/>misfit<sp/>blob<sp/>tops<sp/>in<sp/>this<sp/>word.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract_1acf64fde8187041f90359fb507242bbb0" kindref="member">Tesseract::CountMisfitTops</ref>(<ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word_res)<sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bad_blobs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref>*<sp/>blob<sp/>=<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a211ab5c5a13123ee7bdc7459d3363f9d" kindref="member">rebuild_word</ref>-&gt;<ref refid="struct_t_w_e_r_d_1aeec31d57df04c8dac1cf3e6990d358a7" kindref="member">blobs</ref>;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>blob_id<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>blob<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/>blob<sp/>=<sp/>blob-&gt;<ref refid="struct_t_b_l_o_b_1a88a541f55c8bfd63a9f0c419189499bb" kindref="member">next</ref>,<sp/>++blob_id)<sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/>class_id<sp/>=<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a6b917b2e6157f7956ff53ca230425ed3" kindref="member">unichar_id</ref>(blob_id);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1ad1dd0929edfb0e9e4905cc2fbeff42c2" kindref="member">get_isalpha</ref>(class_id)<sp/>||<sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a5951dde3ab90c12c309d776570a10725" kindref="member">get_isdigit</ref>(class_id))<sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top<sp/>=<sp/>blob-&gt;<ref refid="struct_t_b_l_o_b_1a8f1f8f110170fe12cf8147d504cd0ea2" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>();</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top<sp/>&gt;=<sp/><ref refid="float2int_8h_1ae30a299d1150890d3f3606094fbf1169" kindref="member">INT_FEAT_RANGE</ref>)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top<sp/>=<sp/><ref refid="float2int_8h_1ae30a299d1150890d3f3606094fbf1169" kindref="member">INT_FEAT_RANGE</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min_bottom,<sp/>max_bottom,<sp/>min_top,<sp/>max_top;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1af2e0d12e80aa3aa985652d73eaf1e95f" kindref="member">get_top_bottom</ref>(class_id,<sp/>&amp;min_bottom,<sp/>&amp;max_bottom,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;min_top,<sp/>&amp;max_top);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_top<sp/>-<sp/>min_top<sp/>&gt;<sp/><ref refid="namespacetesseract_1af2e2357e43916a53259c2ac0d7954eaf" kindref="member">kMaxCharTopRange</ref>)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bad<sp/>=<sp/><sp/>top<sp/>&lt;<sp/>min_top<sp/>-<sp/>x_ht_acceptance_tolerance<sp/>||</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top<sp/>&gt;<sp/>max_top<sp/>+<sp/>x_ht_acceptance_tolerance;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bad)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++bad_blobs;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug_x_ht_level<sp/>&gt;=<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Class<sp/>%s<sp/>is<sp/>%s<sp/>with<sp/>top<sp/>%d<sp/>vs<sp/>limits<sp/>of<sp/>%d-&gt;%d,<sp/>+/-%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a421c0b6ebcbbe7547490252fb688c961" kindref="member">id_to_unichar</ref>(class_id),</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bad<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;Misfit&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;OK&quot;</highlight><highlight class="normal">,<sp/>top,<sp/>min_top,<sp/>max_top,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(x_ht_acceptance_tolerance));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bad_blobs;</highlight></codeline>
<codeline lineno="92"><highlight class="normal">}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>a<sp/>new<sp/>x-height<sp/>maximally<sp/>compatible<sp/>with<sp/>the<sp/>result<sp/>in<sp/>word_res.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>comment<sp/>above<sp/>for<sp/>overall<sp/>algorithm.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract_1a389a1917246c49fd19712f3e5e9209a3" kindref="member">Tesseract::ComputeCompatibleXheight</ref>(<ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word_res)<sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>top_stats(0,<sp/><ref refid="host_8h_1a05682ca8de174141447ff05a2289a27c" kindref="member">MAX_UINT8</ref>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref>*<sp/>blob<sp/>=<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a211ab5c5a13123ee7bdc7459d3363f9d" kindref="member">rebuild_word</ref>-&gt;<ref refid="struct_t_w_e_r_d_1aeec31d57df04c8dac1cf3e6990d358a7" kindref="member">blobs</ref>;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>blob_id<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>blob<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/>blob<sp/>=<sp/>blob-&gt;<ref refid="struct_t_b_l_o_b_1a88a541f55c8bfd63a9f0c419189499bb" kindref="member">next</ref>,<sp/>++blob_id)<sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/>class_id<sp/>=<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a6b917b2e6157f7956ff53ca230425ed3" kindref="member">unichar_id</ref>(blob_id);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1ad1dd0929edfb0e9e4905cc2fbeff42c2" kindref="member">get_isalpha</ref>(class_id)<sp/>||<sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a5951dde3ab90c12c309d776570a10725" kindref="member">get_isdigit</ref>(class_id))<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top<sp/>=<sp/>blob-&gt;<ref refid="struct_t_b_l_o_b_1a8f1f8f110170fe12cf8147d504cd0ea2" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1adf92e9fdac1bdf11c10d1c4d1178791a" kindref="member">top</ref>();</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clip<sp/>the<sp/>top<sp/>to<sp/>the<sp/>limit<sp/>of<sp/>normalized<sp/>feature<sp/>space.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top<sp/>&gt;=<sp/><ref refid="float2int_8h_1ae30a299d1150890d3f3606094fbf1169" kindref="member">INT_FEAT_RANGE</ref>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top<sp/>=<sp/><ref refid="float2int_8h_1ae30a299d1150890d3f3606094fbf1169" kindref="member">INT_FEAT_RANGE</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bottom<sp/>=<sp/>blob-&gt;<ref refid="struct_t_b_l_o_b_1a8f1f8f110170fe12cf8147d504cd0ea2" kindref="member">bounding_box</ref>().<ref refid="class_t_b_o_x_1a4451d237f1cd18c4982d63fe36a11fc3" kindref="member">bottom</ref>();</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min_bottom,<sp/>max_bottom,<sp/>min_top,<sp/>max_top;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1af2e0d12e80aa3aa985652d73eaf1e95f" kindref="member">get_top_bottom</ref>(class_id,<sp/>&amp;min_bottom,<sp/>&amp;max_bottom,</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;min_top,<sp/>&amp;max_top);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Chars<sp/>with<sp/>a<sp/>wild<sp/>top<sp/>range<sp/>would<sp/>mess<sp/>up<sp/>the<sp/>result<sp/>so<sp/>ignore<sp/>them.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_top<sp/>-<sp/>min_top<sp/>&gt;<sp/><ref refid="namespacetesseract_1af2e2357e43916a53259c2ac0d7954eaf" kindref="member">kMaxCharTopRange</ref>)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>misfit_dist<sp/>=<sp/><ref refid="ndminx_8h_1aacc3ee1a7f283f8ef65cea31f4436a95" kindref="member">MAX</ref>((min_top<sp/>-<sp/>x_ht_acceptance_tolerance)<sp/>-<sp/>top,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top<sp/>-<sp/>(max_top<sp/>+<sp/>x_ht_acceptance_tolerance));</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height<sp/>=<sp/>top<sp/>-<sp/><ref refid="normalis_8h_1abe10ce41bf7240ae8a053dea471d6ed5" kindref="member">kBlnBaselineOffset</ref>;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug_x_ht_level<sp/>&gt;=<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Class<sp/>%s:<sp/>height=%d,<sp/>bottom=%d,%d<sp/>top=%d,%d,<sp/>actual=%d,%d<sp/>:<sp/>&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a421c0b6ebcbbe7547490252fb688c961" kindref="member">id_to_unichar</ref>(class_id),</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>height,<sp/>min_bottom,<sp/>max_bottom,<sp/>min_top,<sp/>max_top,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bottom,<sp/>top);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>only<sp/>chars<sp/>that<sp/>fit<sp/>in<sp/>the<sp/>expected<sp/>bottom<sp/>range,<sp/>and<sp/>where</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>range<sp/>of<sp/>tops<sp/>is<sp/>sensibly<sp/>near<sp/>the<sp/>xheight.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(min_bottom<sp/>&lt;=<sp/>bottom<sp/>+<sp/>x_ht_acceptance_tolerance<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bottom<sp/>-<sp/>x_ht_acceptance_tolerance<sp/>&lt;=<sp/>max_bottom<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_top<sp/>&gt;<sp/>kBlnBaselineOffset<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_top<sp/>-<sp/>kBlnBaselineOffset<sp/>&gt;=<sp/><ref refid="normalis_8h_1af974e6755e636c8bc7cbe57e3bcbdd73" kindref="member">kBlnXHeight</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>misfit_dist<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>the<sp/>x-height<sp/>position<sp/>using<sp/>proportionality<sp/>between<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>actual<sp/>height<sp/>and<sp/>expected<sp/>height.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min_xht<sp/>=<sp/><ref refid="helpers_8h_1a29e9efc11d2c7cdfa4c30881e82999dc" kindref="member">DivRounded</ref>(height<sp/>*<sp/><ref refid="normalis_8h_1af974e6755e636c8bc7cbe57e3bcbdd73" kindref="member">kBlnXHeight</ref>,</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_top<sp/>-<sp/>kBlnBaselineOffset);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>max_xht<sp/>=<sp/><ref refid="helpers_8h_1a29e9efc11d2c7cdfa4c30881e82999dc" kindref="member">DivRounded</ref>(height<sp/>*<sp/><ref refid="normalis_8h_1af974e6755e636c8bc7cbe57e3bcbdd73" kindref="member">kBlnXHeight</ref>,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_top<sp/>-<sp/>kBlnBaselineOffset);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug_x_ht_level<sp/>&gt;=<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>xht<sp/>range<sp/>min=%d,<sp/>max=%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_xht,<sp/>max_xht);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>range<sp/>of<sp/>expected<sp/>heights<sp/>gets<sp/>a<sp/>vote<sp/>equal<sp/>to<sp/>the<sp/>distance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>the<sp/>actual<sp/>top<sp/>from<sp/>the<sp/>expected<sp/>top.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>min_xht;<sp/>y<sp/>&lt;=<sp/>max_xht;<sp/>++y)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>top_stats.add(y,<sp/>misfit_dist);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug_x_ht_level<sp/>&gt;=<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>already<sp/>OK\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top_stats.get_total()<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>new<sp/>xheight<sp/>is<sp/>just<sp/>the<sp/>median<sp/>vote,<sp/>which<sp/>is<sp/>then<sp/>scaled<sp/>out</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>BLN<sp/>space<sp/>back<sp/>to<sp/>pixel<sp/>space<sp/>to<sp/>get<sp/>the<sp/>x-height<sp/>in<sp/>pixel<sp/>space.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>new_xht<sp/>=<sp/>top_stats.median();</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug_x_ht_level<sp/>&gt;=<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Median<sp/>xht=%f\n&quot;</highlight><highlight class="normal">,<sp/>new_xht);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Mode20:A:<sp/>New<sp/>x-height<sp/>=<sp/>%f<sp/>(norm),<sp/>%f<sp/>(orig)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_xht,<sp/>new_xht<sp/>/<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a202d9d5d2a462d84012011c689e16605" kindref="member">denorm</ref>.<ref refid="class_d_e_n_o_r_m_1a712ca9b7a1041d92e53ee7023b870fc6" kindref="member">y_scale</ref>());</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>xheight<sp/>must<sp/>change<sp/>by<sp/>at<sp/>least<sp/>x_ht_min_change<sp/>to<sp/>be<sp/>used.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fabs(new_xht<sp/>-<sp/><ref refid="normalis_8h_1af974e6755e636c8bc7cbe57e3bcbdd73" kindref="member">kBlnXHeight</ref>)<sp/>&gt;=<sp/>x_ht_min_change)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>new_xht<sp/>/<sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a202d9d5d2a462d84012011c689e16605" kindref="member">denorm</ref>.<ref refid="class_d_e_n_o_r_m_1a712ca9b7a1041d92e53ee7023b870fc6" kindref="member">y_scale</ref>();</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0.0f;</highlight></codeline>
<codeline lineno="164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/ccmain/fixxht.cpp"/>
  </compounddef>
</doxygen>
