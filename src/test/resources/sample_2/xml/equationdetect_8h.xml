<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="equationdetect_8h" kind="file">
    <compoundname>equationdetect.h</compoundname>
    <includes refid="blobbox_8h" local="yes">blobbox.h</includes>
    <includes refid="equationdetectbase_8h" local="yes">equationdetectbase.h</includes>
    <includes refid="genericvector_8h" local="yes">genericvector.h</includes>
    <includes refid="unichar_8h" local="yes">unichar.h</includes>
    <includedby refid="baseapi_8cpp" local="yes">api/baseapi.cpp</includedby>
    <includedby refid="equationdetect_8cpp" local="yes">ccmain/equationdetect.cpp</includedby>
    <includedby refid="pagesegmain_8cpp" local="yes">ccmain/pagesegmain.cpp</includedby>
    <includedby refid="tesseractclass_8cpp" local="yes">ccmain/tesseractclass.cpp</includedby>
    <incdepgraph>
      <node id="1681">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="1682" relation="include">
        </childnode>
        <childnode refid="1695" relation="include">
        </childnode>
        <childnode refid="1696" relation="include">
        </childnode>
        <childnode refid="1719" relation="include">
        </childnode>
        <childnode refid="1726" relation="include">
        </childnode>
      </node>
      <node id="1701">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="1726">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1684" relation="include">
        </childnode>
        <childnode refid="1714" relation="include">
        </childnode>
      </node>
      <node id="1688">
        <label>stdlib.h</label>
      </node>
      <node id="1685">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="1686" relation="include">
        </childnode>
      </node>
      <node id="1704">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="1692" relation="include">
        </childnode>
      </node>
      <node id="1714">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
      </node>
      <node id="1687">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="1688" relation="include">
        </childnode>
        <childnode refid="1689" relation="include">
        </childnode>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1690" relation="include">
        </childnode>
        <childnode refid="1692" relation="include">
        </childnode>
        <childnode refid="1693" relation="include">
        </childnode>
      </node>
      <node id="1682">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1684" relation="include">
        </childnode>
        <childnode refid="1687" relation="include">
        </childnode>
        <childnode refid="1694" relation="include">
        </childnode>
      </node>
      <node id="1705">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="1706" relation="include">
        </childnode>
        <childnode refid="1713" relation="include">
        </childnode>
      </node>
      <node id="1727">
        <label>equationdetectbase.h</label>
        <link refid="equationdetectbase_8h"/>
      </node>
      <node id="1691">
        <label>stddef.h</label>
      </node>
      <node id="1729">
        <label>memory.h</label>
      </node>
      <node id="1692">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="1684" relation="include">
        </childnode>
      </node>
      <node id="1724">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="1722" relation="include">
        </childnode>
        <childnode refid="1710" relation="include">
        </childnode>
        <childnode refid="1708" relation="include">
        </childnode>
        <childnode refid="1713" relation="include">
        </childnode>
        <childnode refid="1714" relation="include">
        </childnode>
        <childnode refid="1725" relation="include">
        </childnode>
      </node>
      <node id="1686">
        <label>limits.h</label>
      </node>
      <node id="1680">
        <label>ccmain/equationdetect.h</label>
        <link refid="equationdetect.h"/>
        <childnode refid="1681" relation="include">
        </childnode>
        <childnode refid="1727" relation="include">
        </childnode>
        <childnode refid="1698" relation="include">
        </childnode>
        <childnode refid="1728" relation="include">
        </childnode>
      </node>
      <node id="1711">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="1709" relation="include">
        </childnode>
      </node>
      <node id="1712">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="1708" relation="include">
        </childnode>
      </node>
      <node id="1695">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1684" relation="include">
        </childnode>
        <childnode refid="1687" relation="include">
        </childnode>
        <childnode refid="1694" relation="include">
        </childnode>
      </node>
      <node id="1689">
        <label>string.h</label>
      </node>
      <node id="1728">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="1729" relation="include">
        </childnode>
        <childnode refid="1689" relation="include">
        </childnode>
      </node>
      <node id="1713">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="1709" relation="include">
        </childnode>
        <childnode refid="1708" relation="include">
        </childnode>
        <childnode refid="1701" relation="include">
        </childnode>
        <childnode refid="1714" relation="include">
        </childnode>
        <childnode refid="1715" relation="include">
        </childnode>
      </node>
      <node id="1703">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="1684" relation="include">
        </childnode>
      </node>
      <node id="1699">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="1684" relation="include">
        </childnode>
      </node>
      <node id="1706">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="1707" relation="include">
        </childnode>
        <childnode refid="1712" relation="include">
        </childnode>
        <childnode refid="1703" relation="include">
        </childnode>
        <childnode refid="1713" relation="include">
        </childnode>
        <childnode refid="1704" relation="include">
        </childnode>
        <childnode refid="1714" relation="include">
        </childnode>
      </node>
      <node id="1696">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="1697" relation="include">
        </childnode>
        <childnode refid="1703" relation="include">
        </childnode>
        <childnode refid="1695" relation="include">
        </childnode>
        <childnode refid="1702" relation="include">
        </childnode>
        <childnode refid="1704" relation="include">
        </childnode>
        <childnode refid="1705" relation="include">
        </childnode>
        <childnode refid="1716" relation="include">
        </childnode>
      </node>
      <node id="1716">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1717" relation="include">
        </childnode>
        <childnode refid="1696" relation="include">
        </childnode>
      </node>
      <node id="1693">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="1692" relation="include">
        </childnode>
      </node>
      <node id="1709">
        <label>math.h</label>
      </node>
      <node id="1707">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="1708" relation="include">
        </childnode>
        <childnode refid="1712" relation="include">
        </childnode>
      </node>
      <node id="1694">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="1692" relation="include">
        </childnode>
      </node>
      <node id="1718">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="1708" relation="include">
        </childnode>
      </node>
      <node id="1722">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="1719">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="1720" relation="include">
        </childnode>
        <childnode refid="1721" relation="include">
        </childnode>
        <childnode refid="1716" relation="include">
        </childnode>
        <childnode refid="1723" relation="include">
        </childnode>
      </node>
      <node id="1697">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1698" relation="include">
        </childnode>
        <childnode refid="1702" relation="include">
        </childnode>
      </node>
      <node id="1698">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1688" relation="include">
        </childnode>
        <childnode refid="1699" relation="include">
        </childnode>
        <childnode refid="1692" relation="include">
        </childnode>
        <childnode refid="1700" relation="include">
        </childnode>
        <childnode refid="1701" relation="include">
        </childnode>
      </node>
      <node id="1690">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="1691" relation="include">
        </childnode>
        <childnode refid="1684" relation="include">
        </childnode>
      </node>
      <node id="1721">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="1722" relation="include">
        </childnode>
        <childnode refid="1710" relation="include">
        </childnode>
        <childnode refid="1702" relation="include">
        </childnode>
      </node>
      <node id="1710">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1684" relation="include">
        </childnode>
        <childnode refid="1687" relation="include">
        </childnode>
        <childnode refid="1694" relation="include">
        </childnode>
      </node>
      <node id="1708">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1709" relation="include">
        </childnode>
        <childnode refid="1710" relation="include">
        </childnode>
        <childnode refid="1711" relation="include">
        </childnode>
      </node>
      <node id="1720">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="1690" relation="include">
        </childnode>
      </node>
      <node id="1715">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="1697" relation="include">
        </childnode>
      </node>
      <node id="1725">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="1684">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="1685" relation="include">
        </childnode>
      </node>
      <node id="1723">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="1682" relation="include">
        </childnode>
        <childnode refid="1720" relation="include">
        </childnode>
        <childnode refid="1702" relation="include">
        </childnode>
        <childnode refid="1724" relation="include">
        </childnode>
        <childnode refid="1725" relation="include">
        </childnode>
      </node>
      <node id="1683">
        <label>stdio.h</label>
      </node>
      <node id="1702">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1689" relation="include">
        </childnode>
        <childnode refid="1685" relation="include">
        </childnode>
        <childnode refid="1690" relation="include">
        </childnode>
      </node>
      <node id="1700">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="1683" relation="include">
        </childnode>
        <childnode refid="1689" relation="include">
        </childnode>
      </node>
      <node id="1717">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="1718" relation="include">
        </childnode>
        <childnode refid="1687" relation="include">
        </childnode>
        <childnode refid="1690" relation="include">
        </childnode>
        <childnode refid="1713" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1731">
        <label>api/baseapi.cpp</label>
        <link refid="baseapi_8cpp"/>
      </node>
      <node id="1733">
        <label>ccmain/pagesegmain.cpp</label>
        <link refid="pagesegmain_8cpp"/>
      </node>
      <node id="1730">
        <label>ccmain/equationdetect.h</label>
        <link refid="equationdetect.h"/>
        <childnode refid="1731" relation="include">
        </childnode>
        <childnode refid="1732" relation="include">
        </childnode>
        <childnode refid="1733" relation="include">
        </childnode>
        <childnode refid="1734" relation="include">
        </childnode>
      </node>
      <node id="1732">
        <label>ccmain/equationdetect.cpp</label>
        <link refid="equationdetect_8cpp"/>
      </node>
      <node id="1734">
        <label>ccmain/tesseractclass.cpp</label>
        <link refid="tesseractclass_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="classtesseract_1_1_equation_detect" prot="public">tesseract::EquationDetect</innerclass>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>equationdetect.h</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Description:<sp/>The<sp/>equation<sp/>detection<sp/>class<sp/>that<sp/>inherits<sp/>equationdetectbase.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Zongyi<sp/>(Joe)<sp/>Liu<sp/>(joeliu@google.com)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Fri<sp/>Aug<sp/>31<sp/>11:13:01<sp/>PST<sp/>2011</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(C)<sp/>Copyright<sp/>2011,<sp/>Google<sp/>Inc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//</highlight></codeline>
<codeline lineno="19"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>TESSERACT_CCMAIN_EQUATIONDETECT_H__</highlight></codeline>
<codeline lineno="21"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>TESSERACT_CCMAIN_EQUATIONDETECT_H__</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="blobbox_8h" kindref="compound">blobbox.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="equationdetectbase_8h" kindref="compound">equationdetectbase.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="genericvector_8h" kindref="compound">genericvector.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="unichar_8h" kindref="compound">unichar.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">BLOB_CHOICE_LIST;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">TO_BLOCK_LIST;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_u_n_i_c_h_a_r_s_e_t" kindref="compound">UNICHARSET</ref>;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">Tesseract;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">ColPartition;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">ColPartitionGrid;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">ColPartitionSet;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="classtesseract_1_1_equation_detect" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtesseract_1_1_equation_detect" kindref="compound">EquationDetect</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_base" kindref="compound">EquationDetectBase</ref><sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a0867ba3cb66855f3c625537b6b570447" kindref="member">EquationDetect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>equ_datapath,</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>equ_language);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a09236e0cf2e96fd341927a9dbb822f95" kindref="member">~EquationDetect</ref>();</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223" kindref="member">IndentType</ref><sp/>{</highlight></codeline>
<codeline lineno="49" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a0b833974e34cfce11e7bb182afd5c43c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a0b833974e34cfce11e7bb182afd5c43c" kindref="member">NO_INDENT</ref>,</highlight></codeline>
<codeline lineno="50" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223aab75a5b0799710a14abdda1687c1ae0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223aab75a5b0799710a14abdda1687c1ae0e" kindref="member">LEFT_INDENT</ref>,</highlight></codeline>
<codeline lineno="51" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a8b060953ddfce6e934e4346ba630606b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a8b060953ddfce6e934e4346ba630606b" kindref="member">RIGHT_INDENT</ref>,</highlight></codeline>
<codeline lineno="52" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a4c2d65f544868a206cf72cd4928c8d06" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223a4c2d65f544868a206cf72cd4928c8d06" kindref="member">BOTH_INDENT</ref>,</highlight></codeline>
<codeline lineno="53" refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223ab662e3c6542168f17a908c82ce4017a0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223ab662e3c6542168f17a908c82ce4017a0" kindref="member">INDENT_TYPE_COUNT</ref></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Reset<sp/>the<sp/>lang_tesseract_<sp/>pointer.<sp/>This<sp/>function<sp/>should<sp/>be<sp/>called<sp/>before<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>any<sp/>detector<sp/>work.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1aded5530c6cdae80194a4ec70104d9889" kindref="member">SetLangTesseract</ref>(<ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>*<sp/>lang_tesseract);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Iterate<sp/>over<sp/>the<sp/>blobs<sp/>inside<sp/>to_block,<sp/>and<sp/>set<sp/>the<sp/>blobs<sp/>that<sp/>we<sp/>want<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>process<sp/>to<sp/>BSTT_NONE.<sp/>(By<sp/>default,<sp/>they<sp/>should<sp/>be<sp/>BSTT_SKIP).<sp/>The<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>returns<sp/>0<sp/>upon<sp/>success.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1af6d40cc16252ebeba9458c3d5946b5f9" kindref="member">LabelSpecialText</ref>(<ref refid="class_t_o___b_l_o_c_k" kindref="compound">TO_BLOCK</ref>*<sp/>to_block);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>possible<sp/>equation<sp/>partitions<sp/>from<sp/>part_grid.<sp/>Should<sp/>be<sp/>called</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>after<sp/>the<sp/>special_text_type<sp/>of<sp/>blobs<sp/>are<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>returns<sp/>0<sp/>upon<sp/>success.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a800a94628a99a8f3e054619e170d7fbb" kindref="member">FindEquationParts</ref>(<ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/>part_grid,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition_set" kindref="compound">ColPartitionSet</ref>**<sp/>best_columns);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Reset<sp/>the<sp/>resolution<sp/>of<sp/>the<sp/>processing<sp/>image.<sp/>TEST<sp/>only<sp/>function.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a1e62860539cd17573c8f8d8aaf4a07e2" kindref="member">SetResolution</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>resolution);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>the<sp/>special<sp/>text<sp/>type<sp/>for<sp/>one<sp/>blob,<sp/>and<sp/>update<sp/>its<sp/>field.<sp/>When</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>height_th<sp/>is<sp/>set<sp/>(&gt;<sp/>0),<sp/>we<sp/>will<sp/>label<sp/>the<sp/>blob<sp/>as<sp/>BSTT_NONE<sp/>if<sp/>its<sp/>height</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>is<sp/>less<sp/>than<sp/>height_th.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ae00172a9d9483ef7a204f2316e4d7f96" kindref="member">IdentifySpecialText</ref>(<ref refid="class_b_l_o_b_n_b_o_x" kindref="compound">BLOBNBOX</ref><sp/>*blob,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height_th);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Estimate<sp/>the<sp/>type<sp/>for<sp/>one<sp/>unichar.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><ref refid="blobbox_8h_1a75b089d27e1df813fed544e0c131df8c" kindref="member">BlobSpecialTextType</ref><sp/><ref refid="classtesseract_1_1_equation_detect_1a51f3ad45ba13e180c87afd7af86846de" kindref="member">EstimateTypeForUnichar</ref>(</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_u_n_i_c_h_a_r_s_e_t" kindref="compound">UNICHARSET</ref>&amp;<sp/>unicharset,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>special<sp/>text<sp/>type<sp/>for<sp/>each<sp/>blobs<sp/>in<sp/>part_grid_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ae00172a9d9483ef7a204f2316e4d7f96" kindref="member">IdentifySpecialText</ref>();</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>blobs<sp/>that<sp/>we<sp/>want<sp/>to<sp/>skip<sp/>during<sp/>special<sp/>blob<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>classification.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ab4f5bf2daf3f1ab5332c879ef98e5008" kindref="member">IdentifyBlobsToSkip</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>ColPartitions<sp/>in<sp/>part_grid_<sp/>maybe<sp/>over-segmented,<sp/>particularly<sp/>in<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>block<sp/>equation<sp/>regions.<sp/>So<sp/>we<sp/>like<sp/>to<sp/>identify<sp/>these<sp/>partitions<sp/>and<sp/>merge</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>them<sp/>before<sp/>we<sp/>do<sp/>the<sp/>searching.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ad26e2adac7587d71b2a9394a4b8897a6" kindref="member">MergePartsByLocation</ref>();</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Staring<sp/>from<sp/>the<sp/>seed<sp/>center,<sp/>we<sp/>do<sp/>radius<sp/>search.<sp/>And<sp/>for<sp/>partitions<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>have<sp/>large<sp/>overlaps<sp/>with<sp/>seed,<sp/>we<sp/>remove<sp/>them<sp/>from<sp/>part_grid_<sp/>and<sp/>add<sp/>into</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>parts_overlap.<sp/>Note:<sp/>this<sp/>function<sp/>may<sp/>update<sp/>the<sp/>part_grid_,<sp/>so<sp/>if<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>caller<sp/>is<sp/>also<sp/>running<sp/>ColPartitionGridSearch,<sp/>use<sp/>the<sp/>RepositionIterator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>continue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ad11061cfdb9eb9cbdb8c9206b96b2c54" kindref="member">SearchByOverlap</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>seed,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref>*<sp/>parts_overlap);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Insert<sp/>part<sp/>back<sp/>into<sp/>part_grid_,<sp/>after<sp/>it<sp/>absorbs<sp/>some<sp/>other<sp/>parts.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a5f75b1dad656abfdb1a10eddeb8e65de" kindref="member">InsertPartAfterAbsorb</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>the<sp/>colparitions<sp/>in<sp/>part_grid_,<sp/>label<sp/>them<sp/>as<sp/>PT_EQUATION,<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>save<sp/>them<sp/>into<sp/>cp_seeds_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a39c1397a958168add27d1a4bbc3ff916" kindref="member">IdentifySeedParts</ref>();</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>the<sp/>blobs<sp/>count<sp/>for<sp/>a<sp/>seed<sp/>region<sp/>candidate.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a14f4d2d35ed292b40ce57b028d7e124a" kindref="member">CheckSeedBlobsCount</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>the<sp/>foreground<sp/>pixel<sp/>density<sp/>for<sp/>a<sp/>tbox<sp/>area.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a4aa9c0126e15827ea9c66319558d2fb9" kindref="member">ComputeForegroundDensity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>tbox);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>part<sp/>from<sp/>seed2<sp/>label:<sp/>with<sp/>low<sp/>math<sp/>density<sp/>and<sp/>left<sp/>indented.<sp/>We</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>are<sp/>using<sp/>two<sp/>checks:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>If<sp/>its<sp/>left<sp/>is<sp/>aligned<sp/>with<sp/>any<sp/>coordinates<sp/>in<sp/>indented_texts_left,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>which<sp/>we<sp/>assume<sp/>have<sp/>been<sp/>sorted.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>2.<sp/>If<sp/>its<sp/>foreground<sp/>density<sp/>is<sp/>over<sp/>foreground_density_th.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a2a1d7cd57ac4ed59a38ffd3b476dd2bf" kindref="member">CheckForSeed2</ref>(</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref>&amp;<sp/>indented_texts_left,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>foreground_density_th,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Count<sp/>the<sp/>number<sp/>of<sp/>values<sp/>in<sp/>sorted_vec<sp/>that<sp/>is<sp/>close<sp/>to<sp/>val,<sp/>used<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>a<sp/>partition<sp/>is<sp/>aligned<sp/>with<sp/>text<sp/>partitions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ab6e37bfef27092f6205b13bf8b221ffd" kindref="member">CountAlignment</ref>(</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref>&amp;<sp/>sorted_vec,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>a<sp/>seed<sp/>candidate<sp/>using<sp/>the<sp/>foreground<sp/>pixel<sp/>density.<sp/>And<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>true<sp/>if<sp/>the<sp/>density<sp/>is<sp/>below<sp/>a<sp/>certain<sp/>threshold,<sp/>because<sp/>characters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>equation<sp/>regions<sp/>usually<sp/>are<sp/>apart<sp/>with<sp/>more<sp/>white<sp/>spaces.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1aac03fc4552265dd3e79fae673fa63b88" kindref="member">CheckSeedFgDensity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>density_th,<sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>A<sp/>light<sp/>version<sp/>of<sp/>SplitCPHor:<sp/>instead<sp/>of<sp/>really<sp/>doing<sp/>the<sp/>part<sp/>split,<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>simply<sp/>compute<sp/>the<sp/>union<sp/>bounding<sp/>box<sp/>of<sp/>each<sp/>splitted<sp/>part.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a1ec8cc3dc57f53854d2190f112c00c85" kindref="member">SplitCPHorLite</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part,<sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;TBOX&gt;</ref>*<sp/>splitted_boxes);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Split<sp/>the<sp/>part<sp/>(horizontally),<sp/>and<sp/>save<sp/>the<sp/>splitted<sp/>result<sp/>into</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>parts_splitted.<sp/>Note<sp/>that<sp/>it<sp/>is<sp/>caller&apos;s<sp/>responsibility<sp/>to<sp/>release<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>memory<sp/>owns<sp/>by<sp/>parts_splitted.<sp/>On<sp/>the<sp/>other<sp/>hand,<sp/>the<sp/>part<sp/>is<sp/>unchanged</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>during<sp/>this<sp/>process<sp/>and<sp/>still<sp/>owns<sp/>the<sp/>blobs,<sp/>so<sp/>do<sp/>NOT<sp/>call<sp/>DeleteBoxes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>freeing<sp/>the<sp/>colpartitions<sp/>in<sp/>parts_splitted.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a69db9e31f41bd14650cf850234eceb66" kindref="member">SplitCPHor</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part,</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref>*<sp/>parts_splitted);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>the<sp/>density<sp/>for<sp/>a<sp/>seed<sp/>candidate<sp/>(part)<sp/>using<sp/>its<sp/>math<sp/>density<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>italic<sp/>density,<sp/>returns<sp/>true<sp/>if<sp/>the<sp/>check<sp/>passed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a8c054862ed6512cb8c935c53d179ffb2" kindref="member">CheckSeedDensity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>math_density_high,</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>math_density_low,</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>part<sp/>is<sp/>indented.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_equation_detect_1a8af35d2174dc3814a0e895115b4b4223" kindref="member">IndentType</ref><sp/><ref refid="classtesseract_1_1_equation_detect_1a35912b69ed5ffa28d88ed53ba9f060d3" kindref="member">IsIndented</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>inline<sp/>partitions<sp/>from<sp/>cp_seeds_,<sp/>and<sp/>re-label<sp/>them.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a89b2d841680f6f6207fc4f10b8d7839f" kindref="member">IdentifyInlineParts</ref>();</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Comute<sp/>the<sp/>super<sp/>bounding<sp/>box<sp/>for<sp/>all<sp/>colpartitions<sp/>inside<sp/>part_grid_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a8de69a1f250877609333539286e6914a" kindref="member">ComputeCPsSuperBBox</ref>();</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>inline<sp/>partitions<sp/>from<sp/>cp_seeds_<sp/>using<sp/>the<sp/>horizontal<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ae246fb4897d7e5181ff727874a9eb140" kindref="member">IdentifyInlinePartsHorizontal</ref>();</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Estimate<sp/>the<sp/>line<sp/>spacing<sp/>between<sp/>two<sp/>text<sp/>partitions.<sp/>Returns<sp/>-1<sp/>if<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>enough<sp/>data.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a096b2bb7f8f59484ec2043d92c3f1eec" kindref="member">EstimateTextPartLineSpacing</ref>();</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Identify<sp/>inline<sp/>partitions<sp/>from<sp/>cp_seeds_<sp/>using<sp/>vertical<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a657f367e87724bfab6359c42f10fad66" kindref="member">IdentifyInlinePartsVertical</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>top_to_bottom,</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>textPartsLineSpacing);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>part<sp/>is<sp/>an<sp/>inline<sp/>equation<sp/>zone.<sp/>This<sp/>should<sp/>be<sp/>called<sp/>after<sp/>we</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>identified<sp/>the<sp/>seed<sp/>regions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a9f0be32790e5915d579cd1898530fb6b" kindref="member">IsInline</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>search_bottom,</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>textPartsLineSpacing,</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>a<sp/>given<sp/>seed<sp/>partition,<sp/>we<sp/>search<sp/>the<sp/>part_grid_<sp/>and<sp/>see<sp/>if<sp/>there<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>any<sp/>partition<sp/>can<sp/>be<sp/>merged<sp/>with<sp/>it.<sp/>It<sp/>returns<sp/>true<sp/>if<sp/>the<sp/>seed<sp/>has<sp/>been</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>expanded.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a76bc8a18a94fc5f89f6d4d073ba0c9bf" kindref="member">ExpandSeed</ref>(<ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>seed);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Starting<sp/>from<sp/>the<sp/>seed<sp/>position,<sp/>we<sp/>search<sp/>the<sp/>part_grid_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>horizontally/vertically,<sp/>find<sp/>all<sp/>parititions<sp/>that<sp/>can<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>merged<sp/>with<sp/>seed,<sp/>remove<sp/>them<sp/>from<sp/>part_grid_,<sp/>and<sp/>put<sp/>them<sp/><sp/>into</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>parts_to_merge.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a627301cfc796de6a012ddec128e60b9d" kindref="member">ExpandSeedHorizontal</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>search_left,</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>seed,</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref>*<sp/>parts_to_merge);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a3d11902fde644823ee7c56e56ca804bb" kindref="member">ExpandSeedVertical</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>search_bottom,</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>seed,</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref>*<sp/>parts_to_merge);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>a<sp/>part_box<sp/>is<sp/>the<sp/>small<sp/>neighbor<sp/>of<sp/>seed_box.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a76f41d3142ca8575d3a574ff995ed207" kindref="member">IsNearSmallNeighbor</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>seed_box,</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>&amp;<sp/>part_box)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Perform<sp/>the<sp/>density<sp/>check<sp/>for<sp/>part,<sp/>which<sp/>we<sp/>assume<sp/>is<sp/>nearing<sp/>a<sp/>seed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>partition.<sp/>It<sp/>returns<sp/>true<sp/>if<sp/>the<sp/>check<sp/>passed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ab8a8a444009d7a5846bafa4bdceb58f1" kindref="member">CheckSeedNeighborDensity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>identify<sp/>the<sp/>math<sp/>blocks,<sp/>we<sp/>do<sp/>one<sp/>more<sp/>scanning<sp/>on<sp/>all<sp/>text</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>partitions,<sp/>and<sp/>check<sp/>if<sp/>any<sp/>of<sp/>them<sp/>is<sp/>the<sp/>satellite<sp/>of:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>math<sp/>blocks:<sp/>here<sp/>a<sp/>p<sp/>is<sp/>the<sp/>satellite<sp/>of<sp/>q<sp/>if:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>q<sp/>is<sp/>the<sp/>nearest<sp/>vertical<sp/>neighbor<sp/>of<sp/>p,<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>2.<sp/>y_gap(p,<sp/>q)<sp/>is<sp/>less<sp/>than<sp/>a<sp/>threshold,<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>3.<sp/>x_overlap(p,<sp/>q)<sp/>is<sp/>over<sp/>a<sp/>threshold.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note<sp/>that<sp/>p<sp/>can<sp/>be<sp/>the<sp/>satellites<sp/>of<sp/>two<sp/>blocks:<sp/>its<sp/>top<sp/>neighbor<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>bottom<sp/>neighbor.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a0bb5b44fbab44c93cb338eed35b4ef4a" kindref="member">ProcessMathBlockSatelliteParts</ref>();</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>part<sp/>is<sp/>the<sp/>satellite<sp/>of<sp/>one/two<sp/>math<sp/>blocks.<sp/>If<sp/>it<sp/>is,<sp/>we<sp/>return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>true,<sp/>and<sp/>save<sp/>the<sp/>blocks<sp/>into<sp/>math_blocks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1acd1af0968e619b1140831ee6fc9ab32d" kindref="member">IsMathBlockSatellite</ref>(</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part,<sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref>*<sp/>math_blocks);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Search<sp/>the<sp/>nearest<sp/>neighbor<sp/>of<sp/>part<sp/>in<sp/>one<sp/>vertical<sp/>direction<sp/>as<sp/>defined<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>search_bottom.<sp/>It<sp/>returns<sp/>the<sp/>neighbor<sp/>found<sp/>that<sp/>major<sp/>x<sp/>overlap<sp/>with<sp/>it,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>NULL<sp/>when<sp/>not<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/><ref refid="classtesseract_1_1_equation_detect_1a60bd749e3e2b016058ba4ece1e1dc80c" kindref="member">SearchNNVertical</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>search_bottom,</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>the<sp/>neighbor<sp/>with<sp/>vertical<sp/>distance<sp/>of<sp/>y_gap<sp/>is<sp/>a<sp/>near<sp/>and<sp/>math</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>block<sp/>partition.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a1f693603157274a6dff98b8d2cb38a89" kindref="member">IsNearMathNeighbor</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y_gap,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref><sp/>*neighbor)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Generate<sp/>the<sp/>tiff<sp/>file<sp/>name<sp/>for<sp/>output/debug<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a1b16b753a8304af5b0b4e85f5a02aa41" kindref="member">GetOutputTiffName</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name,<sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>*<sp/>image_name)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Debugger<sp/>function<sp/>that<sp/>renders<sp/>ColPartitions<sp/>on<sp/>the<sp/>input<sp/>image,<sp/>where:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>parts<sp/>labeled<sp/>as<sp/>PT_EQUATION<sp/>will<sp/>be<sp/>painted<sp/>in<sp/>red,<sp/>PT_INLINE_EQUATION</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>will<sp/>be<sp/>painted<sp/>in<sp/>green,<sp/>and<sp/>other<sp/>parts<sp/>will<sp/>be<sp/>painted<sp/>in<sp/>blue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ae10f647d8ed221a3e2faf4520b293281" kindref="member">PaintColParts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>&amp;<sp/>outfile)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Debugger<sp/>function<sp/>that<sp/>renders<sp/>the<sp/>blobs<sp/>in<sp/>part_grid_<sp/>over<sp/>the<sp/>input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>image.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a471e17b6ef69559f50db59e5c92bba50" kindref="member">PaintSpecialTexts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>&amp;<sp/>outfile)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Debugger<sp/>function<sp/>that<sp/>print<sp/>the<sp/>math<sp/>blobs<sp/>density<sp/>values<sp/>for<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>ColPartition<sp/>object.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1a90ae1d0f706dad22ca111983ab0734ab" kindref="member">PrintSpecialBlobsDensity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_col_partition" kindref="compound">ColPartition</ref>*<sp/>part)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>tesseract<sp/>engine<sp/>intialized<sp/>from<sp/>equation<sp/>training<sp/>data.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247" refid="classtesseract_1_1_equation_detect_1a1eeb1ca073ec04a8f4d182b85812bcc9" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>*<sp/><ref refid="classtesseract_1_1_equation_detect_1a1eeb1ca073ec04a8f4d182b85812bcc9" kindref="member">equ_tesseract_</ref>;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>tesseract<sp/>engine<sp/>used<sp/>for<sp/>OCR.<sp/>This<sp/>pointer<sp/>is<sp/>passed<sp/>in<sp/>by<sp/>the<sp/>caller,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>so<sp/>do<sp/>NOT<sp/>destroy<sp/>it<sp/>in<sp/>this<sp/>class.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251" refid="classtesseract_1_1_equation_detect_1ac9825c046385d42504424a69d3b56177" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>*<sp/><ref refid="classtesseract_1_1_equation_detect_1ac9825c046385d42504424a69d3b56177" kindref="member">lang_tesseract_</ref>;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>ColPartitionGrid<sp/>that<sp/>we<sp/>are<sp/>processing.<sp/>This<sp/>pointer<sp/>is<sp/>passed<sp/>in<sp/>from</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>caller,<sp/>so<sp/>do<sp/>NOT<sp/>destroy<sp/>it<sp/>in<sp/>the<sp/>class.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="classtesseract_1_1_equation_detect_1a4798ba96020b3ce55050b66dd3c72fe0" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_grid" kindref="compound">ColPartitionGrid</ref>*<sp/><ref refid="classtesseract_1_1_equation_detect_1a4798ba96020b3ce55050b66dd3c72fe0" kindref="member">part_grid_</ref>;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>A<sp/>simple<sp/>array<sp/>of<sp/>pointers<sp/>to<sp/>the<sp/>best<sp/>assigned<sp/>column<sp/>division<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>each<sp/>grid<sp/>y<sp/>coordinate.<sp/>This<sp/>pointer<sp/>is<sp/>passed<sp/>in<sp/>from<sp/>the<sp/>caller,<sp/>so<sp/>do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NOT<sp/>destroy<sp/>it<sp/>in<sp/>the<sp/>class.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260" refid="classtesseract_1_1_equation_detect_1a56fe80b060d60fd1d833b3054f44abdf" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_col_partition_set" kindref="compound">ColPartitionSet</ref>**<sp/><ref refid="classtesseract_1_1_equation_detect_1a56fe80b060d60fd1d833b3054f44abdf" kindref="member">best_columns_</ref>;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>super<sp/>bounding<sp/>box<sp/>of<sp/>all<sp/>cps<sp/>in<sp/>the<sp/>part_grid_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263" refid="classtesseract_1_1_equation_detect_1aa6dfc694549236e0be87efd3d2c8d17f" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref>*<sp/><ref refid="classtesseract_1_1_equation_detect_1aa6dfc694549236e0be87efd3d2c8d17f" kindref="member">cps_super_bbox_</ref>;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>seed<sp/>ColPartition<sp/>for<sp/>equation<sp/>region.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266" refid="classtesseract_1_1_equation_detect_1ad41af69ecd3e0227bbe5b4714c429666" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ColPartition*&gt;</ref><sp/><ref refid="classtesseract_1_1_equation_detect_1ad41af69ecd3e0227bbe5b4714c429666" kindref="member">cp_seeds_</ref>;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>resolution<sp/>(dpi)<sp/>of<sp/>the<sp/>processing<sp/>image.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="classtesseract_1_1_equation_detect_1ae97d45cf4e1e79c132831151d66fb662" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1ae97d45cf4e1e79c132831151d66fb662" kindref="member">resolution_</ref>;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>number<sp/>of<sp/>pages<sp/>we<sp/>have<sp/>processed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272" refid="classtesseract_1_1_equation_detect_1aec76c4ef860f40ec042c65ea1340fc31" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect_1aec76c4ef860f40ec042c65ea1340fc31" kindref="member">page_count_</ref>;</highlight></codeline>
<codeline lineno="273"><highlight class="normal">};</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/>//<sp/>TESSERACT_CCMAIN_EQUATIONDETECT_H_</highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/ccmain/equationdetect.h"/>
  </compounddef>
</doxygen>
