<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="gap__map_8cpp" kind="file">
    <compoundname>gap_map.cpp</compoundname>
    <includes refid="mfcpch_8h" local="yes">mfcpch.h</includes>
    <includes refid="statistc_8h" local="yes">statistc.h</includes>
    <includes refid="gap__map_8h" local="yes">gap_map.h</includes>
    <incdepgraph>
      <node id="38279">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="38280" relation="include">
        </childnode>
        <childnode refid="38289" relation="include">
        </childnode>
        <childnode refid="38290" relation="include">
        </childnode>
        <childnode refid="38312" relation="include">
        </childnode>
        <childnode refid="38272" relation="include">
        </childnode>
      </node>
      <node id="38271">
        <label>mfcpch.h</label>
        <link refid="mfcpch_8h"/>
      </node>
      <node id="38295">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="38272">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38274" relation="include">
        </childnode>
        <childnode refid="38277" relation="include">
        </childnode>
      </node>
      <node id="38282">
        <label>stdlib.h</label>
      </node>
      <node id="38275">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="38276" relation="include">
        </childnode>
      </node>
      <node id="38298">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="38286" relation="include">
        </childnode>
      </node>
      <node id="38277">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
      </node>
      <node id="38281">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="38282" relation="include">
        </childnode>
        <childnode refid="38283" relation="include">
        </childnode>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38284" relation="include">
        </childnode>
        <childnode refid="38286" relation="include">
        </childnode>
        <childnode refid="38287" relation="include">
        </childnode>
      </node>
      <node id="38280">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38274" relation="include">
        </childnode>
        <childnode refid="38281" relation="include">
        </childnode>
        <childnode refid="38288" relation="include">
        </childnode>
      </node>
      <node id="38299">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="38300" relation="include">
        </childnode>
        <childnode refid="38307" relation="include">
        </childnode>
      </node>
      <node id="38285">
        <label>stddef.h</label>
      </node>
      <node id="38286">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="38274" relation="include">
        </childnode>
      </node>
      <node id="38317">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="38315" relation="include">
        </childnode>
        <childnode refid="38304" relation="include">
        </childnode>
        <childnode refid="38302" relation="include">
        </childnode>
        <childnode refid="38307" relation="include">
        </childnode>
        <childnode refid="38277" relation="include">
        </childnode>
        <childnode refid="38318" relation="include">
        </childnode>
      </node>
      <node id="38276">
        <label>limits.h</label>
      </node>
      <node id="38305">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="38303" relation="include">
        </childnode>
      </node>
      <node id="38306">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="38302" relation="include">
        </childnode>
      </node>
      <node id="38289">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38274" relation="include">
        </childnode>
        <childnode refid="38281" relation="include">
        </childnode>
        <childnode refid="38288" relation="include">
        </childnode>
      </node>
      <node id="38283">
        <label>string.h</label>
      </node>
      <node id="38307">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="38303" relation="include">
        </childnode>
        <childnode refid="38302" relation="include">
        </childnode>
        <childnode refid="38295" relation="include">
        </childnode>
        <childnode refid="38277" relation="include">
        </childnode>
        <childnode refid="38308" relation="include">
        </childnode>
      </node>
      <node id="38297">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="38274" relation="include">
        </childnode>
      </node>
      <node id="38293">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="38274" relation="include">
        </childnode>
      </node>
      <node id="38300">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="38301" relation="include">
        </childnode>
        <childnode refid="38306" relation="include">
        </childnode>
        <childnode refid="38297" relation="include">
        </childnode>
        <childnode refid="38307" relation="include">
        </childnode>
        <childnode refid="38298" relation="include">
        </childnode>
        <childnode refid="38277" relation="include">
        </childnode>
      </node>
      <node id="38290">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="38291" relation="include">
        </childnode>
        <childnode refid="38297" relation="include">
        </childnode>
        <childnode refid="38289" relation="include">
        </childnode>
        <childnode refid="38296" relation="include">
        </childnode>
        <childnode refid="38298" relation="include">
        </childnode>
        <childnode refid="38299" relation="include">
        </childnode>
        <childnode refid="38309" relation="include">
        </childnode>
      </node>
      <node id="38309">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38310" relation="include">
        </childnode>
        <childnode refid="38290" relation="include">
        </childnode>
      </node>
      <node id="38287">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="38286" relation="include">
        </childnode>
      </node>
      <node id="38270">
        <label>textord/gap_map.cpp</label>
        <link refid="gap_map.cpp"/>
        <childnode refid="38271" relation="include">
        </childnode>
        <childnode refid="38272" relation="include">
        </childnode>
        <childnode refid="38278" relation="include">
        </childnode>
      </node>
      <node id="38303">
        <label>math.h</label>
      </node>
      <node id="38301">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="38302" relation="include">
        </childnode>
        <childnode refid="38306" relation="include">
        </childnode>
      </node>
      <node id="38288">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="38286" relation="include">
        </childnode>
      </node>
      <node id="38311">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="38302" relation="include">
        </childnode>
      </node>
      <node id="38315">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="38278">
        <label>gap_map.h</label>
        <link refid="gap__map_8h"/>
        <childnode refid="38279" relation="include">
        </childnode>
        <childnode refid="38319" relation="include">
        </childnode>
      </node>
      <node id="38312">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="38313" relation="include">
        </childnode>
        <childnode refid="38314" relation="include">
        </childnode>
        <childnode refid="38309" relation="include">
        </childnode>
        <childnode refid="38316" relation="include">
        </childnode>
      </node>
      <node id="38291">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38292" relation="include">
        </childnode>
        <childnode refid="38296" relation="include">
        </childnode>
      </node>
      <node id="38292">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38282" relation="include">
        </childnode>
        <childnode refid="38293" relation="include">
        </childnode>
        <childnode refid="38286" relation="include">
        </childnode>
        <childnode refid="38294" relation="include">
        </childnode>
        <childnode refid="38295" relation="include">
        </childnode>
      </node>
      <node id="38284">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="38285" relation="include">
        </childnode>
        <childnode refid="38274" relation="include">
        </childnode>
      </node>
      <node id="38314">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="38315" relation="include">
        </childnode>
        <childnode refid="38304" relation="include">
        </childnode>
        <childnode refid="38296" relation="include">
        </childnode>
      </node>
      <node id="38304">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38274" relation="include">
        </childnode>
        <childnode refid="38281" relation="include">
        </childnode>
        <childnode refid="38288" relation="include">
        </childnode>
      </node>
      <node id="38302">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38303" relation="include">
        </childnode>
        <childnode refid="38304" relation="include">
        </childnode>
        <childnode refid="38305" relation="include">
        </childnode>
      </node>
      <node id="38319">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="38313">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="38284" relation="include">
        </childnode>
      </node>
      <node id="38308">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="38291" relation="include">
        </childnode>
      </node>
      <node id="38318">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="38274">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="38275" relation="include">
        </childnode>
      </node>
      <node id="38316">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="38280" relation="include">
        </childnode>
        <childnode refid="38313" relation="include">
        </childnode>
        <childnode refid="38296" relation="include">
        </childnode>
        <childnode refid="38317" relation="include">
        </childnode>
        <childnode refid="38318" relation="include">
        </childnode>
      </node>
      <node id="38273">
        <label>stdio.h</label>
      </node>
      <node id="38296">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38283" relation="include">
        </childnode>
        <childnode refid="38275" relation="include">
        </childnode>
        <childnode refid="38284" relation="include">
        </childnode>
      </node>
      <node id="38294">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="38273" relation="include">
        </childnode>
        <childnode refid="38283" relation="include">
        </childnode>
      </node>
      <node id="38310">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="38311" relation="include">
        </childnode>
        <childnode refid="38281" relation="include">
        </childnode>
        <childnode refid="38284" relation="include">
        </childnode>
        <childnode refid="38307" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="gap__map_8cpp_1a77366c1bd428629dc898e188bfd182a3" prot="public" static="no">
        <name>EXTERN</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" line="5" column="9" bodyfile="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" bodystart="5" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="gap__map_8cpp_1af63414c0bf0025052ac055ccae53a4dc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BOOL_VAR</definition>
        <argsstring>(gapmap_debug, FALSE,&quot;Say which blocks have tables&quot;)</argsstring>
        <name>BOOL_VAR</name>
        <param>
          <type>gapmap_debug</type>
        </param>
        <param>
          <type><ref refid="cutil_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref></type>
        </param>
        <param>
          <type>&quot;Say which blocks have tables&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" line="6" column="1"/>
      </memberdef>
      <memberdef kind="function" id="gap__map_8cpp_1ab1c5ba2440462664b25dc95abe2219f4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BOOL_VAR</definition>
        <argsstring>(gapmap_use_ends, FALSE,&quot;Use large space at start and end of rows&quot;)</argsstring>
        <name>BOOL_VAR</name>
        <param>
          <type>gapmap_use_ends</type>
        </param>
        <param>
          <type><ref refid="cutil_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref></type>
        </param>
        <param>
          <type>&quot;Use large space at start and end of rows&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" line="7" column="1"/>
      </memberdef>
      <memberdef kind="function" id="gap__map_8cpp_1ad2edf6075e660e3ee46e8d09c5ae730c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>BOOL_VAR</definition>
        <argsstring>(gapmap_no_isolated_quanta, FALSE,&quot;Ensure gaps not less than 2quanta wide&quot;)</argsstring>
        <name>BOOL_VAR</name>
        <param>
          <type>gapmap_no_isolated_quanta</type>
        </param>
        <param>
          <type><ref refid="cutil_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref></type>
        </param>
        <param>
          <type>&quot;Ensure gaps not less than 2quanta wide&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" line="9" column="1"/>
      </memberdef>
      <memberdef kind="function" id="gap__map_8cpp_1ada623a23ae7e01646042dbc2cbfd37a8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>double_VAR</definition>
        <argsstring>(gapmap_big_gaps, 1.75,&quot;xht multiplier&quot;)</argsstring>
        <name>double_VAR</name>
        <param>
          <type>gapmap_big_gaps</type>
        </param>
        <param>
          <type>1.</type>
          <declname>75</declname>
        </param>
        <param>
          <type>&quot;xht multiplier&quot;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp" line="11" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mfcpch_8h" kindref="compound">mfcpch.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;<ref refid="statistc_8h" kindref="compound">statistc.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;<ref refid="gap__map_8h" kindref="compound">gap_map.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>EXTERN</highlight></codeline>
<codeline lineno="6"><highlight class="preprocessor"></highlight><highlight class="normal"><ref refid="gap__map_8cpp_1a77366c1bd428629dc898e188bfd182a3" kindref="member">EXTERN</ref><sp/><ref refid="params_8h_1a442e7f541a050acf5ebda026db177877" kindref="member">BOOL_VAR</ref><sp/>(gapmap_debug,<sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Say<sp/>which<sp/>blocks<sp/>have<sp/>tables&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><ref refid="gap__map_8cpp_1a77366c1bd428629dc898e188bfd182a3" kindref="member">EXTERN</ref><sp/><ref refid="params_8h_1a442e7f541a050acf5ebda026db177877" kindref="member">BOOL_VAR</ref><sp/>(gapmap_use_ends,<sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;Use<sp/>large<sp/>space<sp/>at<sp/>start<sp/>and<sp/>end<sp/>of<sp/>rows&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><ref refid="gap__map_8cpp_1a77366c1bd428629dc898e188bfd182a3" kindref="member">EXTERN</ref><sp/><ref refid="params_8h_1a442e7f541a050acf5ebda026db177877" kindref="member">BOOL_VAR</ref><sp/>(gapmap_no_isolated_quanta,<sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;Ensure<sp/>gaps<sp/>not<sp/>less<sp/>than<sp/>2quanta<sp/>wide&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><ref refid="gap__map_8cpp_1a77366c1bd428629dc898e188bfd182a3" kindref="member">EXTERN</ref><sp/><ref refid="params_8h_1aa855c84dbbf962a5533a96e1f458c690" kindref="member">double_VAR</ref><sp/>(gapmap_big_gaps,<sp/>1.75,<sp/></highlight><highlight class="stringliteral">&quot;xht<sp/>multiplier&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">/*************************************************************************</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>A<sp/>block<sp/>gap<sp/>map<sp/>is<sp/>a<sp/>quantised<sp/>histogram<sp/>of<sp/>whitespace<sp/>regions<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>block.<sp/>It<sp/>is<sp/>a<sp/>vertical<sp/>projection<sp/>of<sp/>wide<sp/>gaps<sp/>WITHIN<sp/>lines</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>The<sp/>map<sp/>is<sp/>held<sp/>as<sp/>an<sp/>array<sp/>of<sp/>counts<sp/>of<sp/>rows<sp/>which<sp/>have<sp/>a<sp/>wide<sp/>gap</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>covering<sp/>that<sp/>region<sp/>of<sp/>the<sp/>row.<sp/>Each<sp/>bucket<sp/>in<sp/>the<sp/>map<sp/>represents<sp/>a<sp/>width</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>of<sp/>about<sp/>half<sp/>an<sp/>xheight<sp/>-<sp/>(The<sp/>median<sp/>of<sp/>the<sp/>xhts<sp/>in<sp/>the<sp/>rows<sp/>is<sp/>used.)</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>The<sp/>block<sp/>is<sp/>considered<sp/>RECTANGULAR<sp/>-<sp/>delimited<sp/>by<sp/>the<sp/>left<sp/>and<sp/>right</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/>extremes<sp/>of<sp/>the<sp/>rows<sp/>in<sp/>the<sp/>block.<sp/>However,<sp/>ONLY<sp/>wide<sp/>gaps<sp/>WITHIN<sp/>a<sp/>row<sp/>are</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>counted.</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><ref refid="class_g_a_p_m_a_p_1a81bd55fa87cfc5e74784ba3de5528766" kindref="member">GAPMAP::GAPMAP</ref>(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Constructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_t_o___b_l_o_c_k" kindref="compound">TO_BLOCK</ref><sp/>*block<sp/><sp/></highlight><highlight class="comment">//block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/>TO_ROW_IT<sp/>row_it;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//row<sp/>iterator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><ref refid="class_t_o___r_o_w" kindref="compound">TO_ROW</ref><sp/>*row;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//current<sp/>row</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>BLOBNBOX_IT<sp/>blob_it;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//iterator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>blob_box;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>prev_blob_box;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>gap_width;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>start_of_row;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>end_of_row;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_a_t_s" kindref="compound">STATS</ref><sp/>xht_stats<sp/>(0,<sp/>128);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>min_quantum;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>max_quantum;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>i;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/>row_it.set_to_list<sp/>(block-&gt;<ref refid="class_t_o___b_l_o_c_k_1a4846ebdcc832b4b0a762d87c0d83a056" kindref="member">get_rows</ref><sp/>());</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/><sp/><sp/><sp/>Find<sp/>left<sp/>and<sp/>right<sp/>extremes<sp/>and<sp/>bucket<sp/>size</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/>map<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/>min_left<sp/>=<sp/><ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/>max_right<sp/>=<sp/>-<ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref>;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/>total_rows<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/>any_tabs<sp/>=<sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(row_it.mark_cycle_pt<sp/>();<sp/>!row_it.cycled_list<sp/>();<sp/>row_it.forward<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>row<sp/>=<sp/>row_it.data<sp/>();</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!row-&gt;<ref refid="class_t_o___r_o_w_1a39cee94572e70d35179c27cdf21a3022" kindref="member">blob_list</ref><sp/>()-&gt;empty<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>total_rows++;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>xht_stats.add<sp/>((<ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref>)<sp/>floor<sp/>(row-&gt;<ref refid="class_t_o___r_o_w_1a819d94a95b9aab802acbcba097c67b2b" kindref="member">xheight</ref><sp/>+<sp/>0.5),<sp/>1);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob_it.set_to_list<sp/>(row-&gt;<ref refid="class_t_o___r_o_w_1a39cee94572e70d35179c27cdf21a3022" kindref="member">blob_list</ref><sp/>());</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>start_of_row<sp/>=<sp/>blob_it.data<sp/>()-&gt;bounding_box<sp/>().left<sp/>();</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>end_of_row<sp/>=<sp/>blob_it.data_relative<sp/>(-1)-&gt;bounding_box<sp/>().right<sp/>();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(min_left<sp/>&gt;<sp/>start_of_row)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_left<sp/>=<sp/>start_of_row;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(max_right<sp/>&lt;<sp/>end_of_row)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_right<sp/>=<sp/>end_of_row;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((total_rows<sp/>&lt;<sp/>3)<sp/>||<sp/>(min_left<sp/>&gt;=<sp/>max_right))<sp/>{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>total_rows<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>min_left<sp/>=<sp/>max_right<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>bucket_size<sp/>=<sp/>(<ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref>)<sp/>floor<sp/>(xht_stats.median<sp/>()<sp/>+<sp/>0.5)<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/>map_max<sp/>=<sp/>(max_right<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>map<sp/>=<sp/>(<ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>*)<sp/><ref refid="memry_8cpp_1a4c14b091498fb7866a1dd0af51a591fe" kindref="member">alloc_mem</ref><sp/>((map_max<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal"><sp/>(<ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref>));</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>map_max;<sp/>i++)</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>map[i]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(row_it.mark_cycle_pt<sp/>();<sp/>!row_it.cycled_list<sp/>();<sp/>row_it.forward<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>row<sp/>=<sp/>row_it.data<sp/>();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!row-&gt;<ref refid="class_t_o___r_o_w_1a39cee94572e70d35179c27cdf21a3022" kindref="member">blob_list</ref><sp/>()-&gt;empty<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob_it.set_to_list<sp/>(row-&gt;<ref refid="class_t_o___r_o_w_1a39cee94572e70d35179c27cdf21a3022" kindref="member">blob_list</ref><sp/>());</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob_it.mark_cycle_pt<sp/>();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob_box<sp/>=<sp/><ref refid="blobbox_8cpp_1a343c30f9e935058965b844710a2e3180" kindref="member">box_next</ref><sp/>(&amp;blob_it);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>prev_blob_box<sp/>=<sp/>blob_box;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gapmap_use_ends)<sp/>{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Leading<sp/>space<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gap_width<sp/>=<sp/>blob_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref><sp/>()<sp/>-<sp/>min_left;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((gap_width<sp/>&gt;<sp/>gapmap_big_gaps<sp/>*<sp/>row-&gt;<ref refid="class_t_o___r_o_w_1a819d94a95b9aab802acbcba097c67b2b" kindref="member">xheight</ref>)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>gap_width<sp/>&gt;<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_quantum<sp/>=<sp/>(blob_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref><sp/>()<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>max_quantum;<sp/>i++)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]++;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!blob_it.cycled_list<sp/>())<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blob_box<sp/>=<sp/><ref refid="blobbox_8cpp_1a343c30f9e935058965b844710a2e3180" kindref="member">box_next</ref><sp/>(&amp;blob_it);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gap_width<sp/>=<sp/>blob_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref><sp/>()<sp/>-<sp/>prev_blob_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref><sp/>();</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((gap_width<sp/>&gt;<sp/>gapmap_big_gaps<sp/>*<sp/>row-&gt;<ref refid="class_t_o___r_o_w_1a819d94a95b9aab802acbcba097c67b2b" kindref="member">xheight</ref>)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>gap_width<sp/>&gt;<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_quantum<sp/>=</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(prev_blob_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref><sp/>()<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_quantum<sp/>=<sp/>(blob_box.<ref refid="class_t_b_o_x_1a724fabf566586b663577dfa944ffbc61" kindref="member">left</ref><sp/>()<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>min_quantum;<sp/>i<sp/>&lt;=<sp/>max_quantum;<sp/>i++)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]++;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prev_blob_box<sp/>=<sp/>blob_box;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gapmap_use_ends)<sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Trailing<sp/>space<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gap_width<sp/>=<sp/>max_right<sp/>-<sp/>prev_blob_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref><sp/>();</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((gap_width<sp/>&gt;<sp/>gapmap_big_gaps<sp/>*<sp/>row-&gt;<ref refid="class_t_o___r_o_w_1a819d94a95b9aab802acbcba097c67b2b" kindref="member">xheight</ref>)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>gap_width<sp/>&gt;<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_quantum<sp/>=</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(prev_blob_box.<ref refid="class_t_b_o_x_1a8703081c1a1c26db3a4dddaca1028e34" kindref="member">right</ref><sp/>()<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>min_quantum;<sp/>i<sp/>&lt;=<sp/>map_max;<sp/>i++)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]++;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>map_max;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(map[i]<sp/>&gt;<sp/>total_rows<sp/>/<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gapmap_no_isolated_quanta<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(((i<sp/>==<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(map[i<sp/>+<sp/>1]<sp/>&lt;=<sp/>total_rows<sp/>/<sp/>2))<sp/>||</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((i<sp/>==<sp/>map_max)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(map[i<sp/>-<sp/>1]<sp/>&lt;=<sp/>total_rows<sp/>/<sp/>2))<sp/>||</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((i<sp/>&gt;<sp/>0)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(i<sp/>&lt;<sp/>map_max)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(map[i<sp/>-<sp/>1]<sp/>&lt;=<sp/>total_rows<sp/>/<sp/>2)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(map[i<sp/>+<sp/>1]<sp/>&lt;=<sp/>total_rows<sp/>/<sp/>2))))<sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//prevent<sp/>isolated<sp/>quantum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>any_tabs<sp/>=<sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gapmap_debug<sp/>&amp;&amp;<sp/>any_tabs)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Table<sp/>found\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="139"><highlight class="normal">}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="comment">/*************************************************************************</highlight></codeline>
<codeline lineno="143"><highlight class="comment"><sp/>*<sp/>GAPMAP::table_gap()</highlight></codeline>
<codeline lineno="144"><highlight class="comment"><sp/>*<sp/>Is<sp/>there<sp/>a<sp/>bucket<sp/>in<sp/>the<sp/>specified<sp/>range<sp/>where<sp/>more<sp/>than<sp/>half<sp/>the<sp/>rows<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="145"><highlight class="comment"><sp/>*<sp/>block<sp/>have<sp/>a<sp/>wide<sp/>gap?</highlight></codeline>
<codeline lineno="146"><highlight class="comment"><sp/>*************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><ref refid="class_g_a_p_m_a_p_1a4e9ecf4f9ab09454c84474ef21e06e89" kindref="member">GAPMAP::table_gap</ref>(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Is<sp/>gap<sp/>a<sp/>table?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>left,<sp/><sp/></highlight><highlight class="comment">//From<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>right<sp/><sp/></highlight><highlight class="comment">//To<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>min_quantum;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>max_quantum;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a8d41499d38c24d39b221ab0c158fe5a8" kindref="member">inT16</ref><sp/>i;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/>tab_found<sp/>=<sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!any_tabs)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="capi_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/>min_quantum<sp/>=<sp/>(left<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/>max_quantum<sp/>=<sp/>(right<sp/>-<sp/>min_left)<sp/>/<sp/>bucket_size;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>min_quantum;<sp/>(!tab_found<sp/>&amp;&amp;<sp/>(i<sp/>&lt;=<sp/>max_quantum));<sp/>i++)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(map[i]<sp/>&gt;<sp/>total_rows<sp/>/<sp/>2)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tab_found<sp/>=<sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tab_found;</highlight></codeline>
<codeline lineno="166"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/textord/gap_map.cpp"/>
  </compounddef>
</doxygen>
