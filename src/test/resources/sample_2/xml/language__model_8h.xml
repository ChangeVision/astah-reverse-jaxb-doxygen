<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="language__model_8h" kind="file">
    <compoundname>language_model.h</compoundname>
    <includes refid="associate_8h" local="yes">associate.h</includes>
    <includes refid="dawg_8h" local="yes">dawg.h</includes>
    <includes refid="dict_8h" local="yes">dict.h</includes>
    <includes refid="fontinfo_8h" local="yes">fontinfo.h</includes>
    <includes refid="intproto_8h" local="yes">intproto.h</includes>
    <includes refid="matrix_8h" local="yes">matrix.h</includes>
    <includes refid="oldheap_8h" local="yes">oldheap.h</includes>
    <includes refid="params_8h" local="yes">params.h</includes>
    <includes refid="pageres_8h" local="yes">pageres.h</includes>
    <includedby refid="wordrec_8h" local="yes">wordrec/wordrec.h</includedby>
    <includedby refid="language__model_8cpp" local="yes">wordrec/language_model.cpp</includedby>
    <includedby refid="segsearch_8cpp" local="yes">wordrec/segsearch.cpp</includedby>
    <includedby refid="wordrec_8cpp" local="yes">wordrec/wordrec.cpp</includedby>
    <incdepgraph>
      <node id="43868">
        <label>cutil_class.h</label>
        <link refid="cutil__class_8h"/>
        <childnode refid="43869" relation="include">
        </childnode>
        <childnode refid="43874" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
      </node>
      <node id="43879">
        <label>image.h</label>
        <link refid="image_8h"/>
      </node>
      <node id="43876">
        <label>states.h</label>
        <link refid="states_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
      </node>
      <node id="43847">
        <label>assert.h</label>
      </node>
      <node id="43836">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="43904">
        <label>rejctmap.h</label>
        <link refid="rejctmap_8h"/>
        <childnode refid="43826" relation="include">
        </childnode>
        <childnode refid="43854" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43848" relation="include">
        </childnode>
      </node>
      <node id="43874">
        <label>const.h</label>
        <link refid="const_8h"/>
      </node>
      <node id="43824">
        <label>stdlib.h</label>
      </node>
      <node id="43821">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="43822" relation="include">
        </childnode>
      </node>
      <node id="43890">
        <label>bitvec.h</label>
        <link refid="bitvec_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43856">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="43828" relation="include">
        </childnode>
      </node>
      <node id="43869">
        <label>ccutil.h</label>
        <link refid="ccutil_8h"/>
        <childnode refid="43870" relation="include">
        </childnode>
        <childnode refid="43828" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
        <childnode refid="43871" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
        <childnode refid="43872" relation="include">
        </childnode>
        <childnode refid="43873" relation="include">
        </childnode>
      </node>
      <node id="43837">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
      </node>
      <node id="43823">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="43824" relation="include">
        </childnode>
        <childnode refid="43825" relation="include">
        </childnode>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43826" relation="include">
        </childnode>
        <childnode refid="43828" relation="include">
        </childnode>
        <childnode refid="43829" relation="include">
        </childnode>
      </node>
      <node id="43875">
        <label>tessarray.h</label>
        <link refid="tessarray_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
      </node>
      <node id="43818">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43823" relation="include">
        </childnode>
        <childnode refid="43830" relation="include">
        </childnode>
      </node>
      <node id="43888">
        <label>baseline.h</label>
        <link refid="baseline_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43817" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
      </node>
      <node id="43857">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="43858" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
      </node>
      <node id="43881">
        <label>trie.h</label>
        <link refid="trie_8h"/>
        <childnode refid="43877" relation="include">
        </childnode>
        <childnode refid="43867" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
      </node>
      <node id="43846">
        <label>ratngs.h</label>
        <link refid="ratngs_8h"/>
        <childnode refid="43847" relation="include">
        </childnode>
        <childnode refid="43818" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43848" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
        <childnode refid="43853" relation="include">
        </childnode>
      </node>
      <node id="43827">
        <label>stddef.h</label>
      </node>
      <node id="43850">
        <label>memory.h</label>
      </node>
      <node id="43887">
        <label>fpoint.h</label>
        <link refid="fpoint_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43832" relation="include">
        </childnode>
      </node>
      <node id="43828">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43885">
        <label>matchdefs.h</label>
        <link refid="matchdefs_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
      </node>
      <node id="43901">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="43899" relation="include">
        </childnode>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43833" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
        <childnode refid="43837" relation="include">
        </childnode>
        <childnode refid="43902" relation="include">
        </childnode>
      </node>
      <node id="43822">
        <label>limits.h</label>
      </node>
      <node id="43816">
        <label>associate.h</label>
        <link refid="associate_8h"/>
        <childnode refid="43817" relation="include">
        </childnode>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43845" relation="include">
        </childnode>
        <childnode refid="43864" relation="include">
        </childnode>
        <childnode refid="43865" relation="include">
        </childnode>
        <childnode refid="43876" relation="include">
        </childnode>
      </node>
      <node id="43903">
        <label>params_training_featdef.h</label>
        <link refid="params__training__featdef_8h"/>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
      </node>
      <node id="43878">
        <label>dict.h</label>
        <link refid="dict_8h"/>
        <childnode refid="43870" relation="include">
        </childnode>
        <childnode refid="43877" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43879" relation="include">
        </childnode>
        <childnode refid="43866" relation="include">
        </childnode>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43880" relation="include">
        </childnode>
        <childnode refid="43881" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
        <childnode refid="43882" relation="include">
        </childnode>
      </node>
      <node id="43835">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="43832" relation="include">
        </childnode>
      </node>
      <node id="43860">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="43833" relation="include">
        </childnode>
      </node>
      <node id="43855">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43823" relation="include">
        </childnode>
        <childnode refid="43830" relation="include">
        </childnode>
      </node>
      <node id="43872">
        <label>pthread.h</label>
      </node>
      <node id="43825">
        <label>string.h</label>
      </node>
      <node id="43852">
        <label>unicharmap.h</label>
        <link refid="unicharmap_8h"/>
        <childnode refid="43849" relation="include">
        </childnode>
      </node>
      <node id="43894">
        <label>boxword.h</label>
        <link refid="boxword_8h"/>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
      </node>
      <node id="43849">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="43850" relation="include">
        </childnode>
        <childnode refid="43825" relation="include">
        </childnode>
      </node>
      <node id="43867">
        <label>cutil.h</label>
        <link refid="cutil_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43825" relation="include">
        </childnode>
        <childnode refid="43824" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43838" relation="include">
        </childnode>
        <childnode refid="43868" relation="include">
        </childnode>
      </node>
      <node id="43831">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="43832" relation="include">
        </childnode>
        <childnode refid="43833" relation="include">
        </childnode>
        <childnode refid="43836" relation="include">
        </childnode>
        <childnode refid="43837" relation="include">
        </childnode>
        <childnode refid="43838" relation="include">
        </childnode>
      </node>
      <node id="43854">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43841">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43873">
        <label>semaphore.h</label>
      </node>
      <node id="43858">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="43859" relation="include">
        </childnode>
        <childnode refid="43860" relation="include">
        </childnode>
        <childnode refid="43854" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
        <childnode refid="43856" relation="include">
        </childnode>
        <childnode refid="43837" relation="include">
        </childnode>
      </node>
      <node id="43853">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43854" relation="include">
        </childnode>
        <childnode refid="43855" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
        <childnode refid="43856" relation="include">
        </childnode>
        <childnode refid="43857" relation="include">
        </childnode>
        <childnode refid="43861" relation="include">
        </childnode>
      </node>
      <node id="43861">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43862" relation="include">
        </childnode>
        <childnode refid="43853" relation="include">
        </childnode>
      </node>
      <node id="43829">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="43828" relation="include">
        </childnode>
      </node>
      <node id="43886">
        <label>mfoutline.h</label>
        <link refid="mfoutline_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43866" relation="include">
        </childnode>
        <childnode refid="43887" relation="include">
        </childnode>
        <childnode refid="43888" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
      </node>
      <node id="43870">
        <label>ambigs.h</label>
        <link refid="ambigs_8h"/>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43838" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
      </node>
      <node id="43891">
        <label>unicity_table.h</label>
        <link refid="unicity__table_8h"/>
        <childnode refid="43841" relation="include">
        </childnode>
        <childnode refid="43828" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
      </node>
      <node id="43859">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="43833" relation="include">
        </childnode>
        <childnode refid="43860" relation="include">
        </childnode>
      </node>
      <node id="43832">
        <label>math.h</label>
      </node>
      <node id="43865">
        <label>split.h</label>
        <link refid="split_8h"/>
        <childnode refid="43817" relation="include">
        </childnode>
        <childnode refid="43866" relation="include">
        </childnode>
      </node>
      <node id="43830">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="43828" relation="include">
        </childnode>
      </node>
      <node id="43863">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="43833" relation="include">
        </childnode>
      </node>
      <node id="43844">
        <label>vecfuncs.h</label>
        <link refid="vecfuncs_8h"/>
        <childnode refid="43832" relation="include">
        </childnode>
        <childnode refid="43817" relation="include">
        </childnode>
      </node>
      <node id="43899">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="43866">
        <label>oldlist.h</label>
        <link refid="oldlist_8h"/>
        <childnode refid="43867" relation="include">
        </childnode>
        <childnode refid="43841" relation="include">
        </childnode>
      </node>
      <node id="43896">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="43897" relation="include">
        </childnode>
        <childnode refid="43898" relation="include">
        </childnode>
        <childnode refid="43861" relation="include">
        </childnode>
        <childnode refid="43900" relation="include">
        </childnode>
      </node>
      <node id="43839">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
      </node>
      <node id="43840">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43824" relation="include">
        </childnode>
        <childnode refid="43841" relation="include">
        </childnode>
        <childnode refid="43828" relation="include">
        </childnode>
        <childnode refid="43842" relation="include">
        </childnode>
        <childnode refid="43836" relation="include">
        </childnode>
      </node>
      <node id="43880">
        <label>stopper.h</label>
        <link refid="stopper_8h"/>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43876" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
      </node>
      <node id="43826">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="43827" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43889">
        <label>protos.h</label>
        <link refid="protos_8h"/>
        <childnode refid="43890" relation="include">
        </childnode>
        <childnode refid="43867" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
        <childnode refid="43891" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
      </node>
      <node id="43893">
        <label>pageres.h</label>
        <link refid="pageres_8h"/>
        <childnode refid="43817" relation="include">
        </childnode>
        <childnode refid="43894" relation="include">
        </childnode>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43895" relation="include">
        </childnode>
        <childnode refid="43896" relation="include">
        </childnode>
        <childnode refid="43861" relation="include">
        </childnode>
        <childnode refid="43903" relation="include">
        </childnode>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43904" relation="include">
        </childnode>
        <childnode refid="43864" relation="include">
        </childnode>
        <childnode refid="43853" relation="include">
        </childnode>
      </node>
      <node id="43815">
        <label>wordrec/language_model.h</label>
        <link refid="language_model.h"/>
        <childnode refid="43816" relation="include">
        </childnode>
        <childnode refid="43877" relation="include">
        </childnode>
        <childnode refid="43878" relation="include">
        </childnode>
        <childnode refid="43883" relation="include">
        </childnode>
        <childnode refid="43884" relation="include">
        </childnode>
        <childnode refid="43845" relation="include">
        </childnode>
        <childnode refid="43892" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43893" relation="include">
        </childnode>
      </node>
      <node id="43898">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="43899" relation="include">
        </childnode>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
      </node>
      <node id="43834">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43823" relation="include">
        </childnode>
        <childnode refid="43830" relation="include">
        </childnode>
      </node>
      <node id="43851">
        <label>unicharset.h</label>
        <link refid="unicharset_8h"/>
        <childnode refid="43828" relation="include">
        </childnode>
        <childnode refid="43842" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
        <childnode refid="43841" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
        <childnode refid="43852" relation="include">
        </childnode>
      </node>
      <node id="43864">
        <label>seam.h</label>
        <link refid="seam_8h"/>
        <childnode refid="43817" relation="include">
        </childnode>
        <childnode refid="43865" relation="include">
        </childnode>
        <childnode refid="43875" relation="include">
        </childnode>
      </node>
      <node id="43892">
        <label>oldheap.h</label>
        <link refid="oldheap_8h"/>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43867" relation="include">
        </childnode>
      </node>
      <node id="43877">
        <label>dawg.h</label>
        <link refid="dawg_8h"/>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43841" relation="include">
        </childnode>
      </node>
      <node id="43883">
        <label>fontinfo.h</label>
        <link refid="fontinfo_8h"/>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43849" relation="include">
        </childnode>
      </node>
      <node id="43833">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43832" relation="include">
        </childnode>
        <childnode refid="43834" relation="include">
        </childnode>
        <childnode refid="43835" relation="include">
        </childnode>
      </node>
      <node id="43848">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="43897">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="43826" relation="include">
        </childnode>
      </node>
      <node id="43838">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="43839" relation="include">
        </childnode>
      </node>
      <node id="43902">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="43820">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="43821" relation="include">
        </childnode>
      </node>
      <node id="43900">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="43818" relation="include">
        </childnode>
        <childnode refid="43897" relation="include">
        </childnode>
        <childnode refid="43843" relation="include">
        </childnode>
        <childnode refid="43901" relation="include">
        </childnode>
        <childnode refid="43902" relation="include">
        </childnode>
      </node>
      <node id="43819">
        <label>stdio.h</label>
      </node>
      <node id="43845">
        <label>matrix.h</label>
        <link refid="matrix_8h"/>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
      </node>
      <node id="43884">
        <label>intproto.h</label>
        <link refid="intproto_8h"/>
        <childnode refid="43840" relation="include">
        </childnode>
        <childnode refid="43885" relation="include">
        </childnode>
        <childnode refid="43886" relation="include">
        </childnode>
        <childnode refid="43889" relation="include">
        </childnode>
        <childnode refid="43837" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
      </node>
      <node id="43871">
        <label>tessdatamanager.h</label>
        <link refid="tessdatamanager_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
        <childnode refid="43838" relation="include">
        </childnode>
      </node>
      <node id="43895">
        <label>normalis.h</label>
        <link refid="normalis_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43820" relation="include">
        </childnode>
      </node>
      <node id="43843">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43825" relation="include">
        </childnode>
        <childnode refid="43821" relation="include">
        </childnode>
        <childnode refid="43826" relation="include">
        </childnode>
      </node>
      <node id="43817">
        <label>blobs.h</label>
        <link refid="blobs_8h"/>
        <childnode refid="43818" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
        <childnode refid="43844" relation="include">
        </childnode>
      </node>
      <node id="43842">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="43819" relation="include">
        </childnode>
        <childnode refid="43825" relation="include">
        </childnode>
      </node>
      <node id="43882">
        <label>permute.h</label>
        <link refid="permute_8h"/>
        <childnode refid="43846" relation="include">
        </childnode>
        <childnode refid="43839" relation="include">
        </childnode>
        <childnode refid="43851" relation="include">
        </childnode>
      </node>
      <node id="43862">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="43863" relation="include">
        </childnode>
        <childnode refid="43823" relation="include">
        </childnode>
        <childnode refid="43826" relation="include">
        </childnode>
        <childnode refid="43831" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="43919">
        <label>ccmain/cube_control.cpp</label>
        <link refid="cube__control_8cpp"/>
      </node>
      <node id="43912">
        <label>ccmain/fixspace.cpp</label>
        <link refid="fixspace_8cpp"/>
      </node>
      <node id="43918">
        <label>ccmain/tessedit.h</label>
        <link refid="tessedit_8h"/>
        <childnode refid="43917" relation="include">
        </childnode>
      </node>
      <node id="43906">
        <label>wordrec/wordrec.h</label>
        <link refid="wordrec_8h"/>
        <childnode refid="43907" relation="include">
        </childnode>
        <childnode refid="43943" relation="include">
        </childnode>
        <childnode refid="43944" relation="include">
        </childnode>
        <childnode refid="43945" relation="include">
        </childnode>
        <childnode refid="43946" relation="include">
        </childnode>
        <childnode refid="43947" relation="include">
        </childnode>
        <childnode refid="43948" relation="include">
        </childnode>
        <childnode refid="43949" relation="include">
        </childnode>
        <childnode refid="43950" relation="include">
        </childnode>
        <childnode refid="43951" relation="include">
        </childnode>
        <childnode refid="43952" relation="include">
        </childnode>
        <childnode refid="43953" relation="include">
        </childnode>
        <childnode refid="43954" relation="include">
        </childnode>
      </node>
      <node id="43927">
        <label>ccmain/output.cpp</label>
        <link refid="output_8cpp"/>
      </node>
      <node id="43948">
        <label>wordrec/heuristic.cpp</label>
        <link refid="heuristic_8cpp"/>
      </node>
      <node id="43907">
        <label>ccmain/tesseractclass.h</label>
        <link refid="tesseractclass_8h"/>
        <childnode refid="43908" relation="include">
        </childnode>
        <childnode refid="43909" relation="include">
        </childnode>
        <childnode refid="43910" relation="include">
        </childnode>
        <childnode refid="43914" relation="include">
        </childnode>
        <childnode refid="43915" relation="include">
        </childnode>
        <childnode refid="43911" relation="include">
        </childnode>
        <childnode refid="43919" relation="include">
        </childnode>
        <childnode refid="43920" relation="include">
        </childnode>
        <childnode refid="43921" relation="include">
        </childnode>
        <childnode refid="43922" relation="include">
        </childnode>
        <childnode refid="43923" relation="include">
        </childnode>
        <childnode refid="43912" relation="include">
        </childnode>
        <childnode refid="43924" relation="include">
        </childnode>
        <childnode refid="43925" relation="include">
        </childnode>
        <childnode refid="43926" relation="include">
        </childnode>
        <childnode refid="43927" relation="include">
        </childnode>
        <childnode refid="43928" relation="include">
        </childnode>
        <childnode refid="43929" relation="include">
        </childnode>
        <childnode refid="43930" relation="include">
        </childnode>
        <childnode refid="43931" relation="include">
        </childnode>
        <childnode refid="43916" relation="include">
        </childnode>
        <childnode refid="43933" relation="include">
        </childnode>
        <childnode refid="43934" relation="include">
        </childnode>
        <childnode refid="43935" relation="include">
        </childnode>
        <childnode refid="43936" relation="include">
        </childnode>
        <childnode refid="43913" relation="include">
        </childnode>
        <childnode refid="43917" relation="include">
        </childnode>
        <childnode refid="43938" relation="include">
        </childnode>
        <childnode refid="43939" relation="include">
        </childnode>
        <childnode refid="43937" relation="include">
        </childnode>
        <childnode refid="43940" relation="include">
        </childnode>
        <childnode refid="43941" relation="include">
        </childnode>
        <childnode refid="43942" relation="include">
        </childnode>
      </node>
      <node id="43922">
        <label>ccmain/docqual.cpp</label>
        <link refid="docqual_8cpp"/>
      </node>
      <node id="43926">
        <label>ccmain/osdetect.cpp</label>
        <link refid="osdetect_8cpp"/>
      </node>
      <node id="43910">
        <label>ccmain/adaptions.cpp</label>
        <link refid="adaptions_8cpp"/>
      </node>
      <node id="43920">
        <label>ccmain/cube_reco_context.cpp</label>
        <link refid="cube__reco__context_8cpp"/>
      </node>
      <node id="43949">
        <label>wordrec/outlines.cpp</label>
        <link refid="outlines_8cpp"/>
      </node>
      <node id="43925">
        <label>ccmain/ltrresultiterator.cpp</label>
        <link refid="ltrresultiterator_8cpp"/>
      </node>
      <node id="43924">
        <label>ccmain/fixxht.cpp</label>
        <link refid="fixxht_8cpp"/>
      </node>
      <node id="43945">
        <label>wordrec/chopper.cpp</label>
        <link refid="chopper_8cpp"/>
      </node>
      <node id="43940">
        <label>cube/beam_search.cpp</label>
        <link refid="beam__search_8cpp"/>
      </node>
      <node id="43934">
        <label>ccmain/reject.cpp</label>
        <link refid="reject_8cpp"/>
      </node>
      <node id="43953">
        <label>wordrec/wordclass.cpp</label>
        <link refid="wordclass_8cpp"/>
      </node>
      <node id="43908">
        <label>api/baseapi.cpp</label>
        <link refid="baseapi_8cpp"/>
      </node>
      <node id="43930">
        <label>ccmain/pagewalk.cpp</label>
        <link refid="pagewalk_8cpp"/>
      </node>
      <node id="43911">
        <label>ccmain/control.cpp</label>
        <link refid="control_8cpp"/>
      </node>
      <node id="43954">
        <label>wordrec/wordrec.cpp</label>
        <link refid="wordrec_8cpp"/>
      </node>
      <node id="43946">
        <label>wordrec/findseam.cpp</label>
        <link refid="findseam_8cpp"/>
      </node>
      <node id="43928">
        <label>ccmain/pageiterator.cpp</label>
        <link refid="pageiterator_8cpp"/>
      </node>
      <node id="43929">
        <label>ccmain/pagesegmain.cpp</label>
        <link refid="pagesegmain_8cpp"/>
      </node>
      <node id="43955">
        <label>wordrec/language_model.cpp</label>
        <link refid="language__model_8cpp"/>
      </node>
      <node id="43937">
        <label>ccmain/tfacepp.cpp</label>
        <link refid="tfacepp_8cpp"/>
      </node>
      <node id="43932">
        <label>ccmain/paramsd.cpp</label>
        <link refid="paramsd_8cpp"/>
      </node>
      <node id="43914">
        <label>ccmain/applybox.cpp</label>
        <link refid="applybox_8cpp"/>
      </node>
      <node id="43951">
        <label>wordrec/segsearch.cpp</label>
        <link refid="segsearch_8cpp"/>
      </node>
      <node id="43917">
        <label>ccmain/tessedit.cpp</label>
        <link refid="tessedit_8cpp"/>
      </node>
      <node id="43915">
        <label>ccmain/pgedit.h</label>
        <link refid="pgedit_8h"/>
        <childnode refid="43908" relation="include">
        </childnode>
        <childnode refid="43911" relation="include">
        </childnode>
        <childnode refid="43916" relation="include">
        </childnode>
        <childnode refid="43917" relation="include">
        </childnode>
        <childnode refid="43918" relation="include">
        </childnode>
      </node>
      <node id="43938">
        <label>ccmain/tesseract_cube_combiner.cpp</label>
        <link refid="tesseract__cube__combiner_8cpp"/>
      </node>
      <node id="43943">
        <label>wordrec/bestfirst.cpp</label>
        <link refid="bestfirst_8cpp"/>
      </node>
      <node id="43947">
        <label>wordrec/gradechop.cpp</label>
        <link refid="gradechop_8cpp"/>
      </node>
      <node id="43942">
        <label>training/ambiguous_words.cpp</label>
        <link refid="ambiguous__words_8cpp"/>
      </node>
      <node id="43941">
        <label>cube/tess_lang_model.cpp</label>
        <link refid="tess__lang__model_8cpp"/>
      </node>
      <node id="43921">
        <label>ccmain/cubeclassifier.cpp</label>
        <link refid="cubeclassifier_8cpp"/>
      </node>
      <node id="43931">
        <label>ccmain/paramsd.h</label>
        <link refid="paramsd_8h"/>
        <childnode refid="43908" relation="include">
        </childnode>
        <childnode refid="43932" relation="include">
        </childnode>
        <childnode refid="43916" relation="include">
        </childnode>
      </node>
      <node id="43923">
        <label>ccmain/equationdetect.cpp</label>
        <link refid="equationdetect_8cpp"/>
      </node>
      <node id="43950">
        <label>wordrec/pieces.cpp</label>
        <link refid="pieces_8cpp"/>
      </node>
      <node id="43905">
        <label>wordrec/language_model.h</label>
        <link refid="language_model.h"/>
        <childnode refid="43906" relation="include">
        </childnode>
        <childnode refid="43955" relation="include">
        </childnode>
        <childnode refid="43951" relation="include">
        </childnode>
        <childnode refid="43954" relation="include">
        </childnode>
      </node>
      <node id="43944">
        <label>wordrec/chop.cpp</label>
        <link refid="chop_8cpp"/>
      </node>
      <node id="43939">
        <label>ccmain/tesseractclass.cpp</label>
        <link refid="tesseractclass_8cpp"/>
      </node>
      <node id="43913">
        <label>ccmain/tessbox.cpp</label>
        <link refid="tessbox_8cpp"/>
      </node>
      <node id="43935">
        <label>ccmain/resultiterator.cpp</label>
        <link refid="resultiterator_8cpp"/>
      </node>
      <node id="43952">
        <label>wordrec/tface.cpp</label>
        <link refid="tface_8cpp"/>
      </node>
      <node id="43909">
        <label>ccmain/tessbox.h</label>
        <link refid="tessbox_8h"/>
        <childnode refid="43908" relation="include">
        </childnode>
        <childnode refid="43910" relation="include">
        </childnode>
        <childnode refid="43911" relation="include">
        </childnode>
        <childnode refid="43912" relation="include">
        </childnode>
        <childnode refid="43913" relation="include">
        </childnode>
      </node>
      <node id="43936">
        <label>ccmain/tfacepp.h</label>
        <link refid="tfacepp_8h"/>
        <childnode refid="43913" relation="include">
        </childnode>
        <childnode refid="43937" relation="include">
        </childnode>
      </node>
      <node id="43916">
        <label>ccmain/pgedit.cpp</label>
        <link refid="pgedit_8cpp"/>
      </node>
      <node id="43933">
        <label>ccmain/recogtraining.cpp</label>
        <link refid="recogtraining_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="structtesseract_1_1_language_model_consistency_info" prot="public">tesseract::LanguageModelConsistencyInfo</innerclass>
    <innerclass refid="structtesseract_1_1_language_model_dawg_info" prot="public">tesseract::LanguageModelDawgInfo</innerclass>
    <innerclass refid="structtesseract_1_1_language_model_ngram_info" prot="public">tesseract::LanguageModelNgramInfo</innerclass>
    <innerclass refid="structtesseract_1_1_viterbi_state_entry" prot="public">tesseract::ViterbiStateEntry</innerclass>
    <innerclass refid="structtesseract_1_1_language_model_state" prot="public">tesseract::LanguageModelState</innerclass>
    <innerclass refid="structtesseract_1_1_best_choice_bundle" prot="public">tesseract::BestChoiceBundle</innerclass>
    <innerclass refid="structtesseract_1_1_best_path_by_column" prot="public">tesseract::BestPathByColumn</innerclass>
    <innerclass refid="classtesseract_1_1_language_model" prot="public">tesseract::LanguageModel</innerclass>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model.h</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Description:<sp/>Functions<sp/>that<sp/>utilize<sp/>the<sp/>knowledge<sp/>about<sp/>the<sp/>properties,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>structure<sp/>and<sp/>statistics<sp/>of<sp/>the<sp/>language<sp/>to<sp/>help<sp/>recognition.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Daria<sp/>Antonova</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Mon<sp/>Nov<sp/>11<sp/>11:26:43<sp/>PST<sp/>2009</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(C)<sp/>Copyright<sp/>2009,<sp/>Google<sp/>Inc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//</highlight></codeline>
<codeline lineno="20"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>TESSERACT_WORDREC_LANGUAGE_MODEL_H_</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>TESSERACT_WORDREC_LANGUAGE_MODEL_H_</highlight></codeline>
<codeline lineno="23"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="associate_8h" kindref="compound">associate.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="dawg_8h" kindref="compound">dawg.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="dict_8h" kindref="compound">dict.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="fontinfo_8h" kindref="compound">fontinfo.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="intproto_8h" kindref="compound">intproto.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="matrix_8h" kindref="compound">matrix.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="oldheap_8h" kindref="compound">oldheap.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="params_8h" kindref="compound">params.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pageres_8h" kindref="compound">pageres.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Used<sp/>for<sp/>expressing<sp/>various<sp/>language<sp/>model<sp/>flags.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Struct<sp/>for<sp/>keeping<sp/>track<sp/>of<sp/>the<sp/>consistency<sp/>of<sp/>the<sp/>path.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="structtesseract_1_1_language_model_consistency_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>{</highlight></codeline>
<codeline lineno="41" refid="structtesseract_1_1_language_model_consistency_info_1a7096161587387e267f2774113f1a2544" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a7096161587387e267f2774113f1a2544" kindref="member">LanguageModelConsistencyInfo</ref>()</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abc739e3254715e0a4b6ad705d08f6af7" kindref="member">punc_ref</ref>(NO_EDGE),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1ad240e9386a4be45e4d446e4390b1ac0e" kindref="member">num_punc</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aca60069b9d8f62b7623e6849d8322a48" kindref="member">invalid_punc</ref>(false),</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a4171b5ee3943476262df28aa4b4b7a72" kindref="member">num_non_first_upper</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abba587f34c1479c9fbe721b8e1c03c4d" kindref="member">num_lower</ref>(0),</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a8de1d60d83971e52357682726e3b0ca4" kindref="member">script_id</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a540e9468b97ac8d07795cbbd72f8bb6d" kindref="member">inconsistent_script</ref>(false),</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a44a85d310744cef17ea1a720c76a3d98" kindref="member">num_alphas</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a868c663bc14831a712ea81f4b894b9f2" kindref="member">num_digits</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a26a8014aaed259c94e3aa6e8f38a4362" kindref="member">num_other</ref>(0),</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aa78515a0fb8f968a6914574efa0701c1" kindref="member">num_inconsistent_spaces</ref>(0),<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a0b52e50bde57f205e0cb7ba5ba8dd4f3" kindref="member">inconsistent_font</ref>(false)<sp/>{}</highlight></codeline>
<codeline lineno="47" refid="structtesseract_1_1_language_model_consistency_info_1aa2de6ec1817d1279da48a92b5ef65021" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aa2de6ec1817d1279da48a92b5ef65021" kindref="member">NumInconsistentPunc</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aca60069b9d8f62b7623e6849d8322a48" kindref="member">invalid_punc</ref><sp/>?<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1ad240e9386a4be45e4d446e4390b1ac0e" kindref="member">num_punc</ref><sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="50" refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" kindref="member">NumInconsistentCase</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structtesseract_1_1_language_model_consistency_info_1a4171b5ee3943476262df28aa4b4b7a72" kindref="member">num_non_first_upper</ref><sp/>&gt;<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abba587f34c1479c9fbe721b8e1c03c4d" kindref="member">num_lower</ref>)<sp/>?<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abba587f34c1479c9fbe721b8e1c03c4d" kindref="member">num_lower</ref><sp/>:<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a4171b5ee3943476262df28aa4b4b7a72" kindref="member">num_non_first_upper</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="53" refid="structtesseract_1_1_language_model_consistency_info_1a1a989b62750d64216a709e8e4ac1c1dd" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a1a989b62750d64216a709e8e4ac1c1dd" kindref="member">NumInconsistentChartype</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structtesseract_1_1_language_model_consistency_info_1aa2de6ec1817d1279da48a92b5ef65021" kindref="member">NumInconsistentPunc</ref>()<sp/>+<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a26a8014aaed259c94e3aa6e8f38a4362" kindref="member">num_other</ref><sp/>+</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((<ref refid="structtesseract_1_1_language_model_consistency_info_1a44a85d310744cef17ea1a720c76a3d98" kindref="member">num_alphas</ref><sp/>&gt;<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a868c663bc14831a712ea81f4b894b9f2" kindref="member">num_digits</ref>)<sp/>?<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a868c663bc14831a712ea81f4b894b9f2" kindref="member">num_digits</ref><sp/>:<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a44a85d310744cef17ea1a720c76a3d98" kindref="member">num_alphas</ref>));</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="57" refid="structtesseract_1_1_language_model_consistency_info_1ab536c7e5938edfd575fc6f82d2c7c49d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1ab536c7e5938edfd575fc6f82d2c7c49d" kindref="member">Consistent</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structtesseract_1_1_language_model_consistency_info_1aa2de6ec1817d1279da48a92b5ef65021" kindref="member">NumInconsistentPunc</ref>()<sp/>==<sp/>0<sp/>&amp;&amp;<sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" kindref="member">NumInconsistentCase</ref>()<sp/>==<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a1a989b62750d64216a709e8e4ac1c1dd" kindref="member">NumInconsistentChartype</ref>()<sp/>==<sp/>0<sp/>&amp;&amp;<sp/>!<ref refid="structtesseract_1_1_language_model_consistency_info_1a540e9468b97ac8d07795cbbd72f8bb6d" kindref="member">inconsistent_script</ref>);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="61" refid="structtesseract_1_1_language_model_consistency_info_1aa12829f3fb2bfba9bad378be6bd4f331" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aa12829f3fb2bfba9bad378be6bd4f331" kindref="member">NumInconsistentSpaces</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aa78515a0fb8f968a6914574efa0701c1" kindref="member">num_inconsistent_spaces</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="structtesseract_1_1_language_model_consistency_info_1abc739e3254715e0a4b6ad705d08f6af7" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="dawg_8h_1a178eb445f9820b58d062f0c988a6f54f" kindref="member">EDGE_REF</ref><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abc739e3254715e0a4b6ad705d08f6af7" kindref="member">punc_ref</ref>;</highlight></codeline>
<codeline lineno="66" refid="structtesseract_1_1_language_model_consistency_info_1ad240e9386a4be45e4d446e4390b1ac0e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1ad240e9386a4be45e4d446e4390b1ac0e" kindref="member">num_punc</ref>;</highlight></codeline>
<codeline lineno="67" refid="structtesseract_1_1_language_model_consistency_info_1aca60069b9d8f62b7623e6849d8322a48" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aca60069b9d8f62b7623e6849d8322a48" kindref="member">invalid_punc</ref>;</highlight></codeline>
<codeline lineno="68" refid="structtesseract_1_1_language_model_consistency_info_1a4171b5ee3943476262df28aa4b4b7a72" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a4171b5ee3943476262df28aa4b4b7a72" kindref="member">num_non_first_upper</ref>;</highlight></codeline>
<codeline lineno="69" refid="structtesseract_1_1_language_model_consistency_info_1abba587f34c1479c9fbe721b8e1c03c4d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1abba587f34c1479c9fbe721b8e1c03c4d" kindref="member">num_lower</ref>;</highlight></codeline>
<codeline lineno="70" refid="structtesseract_1_1_language_model_consistency_info_1a8de1d60d83971e52357682726e3b0ca4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a8de1d60d83971e52357682726e3b0ca4" kindref="member">script_id</ref>;</highlight></codeline>
<codeline lineno="71" refid="structtesseract_1_1_language_model_consistency_info_1a540e9468b97ac8d07795cbbd72f8bb6d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a540e9468b97ac8d07795cbbd72f8bb6d" kindref="member">inconsistent_script</ref>;</highlight></codeline>
<codeline lineno="72" refid="structtesseract_1_1_language_model_consistency_info_1a44a85d310744cef17ea1a720c76a3d98" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a44a85d310744cef17ea1a720c76a3d98" kindref="member">num_alphas</ref>;</highlight></codeline>
<codeline lineno="73" refid="structtesseract_1_1_language_model_consistency_info_1a868c663bc14831a712ea81f4b894b9f2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a868c663bc14831a712ea81f4b894b9f2" kindref="member">num_digits</ref>;</highlight></codeline>
<codeline lineno="74" refid="structtesseract_1_1_language_model_consistency_info_1a26a8014aaed259c94e3aa6e8f38a4362" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a26a8014aaed259c94e3aa6e8f38a4362" kindref="member">num_other</ref>;</highlight></codeline>
<codeline lineno="75" refid="structtesseract_1_1_language_model_consistency_info_1aa78515a0fb8f968a6914574efa0701c1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1aa78515a0fb8f968a6914574efa0701c1" kindref="member">num_inconsistent_spaces</ref>;</highlight></codeline>
<codeline lineno="76" refid="structtesseract_1_1_language_model_consistency_info_1a0b52e50bde57f205e0cb7ba5ba8dd4f3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info_1a0b52e50bde57f205e0cb7ba5ba8dd4f3" kindref="member">inconsistent_font</ref>;</highlight></codeline>
<codeline lineno="77"><highlight class="normal">};</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>following<sp/>structs<sp/>are<sp/>used<sp/>for<sp/>storing<sp/>the<sp/>state<sp/>of<sp/>the<sp/>language<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>segmentation<sp/>search<sp/>graph.<sp/>In<sp/>this<sp/>graph<sp/>the<sp/>nodes<sp/>are<sp/>BLOB_CHOICEs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and<sp/>the<sp/>links<sp/>are<sp/>the<sp/>replationships<sp/>between<sp/>the<sp/>underlying<sp/>blobs<sp/>(see</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="comment">//<sp/>segsearch.h<sp/>for<sp/>a<sp/>more<sp/>detailed<sp/>description).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Each<sp/>of<sp/>the<sp/>BLOB_CHOICEs<sp/>contains<sp/>LanguageModelState<sp/>struct,<sp/>which<sp/>has</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="comment">//<sp/>a<sp/>list<sp/>of<sp/>N<sp/>best<sp/>paths<sp/>(list<sp/>of<sp/>ViterbiStateEntry)<sp/>explored<sp/>by<sp/>the<sp/>Viterbi</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">//<sp/>search<sp/>leading<sp/>up<sp/>to<sp/>and<sp/>including<sp/>this<sp/>BLOB_CHOICE.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Each<sp/>ViterbiStateEntry<sp/>contains<sp/>information<sp/>from<sp/>various<sp/>components<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="comment">//<sp/>language<sp/>model:<sp/>dawgs<sp/>in<sp/>which<sp/>the<sp/>path<sp/>is<sp/>found,<sp/>character<sp/>ngram<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="comment">//<sp/>probability<sp/>of<sp/>the<sp/>path,<sp/>script/chartype/font<sp/>consistency<sp/>info,<sp/>state<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="comment">//<sp/>language-specific<sp/>heuristics<sp/>(e.g.<sp/>hyphenated<sp/>and<sp/>compund<sp/>words,<sp/>lower/upper</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="comment">//<sp/>case<sp/>preferences,<sp/>etc).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Each<sp/>ViterbiStateEntry<sp/>also<sp/>contains<sp/>the<sp/>parent<sp/>pointer,<sp/>so<sp/>that<sp/>the<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>that<sp/>it<sp/>represents<sp/>(WERD_CHOICE)<sp/>can<sp/>be<sp/>constructed<sp/>by<sp/>following<sp/>these</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="comment">//<sp/>parent<sp/>pointers.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Struct<sp/>for<sp/>storing<sp/>additional<sp/>information<sp/>used<sp/>by<sp/>Dawg<sp/>language<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="comment">//<sp/>component.<sp/>It<sp/>stores<sp/>the<sp/>set<sp/>of<sp/>active<sp/>dawgs<sp/>in<sp/>which<sp/>the<sp/>sequence<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">//<sp/>letters<sp/>on<sp/>a<sp/>path<sp/>can<sp/>be<sp/>found<sp/>and<sp/>the<sp/>constraints<sp/>that<sp/>have<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="comment">//<sp/>satisfied<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>word<sp/>(e.g.<sp/>beginning/ending<sp/>punctuation).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="structtesseract_1_1_language_model_dawg_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>{</highlight></codeline>
<codeline lineno="101" refid="structtesseract_1_1_language_model_dawg_info_1aee00495bcd346e6aea0e417782cf5bc7" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1aee00495bcd346e6aea0e417782cf5bc7" kindref="member">LanguageModelDawgInfo</ref>(<ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*a,<sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*c,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PermuterType<sp/>pt)<sp/>:<sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" kindref="member">permuter</ref>(pt)<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a2d7385e4ce4b93154fed39ca5ec199fb" kindref="member">active_dawgs</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref>(*a);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a85dcf51ff18343073e6cf3f69abbb454" kindref="member">constraints</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref>(*c);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="106" refid="structtesseract_1_1_language_model_dawg_info_1ab38535ca6bf27b8b01b385cb3a977179" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1ab38535ca6bf27b8b01b385cb3a977179" kindref="member">~LanguageModelDawgInfo</ref>()<sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a2d7385e4ce4b93154fed39ca5ec199fb" kindref="member">active_dawgs</ref>;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a85dcf51ff18343073e6cf3f69abbb454" kindref="member">constraints</ref>;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="110" refid="structtesseract_1_1_language_model_dawg_info_1a2d7385e4ce4b93154fed39ca5ec199fb" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="structtesseract_1_1_language_model_dawg_info_1a2d7385e4ce4b93154fed39ca5ec199fb" kindref="member">active_dawgs</ref>;</highlight></codeline>
<codeline lineno="111" refid="structtesseract_1_1_language_model_dawg_info_1a85dcf51ff18343073e6cf3f69abbb454" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="structtesseract_1_1_language_model_dawg_info_1a85dcf51ff18343073e6cf3f69abbb454" kindref="member">constraints</ref>;</highlight></codeline>
<codeline lineno="112" refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" refkind="member"><highlight class="normal"><sp/><sp/>PermuterType<sp/><ref refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" kindref="member">permuter</ref>;</highlight></codeline>
<codeline lineno="113"><highlight class="normal">};</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Struct<sp/>for<sp/>storing<sp/>additional<sp/>information<sp/>used<sp/>by<sp/>Ngram<sp/>language<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="comment">//<sp/>component.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117" refid="structtesseract_1_1_language_model_ngram_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_language_model_ngram_info" kindref="compound">LanguageModelNgramInfo</ref><sp/>{</highlight></codeline>
<codeline lineno="118" refid="structtesseract_1_1_language_model_ngram_info_1a597c9e64bba94bec436db52ea6a4a649" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a597c9e64bba94bec436db52ea6a4a649" kindref="member">LanguageModelNgramInfo</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*c,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>l,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>np,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>nc)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1aa2ec2374e908afc391e8d24d911f793f" kindref="member">context</ref>(c),<sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a2d07dfbfe069644b1a51799d0b71e300" kindref="member">context_unichar_step_len</ref>(l),<sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a4e5c109a8e5e6a3887024615f40817d1" kindref="member">pruned</ref>(p),<sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a9bb6046358f8d390d7af057a7f02adba" kindref="member">ngram_prob</ref>(np),</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1ad3e0f58154ee4646c06c0bd9cc6b3127" kindref="member">ngram_cost</ref>(nc)<sp/>{}</highlight></codeline>
<codeline lineno="121" refid="structtesseract_1_1_language_model_ngram_info_1aa2ec2374e908afc391e8d24d911f793f" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1aa2ec2374e908afc391e8d24d911f793f" kindref="member">context</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>context<sp/>string</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Length<sp/>of<sp/>the<sp/>context<sp/>measured<sp/>by<sp/>advancing<sp/>using<sp/>UNICHAR::utf8_step()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(should<sp/>be<sp/>at<sp/>most<sp/>the<sp/>order<sp/>of<sp/>the<sp/>character<sp/>ngram<sp/>model<sp/>used).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124" refid="structtesseract_1_1_language_model_ngram_info_1a2d07dfbfe069644b1a51799d0b71e300" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a2d07dfbfe069644b1a51799d0b71e300" kindref="member">context_unichar_step_len</ref>;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>paths<sp/>with<sp/>pruned<sp/>set<sp/>are<sp/>pruned<sp/>out<sp/>from<sp/>the<sp/>perspective<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>character<sp/>ngram<sp/>model.<sp/>They<sp/>are<sp/>explored<sp/>further<sp/>because<sp/>they<sp/>represent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>a<sp/>dictionary<sp/>match<sp/>or<sp/>a<sp/>top<sp/>choice.<sp/>Thus<sp/>ngram_info<sp/>is<sp/>still<sp/>computed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>them<sp/>in<sp/>order<sp/>to<sp/>calculate<sp/>the<sp/>combined<sp/>cost.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="structtesseract_1_1_language_model_ngram_info_1a4e5c109a8e5e6a3887024615f40817d1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a4e5c109a8e5e6a3887024615f40817d1" kindref="member">pruned</ref>;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>-ln(P_ngram_model(path))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="structtesseract_1_1_language_model_ngram_info_1a9bb6046358f8d390d7af057a7f02adba" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1a9bb6046358f8d390d7af057a7f02adba" kindref="member">ngram_prob</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>-[<sp/>ln(P_classifier(path))<sp/>+<sp/>scale_factor<sp/>*<sp/>ln(P_ngram_model(path))<sp/>]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="structtesseract_1_1_language_model_ngram_info_1ad3e0f58154ee4646c06c0bd9cc6b3127" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_ngram_info_1ad3e0f58154ee4646c06c0bd9cc6b3127" kindref="member">ngram_cost</ref>;</highlight></codeline>
<codeline lineno="134"><highlight class="normal">};</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Struct<sp/>for<sp/>storing<sp/>the<sp/>information<sp/>about<sp/>a<sp/>path<sp/>in<sp/>the<sp/>segmentation<sp/>graph</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="comment">//<sp/>explored<sp/>by<sp/>Viterbi<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="structtesseract_1_1_viterbi_state_entry" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_e_l_i_s_t___l_i_n_k" kindref="compound">ELIST_LINK</ref><sp/>{</highlight></codeline>
<codeline lineno="139" refid="structtesseract_1_1_viterbi_state_entry_1a7d8db4804b734b4c9da6739ee2ef8cb5" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a7d8db4804b734b4c9da6739ee2ef8cb5" kindref="member">ViterbiStateEntry</ref>(<ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*pb,<sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<ref refid="pgedit_8cpp_1a1c3a3486da4ecba85e27f19b85e77aec" kindref="member">pe</ref>,</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>c,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ol,</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>&amp;ci,</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_associate_stats" kindref="compound">AssociateStats</ref><sp/>&amp;as,</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>tcf,</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*d,<sp/><ref refid="structtesseract_1_1_language_model_ngram_info" kindref="compound">LanguageModelNgramInfo</ref><sp/>*n)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a9ec1876660a123fef8540c419032db14" kindref="member">cost</ref>(c),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a4075debd32a716f5d65087b5df3ae376" kindref="member">parent_b</ref>(pb),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a8fafa528c3935768a6fe19501c619d5b" kindref="member">parent_vse</ref>(pe),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1acd6b9c11d6023860d01167a0ebfb0077" kindref="member">ratings_sum</ref>(b-&gt;rating()),</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref>(b-&gt;certainty()),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" kindref="member">adapted</ref>(b-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" kindref="member">adapted</ref>()),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" kindref="member">length</ref>(1),</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a0d9fd89bf692438d65cf25221f428752" kindref="member">outline_length</ref>(ol),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a35b0b6656f1cfe05fb6d20167e8f14e0" kindref="member">consistency_info</ref>(ci),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a3a617e5066e2a1655280e7b37c058090" kindref="member">associate_stats</ref>(as),</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aa9006c7c6cfcf3097947bd5814be31ff" kindref="member">top_choice_flags</ref>(tcf),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" kindref="member">dawg_info</ref>(d),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" kindref="member">ngram_info</ref>(n),<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1ad2fa280d4fe085d1b0d9fd7899a109fb" kindref="member">updated</ref>(true)<sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pe<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1acd6b9c11d6023860d01167a0ebfb0077" kindref="member">ratings_sum</ref><sp/>+=<sp/>pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1acd6b9c11d6023860d01167a0ebfb0077" kindref="member">ratings_sum</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref><sp/>&lt;<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref>)<sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref><sp/>=<sp/>pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref>;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" kindref="member">adapted</ref><sp/>+=<sp/>pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" kindref="member">adapted</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" kindref="member">length</ref><sp/>+=<sp/>pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a0d9fd89bf692438d65cf25221f428752" kindref="member">outline_length</ref><sp/>+=<sp/>pe-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a0d9fd89bf692438d65cf25221f428752" kindref="member">outline_length</ref>;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="159" refid="structtesseract_1_1_viterbi_state_entry_1a907e564e8ea572abeea33616a1d52340" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a907e564e8ea572abeea33616a1d52340" kindref="member">~ViterbiStateEntry</ref>()<sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" kindref="member">dawg_info</ref>;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" kindref="member">ngram_info</ref>;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Comparator<sp/>function<sp/>for<sp/>sorting<sp/>ViterbiStateEntry_LISTs<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>non-increasing<sp/>order<sp/>of<sp/>costs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165" refid="structtesseract_1_1_viterbi_state_entry_1ac3059c34aaa3f33e488259770299d3f0" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1ac3059c34aaa3f33e488259770299d3f0" kindref="member">Compare</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*e1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*e2)<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*ve1<sp/>=</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<sp/></highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(e1);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*ve2<sp/>=</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<sp/></highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(e2);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ve1-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a9ec1876660a123fef8540c419032db14" kindref="member">cost</ref><sp/>&lt;<sp/>ve2-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a9ec1876660a123fef8540c419032db14" kindref="member">cost</ref>)<sp/>?<sp/>-1<sp/>:<sp/>1;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="172" refid="structtesseract_1_1_viterbi_state_entry_1a4f4c002601b0fa40f6dcefe696f39d9b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a4f4c002601b0fa40f6dcefe696f39d9b" kindref="member">Consistent</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" kindref="member">dawg_info</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a35b0b6656f1cfe05fb6d20167e8f14e0" kindref="member">consistency_info</ref>.<ref refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" kindref="member">NumInconsistentCase</ref>()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a35b0b6656f1cfe05fb6d20167e8f14e0" kindref="member">consistency_info</ref>.<ref refid="structtesseract_1_1_language_model_consistency_info_1ab536c7e5938edfd575fc6f82d2c7c49d" kindref="member">Consistent</ref>();</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>cost<sp/>is<sp/>an<sp/>adjusted<sp/>ratings<sp/>sum,<sp/>that<sp/>is<sp/>adjusted<sp/>by<sp/>all<sp/>the<sp/>language</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>model<sp/>components<sp/>that<sp/>use<sp/>Viterbi<sp/>search.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181" refid="structtesseract_1_1_viterbi_state_entry_1a9ec1876660a123fef8540c419032db14" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a9ec1876660a123fef8540c419032db14" kindref="member">cost</ref>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Pointers<sp/>to<sp/>parent<sp/>BLOB_CHOICE<sp/>and<sp/>ViterbiStateEntry<sp/>(not<sp/>owned<sp/>by<sp/>this).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184" refid="structtesseract_1_1_viterbi_state_entry_1a4075debd32a716f5d65087b5df3ae376" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*<ref refid="structtesseract_1_1_viterbi_state_entry_1a4075debd32a716f5d65087b5df3ae376" kindref="member">parent_b</ref>;</highlight></codeline>
<codeline lineno="185" refid="structtesseract_1_1_viterbi_state_entry_1a8fafa528c3935768a6fe19501c619d5b" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<ref refid="structtesseract_1_1_viterbi_state_entry_1a8fafa528c3935768a6fe19501c619d5b" kindref="member">parent_vse</ref>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Various<sp/>information<sp/>about<sp/>the<sp/>characters<sp/>on<sp/>the<sp/>path<sp/>represented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>by<sp/>this<sp/>ViterbiStateEntry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="structtesseract_1_1_viterbi_state_entry_1acd6b9c11d6023860d01167a0ebfb0077" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1acd6b9c11d6023860d01167a0ebfb0077" kindref="member">ratings_sum</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>sum<sp/>of<sp/>ratings<sp/>of<sp/>character<sp/>on<sp/>the<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190" refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aedb457815350bf94c479f51a997fb8a6" kindref="member">min_certainty</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>minimum<sp/>certainty<sp/>on<sp/>the<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191" refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aabdb0666f3c6dc1019875d2351f522e4" kindref="member">adapted</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>number<sp/>of<sp/>BLOB_CHOICES<sp/>from<sp/>adapted<sp/>templates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192" refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" kindref="member">length</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>number<sp/>of<sp/>characters<sp/>on<sp/>the<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193" refid="structtesseract_1_1_viterbi_state_entry_1a0d9fd89bf692438d65cf25221f428752" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a0d9fd89bf692438d65cf25221f428752" kindref="member">outline_length</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>length<sp/>of<sp/>the<sp/>outline<sp/>so<sp/>far</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194" refid="structtesseract_1_1_viterbi_state_entry_1a35b0b6656f1cfe05fb6d20167e8f14e0" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a35b0b6656f1cfe05fb6d20167e8f14e0" kindref="member">consistency_info</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>path<sp/>consistency<sp/>info</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195" refid="structtesseract_1_1_viterbi_state_entry_1a3a617e5066e2a1655280e7b37c058090" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_associate_stats" kindref="compound">AssociateStats</ref><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1a3a617e5066e2a1655280e7b37c058090" kindref="member">associate_stats</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>character<sp/>widths/gaps/seams</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Flags<sp/>for<sp/>marking<sp/>the<sp/>entry<sp/>as<sp/>a<sp/>top<sp/>choice<sp/>path<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>smallest<sp/>rating<sp/>or<sp/>lower/upper<sp/>case<sp/>letters).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="structtesseract_1_1_viterbi_state_entry_1aa9006c7c6cfcf3097947bd5814be31ff" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1aa9006c7c6cfcf3097947bd5814be31ff" kindref="member">top_choice_flags</ref>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Extra<sp/>information<sp/>maintained<sp/>by<sp/>Dawg<sp/>laguage<sp/>model<sp/>component</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(owned<sp/>by<sp/>ViterbiStateEntry).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203" refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*<ref refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" kindref="member">dawg_info</ref>;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Extra<sp/>information<sp/>maintained<sp/>by<sp/>Ngram<sp/>laguage<sp/>model<sp/>component</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(owned<sp/>by<sp/>ViterbiStateEntry).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207" refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_ngram_info" kindref="compound">LanguageModelNgramInfo</ref><sp/>*<ref refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" kindref="member">ngram_info</ref>;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209" refid="structtesseract_1_1_viterbi_state_entry_1ad2fa280d4fe085d1b0d9fd7899a109fb" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry_1ad2fa280d4fe085d1b0d9fd7899a109fb" kindref="member">updated</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>to<sp/>true<sp/>if<sp/>the<sp/>entry<sp/>has<sp/>just<sp/>been<sp/>created/updated</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal">};</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><ref refid="namespacetesseract_1a897f98148e8c084774a0c00f774da30a" kindref="member">ELISTIZEH</ref>(<ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Struct<sp/>to<sp/>store<sp/>information<sp/>maintained<sp/>by<sp/>various<sp/>language<sp/>model<sp/>components.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215" refid="structtesseract_1_1_language_model_state" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_language_model_state" kindref="compound">LanguageModelState</ref><sp/>{</highlight></codeline>
<codeline lineno="216" refid="structtesseract_1_1_language_model_state_1aa77c5eeae7e17cbab3b53e39ad3743c6" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_state_1aa77c5eeae7e17cbab3b53e39ad3743c6" kindref="member">LanguageModelState</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row)<sp/>:<sp/><ref refid="structtesseract_1_1_language_model_state_1ae80ec38cc37da26409575220b9b45f5c" kindref="member">contained_in_col</ref>(col),</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_state_1ae96e5a75f1c2ea8de9ba05f30f56dae3" kindref="member">contained_in_row</ref>(row),<sp/><ref refid="structtesseract_1_1_language_model_state_1abaf36a1c562fde2146b8e3057ca8d82a" kindref="member">viterbi_state_entries_prunable_length</ref>(0),</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_state_1a5b44d715b203bdeb5a495a29361eb0ec" kindref="member">viterbi_state_entries_length</ref>(0),</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_state_1a15228989c31caf6a0acb2cfddc91b036" kindref="member">viterbi_state_entries_prunable_max_cost</ref>(<ref refid="host_8h_1a9adcee815220ec9db98062213806ed04" kindref="member">MAX_FLOAT32</ref>)<sp/>{}</highlight></codeline>
<codeline lineno="220" refid="structtesseract_1_1_language_model_state_1ae476235a5d5baead15402cbcb53c4f81" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_state_1ae476235a5d5baead15402cbcb53c4f81" kindref="member">~LanguageModelState</ref>()<sp/>{}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Ratings<sp/>matrix<sp/>cell<sp/>that<sp/>holds<sp/>this<sp/>LanguageModelState</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(needed<sp/>to<sp/>construct<sp/>best<sp/>STATE<sp/>for<sp/>rebuild_current_state()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>best<sp/>BLOB_CHOICE_LIST_VECTOR<sp/>for<sp/>AcceptableChoice()).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="structtesseract_1_1_language_model_state_1ae80ec38cc37da26409575220b9b45f5c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_state_1ae80ec38cc37da26409575220b9b45f5c" kindref="member">contained_in_col</ref>;</highlight></codeline>
<codeline lineno="226" refid="structtesseract_1_1_language_model_state_1ae96e5a75f1c2ea8de9ba05f30f56dae3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_state_1ae96e5a75f1c2ea8de9ba05f30f56dae3" kindref="member">contained_in_row</ref>;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Storage<sp/>for<sp/>the<sp/>Viterbi<sp/>state.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229" refid="structtesseract_1_1_language_model_state_1af29da94ee5bcd913aabf1135c7907a57" refkind="member"><highlight class="normal"><sp/><sp/>ViterbiStateEntry_LIST<sp/><ref refid="structtesseract_1_1_language_model_state_1af29da94ee5bcd913aabf1135c7907a57" kindref="member">viterbi_state_entries</ref>;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Number<sp/>and<sp/>max<sp/>cost<sp/>of<sp/>prunable<sp/>paths<sp/>in<sp/>viterbi_state_entries.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="structtesseract_1_1_language_model_state_1abaf36a1c562fde2146b8e3057ca8d82a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_state_1abaf36a1c562fde2146b8e3057ca8d82a" kindref="member">viterbi_state_entries_prunable_length</ref>;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Total<sp/>number<sp/>of<sp/>entries<sp/>in<sp/>viterbi_state_entries.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="structtesseract_1_1_language_model_state_1a5b44d715b203bdeb5a495a29361eb0ec" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_state_1a5b44d715b203bdeb5a495a29361eb0ec" kindref="member">viterbi_state_entries_length</ref>;</highlight></codeline>
<codeline lineno="234" refid="structtesseract_1_1_language_model_state_1a15228989c31caf6a0acb2cfddc91b036" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_state_1a15228989c31caf6a0acb2cfddc91b036" kindref="member">viterbi_state_entries_prunable_max_cost</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO(daria):<sp/>add<sp/>font<sp/>consistency<sp/>checking.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal">};</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Bundle<sp/>together<sp/>all<sp/>the<sp/>things<sp/>pertaining<sp/>to<sp/>the<sp/>best<sp/>choice/state.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="structtesseract_1_1_best_choice_bundle" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_best_choice_bundle" kindref="compound">BestChoiceBundle</ref><sp/>{</highlight></codeline>
<codeline lineno="241" refid="structtesseract_1_1_best_choice_bundle_1ab763f5540d4e69fead7c33df82a3b38b" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle_1ab763f5540d4e69fead7c33df82a3b38b" kindref="member">BestChoiceBundle</ref>(<ref refid="struct_s_t_a_t_e" kindref="compound">STATE</ref><sp/>*s,<sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*bc,<sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*<ref refid="namespacetesseract-c__api-demo_1a42e422a84ae8cc850bac5f48b7b6c5ef" kindref="member">rc</ref>,</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">BLOB_CHOICE_LIST_VECTOR</ref><sp/>*bcc)</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1ad5fa47b00edb1437f91674f9410a019c" kindref="member">best_state</ref>(s),<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1a7aeeee791442cabdd74ed11b689422d8" kindref="member">best_choice</ref>(bc),<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1a705401ade6368915facf621e40b73a68" kindref="member">raw_choice</ref>(rc),</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle_1adb1ca160f5eb6a932449b74657286135" kindref="member">best_char_choices</ref>(bcc),<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1aafafff1dc54426c831781fc7388e769f" kindref="member">updated</ref>(false),<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1a475dbb3137bf00a07ee565a6e52b717a" kindref="member">best_vse</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),<sp/><ref refid="structtesseract_1_1_best_choice_bundle_1a5fea163325ccbbc9a09393e178054c49" kindref="member">best_b</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{}</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246" refid="structtesseract_1_1_best_choice_bundle_1ad5fa47b00edb1437f91674f9410a019c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="struct_s_t_a_t_e" kindref="compound">STATE</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1ad5fa47b00edb1437f91674f9410a019c" kindref="member">best_state</ref>;</highlight></codeline>
<codeline lineno="247" refid="structtesseract_1_1_best_choice_bundle_1a7aeeee791442cabdd74ed11b689422d8" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1a7aeeee791442cabdd74ed11b689422d8" kindref="member">best_choice</ref>;</highlight></codeline>
<codeline lineno="248" refid="structtesseract_1_1_best_choice_bundle_1a705401ade6368915facf621e40b73a68" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1a705401ade6368915facf621e40b73a68" kindref="member">raw_choice</ref>;</highlight></codeline>
<codeline lineno="249" refid="structtesseract_1_1_best_choice_bundle_1adb1ca160f5eb6a932449b74657286135" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector" kindref="compound">BLOB_CHOICE_LIST_VECTOR</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1adb1ca160f5eb6a932449b74657286135" kindref="member">best_char_choices</ref>;</highlight></codeline>
<codeline lineno="250" refid="structtesseract_1_1_best_choice_bundle_1aafafff1dc54426c831781fc7388e769f" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_best_choice_bundle_1aafafff1dc54426c831781fc7388e769f" kindref="member">updated</ref>;</highlight></codeline>
<codeline lineno="251" refid="structtesseract_1_1_best_choice_bundle_1a2a650c297a6ace5f9f506b972d9a4fb1" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector" kindref="compound">DANGERR</ref><sp/><ref refid="structtesseract_1_1_best_choice_bundle_1a2a650c297a6ace5f9f506b972d9a4fb1" kindref="member">fixpt</ref>;</highlight></codeline>
<codeline lineno="252" refid="structtesseract_1_1_best_choice_bundle_1a475dbb3137bf00a07ee565a6e52b717a" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1a475dbb3137bf00a07ee565a6e52b717a" kindref="member">best_vse</ref>;<sp/></highlight><highlight class="comment">//<sp/>best<sp/>ViterbiStateEntry<sp/>and<sp/>BLOB_CHOICE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253" refid="structtesseract_1_1_best_choice_bundle_1a5fea163325ccbbc9a09393e178054c49" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*<ref refid="structtesseract_1_1_best_choice_bundle_1a5fea163325ccbbc9a09393e178054c49" kindref="member">best_b</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>best<sp/>choice<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal">};</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="structtesseract_1_1_best_path_by_column" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_best_path_by_column" kindref="compound">BestPathByColumn</ref><sp/>{</highlight></codeline>
<codeline lineno="257" refid="structtesseract_1_1_best_path_by_column_1a796bfd0c93f113f47ae4c1ab727a4ed1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_best_path_by_column_1a796bfd0c93f113f47ae4c1ab727a4ed1" kindref="member">avg_cost</ref>;</highlight></codeline>
<codeline lineno="258" refid="structtesseract_1_1_best_path_by_column_1a57f94e53a46d6669768c88daab8a071d" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*<ref refid="structtesseract_1_1_best_path_by_column_1a57f94e53a46d6669768c88daab8a071d" kindref="member">best_vse</ref>;</highlight></codeline>
<codeline lineno="259" refid="structtesseract_1_1_best_path_by_column_1ab7ed2c2005113d82334d74d3ef32ba35" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*<ref refid="structtesseract_1_1_best_path_by_column_1ab7ed2c2005113d82334d74d3ef32ba35" kindref="member">best_b</ref>;</highlight></codeline>
<codeline lineno="260"><highlight class="normal">};</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>class<sp/>that<sp/>contains<sp/>the<sp/>data<sp/>structures<sp/>and<sp/>functions<sp/>necessary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight><highlight class="comment">//<sp/>to<sp/>represent<sp/>and<sp/>use<sp/>the<sp/>knowledge<sp/>about<sp/>the<sp/>language.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264" refid="classtesseract_1_1_language_model" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtesseract_1_1_language_model" kindref="compound">LanguageModel</ref><sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Adjustments<sp/>to<sp/>pain<sp/>point<sp/>priority.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267" refid="classtesseract_1_1_language_model_1a21861bc8d1d02cf8ea67f2b64136459e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a21861bc8d1d02cf8ea67f2b64136459e" kindref="member">kInitialPainPointPriorityAdjustment</ref>;</highlight></codeline>
<codeline lineno="268" refid="classtesseract_1_1_language_model_1a12daeb85f9376498fb478497ef501dc4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a12daeb85f9376498fb478497ef501dc4" kindref="member">kDefaultPainPointPriorityAdjustment</ref>;</highlight></codeline>
<codeline lineno="269" refid="classtesseract_1_1_language_model_1ac514086c0819ead38b9eb304f9e401f3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ac514086c0819ead38b9eb304f9e401f3" kindref="member">kBestChoicePainPointPriorityAdjustment</ref>;</highlight></codeline>
<codeline lineno="270" refid="classtesseract_1_1_language_model_1a6a7d7189f9cbdebc127c70b018a36010" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a6a7d7189f9cbdebc127c70b018a36010" kindref="member">kCriticalPainPointPriorityAdjustment</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Denominator<sp/>for<sp/>normalizing<sp/>per-letter<sp/>ngram<sp/>cost<sp/>when<sp/>deriving</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>penalty<sp/>adjustments.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274" refid="classtesseract_1_1_language_model_1a94f3c78f8a231538513e4a47387072fc" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a94f3c78f8a231538513e4a47387072fc" kindref="member">kMaxAvgNgramCost</ref>;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Minimum<sp/>word<sp/>length<sp/>for<sp/>fixed<sp/>length<sp/>dawgs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO(daria):<sp/>check<sp/>in<sp/>the<sp/>new<sp/>chi/jpn.traineddata<sp/>without<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>fixed<sp/>length<sp/>dawg<sp/>of<sp/>length<sp/>1<sp/>and<sp/>delete<sp/>this<sp/>variable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="classtesseract_1_1_language_model_1aded535788a84e534bc8511f2dc1a2b44" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1aded535788a84e534bc8511f2dc1a2b44" kindref="member">kMinFixedLengthDawgLength</ref>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>is<sp/>a<sp/>significant<sp/>drop<sp/>in<sp/>character<sp/>ngram<sp/>probability<sp/>or<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>dangerous<sp/>ambiguity<sp/>make<sp/>the<sp/>thresholds<sp/>on<sp/>what<sp/>blob<sp/>combinations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>can<sp/>be<sp/>classified<sp/>looser.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282" refid="classtesseract_1_1_language_model_1a2b5a3fcb550fc71a4f969f1a25d8dc8c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a2b5a3fcb550fc71a4f969f1a25d8dc8c" kindref="member">kLooseMaxCharWhRatio</ref>;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Masks<sp/>for<sp/>interpreting<sp/>which<sp/>language<sp/>model<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>were<sp/>changed<sp/>by<sp/>the<sp/>call<sp/>to<sp/>UpdateState().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286" refid="classtesseract_1_1_language_model_1a2ceab7e561b052612fbaefab123cdb37" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a2ceab7e561b052612fbaefab123cdb37" kindref="member">kSmallestRatingFlag</ref><sp/>=<sp/>0x1;</highlight></codeline>
<codeline lineno="287" refid="classtesseract_1_1_language_model_1a632d464aad707355a3f8f8964ca8a4a9" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a632d464aad707355a3f8f8964ca8a4a9" kindref="member">kLowerCaseFlag</ref><sp/>=<sp/>0x2;</highlight></codeline>
<codeline lineno="288" refid="classtesseract_1_1_language_model_1ac41f6462a9bf12d7183db9e90a3099a4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1ac41f6462a9bf12d7183db9e90a3099a4" kindref="member">kUpperCaseFlag</ref><sp/>=<sp/>0x4;</highlight></codeline>
<codeline lineno="289" refid="classtesseract_1_1_language_model_1a2b7db0b0d16bdb023052658aeec5ba4d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a2b7db0b0d16bdb023052658aeec5ba4d" kindref="member">kConsistentFlag</ref><sp/>=<sp/>0x8;</highlight></codeline>
<codeline lineno="290" refid="classtesseract_1_1_language_model_1ae54fd4fa2b7a2d8d9a2e94ba737a6e1c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1ae54fd4fa2b7a2d8d9a2e94ba737a6e1c" kindref="member">kDawgFlag</ref><sp/>=<sp/>0x10;</highlight></codeline>
<codeline lineno="291" refid="classtesseract_1_1_language_model_1aedbb1c14c827624692f38d407cec89e1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1aedbb1c14c827624692f38d407cec89e1" kindref="member">kNgramFlag</ref><sp/>=<sp/>0x20;</highlight></codeline>
<codeline lineno="292" refid="classtesseract_1_1_language_model_1a9eb9553ebf01e05ba3b07d2aacc083c5" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a9eb9553ebf01e05ba3b07d2aacc083c5" kindref="member">kJustClassifiedFlag</ref><sp/>=<sp/>0x80;</highlight></codeline>
<codeline lineno="293" refid="classtesseract_1_1_language_model_1aa6d25aa709ba6ef4751d481f810e64f7" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1aa6d25aa709ba6ef4751d481f810e64f7" kindref="member">kAllChangedFlag</ref><sp/>=<sp/>0xff;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1af68acd65ef84e197eef48131bfc6e9e1" kindref="member">LanguageModel</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_unicity_table" kindref="compound">UnicityTable&lt;FontInfo&gt;</ref><sp/>*fontinfo_table,<sp/><ref refid="classtesseract_1_1_dict" kindref="compound">Dict</ref><sp/>*dict);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a99f684d6e3d47fadd09dc2e92e194c7f" kindref="member">~LanguageModel</ref>();</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Updates<sp/>data<sp/>structures<sp/>that<sp/>are<sp/>used<sp/>for<sp/>the<sp/>duration<sp/>of<sp/>the<sp/>segmentation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>search<sp/>on<sp/>the<sp/>current<sp/>word;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ae34907eacffd1bf06ec639cc5cd8fa53" kindref="member">InitForWord</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*prev_word,</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fixed_pitch,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>best_choice_cert,</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>max_char_wh_ratio,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>rating_cert_scale,</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,<sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_blamer_bundle" kindref="compound">BlamerBundle</ref><sp/>*blamer_bundle,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>debug_blamer);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Resets<sp/>all<sp/>the<sp/>&quot;updated&quot;<sp/>flags<sp/>used<sp/>by<sp/>the<sp/>Viterbi<sp/>search<sp/>that<sp/>were</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;registered&quot;<sp/>during<sp/>the<sp/>update<sp/>of<sp/>the<sp/>ratings<sp/>matrix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1abb338f9a344adee6b70d0d3a4b84324c" kindref="member">CleanUp</ref>();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Deletes<sp/>and<sp/>sets<sp/>to<sp/>NULL<sp/>language<sp/>model<sp/>states<sp/>of<sp/>each<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>BLOB_CHOICEs<sp/>in<sp/>the<sp/>given<sp/>BLOB_CHOICE_LIST.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a5d438b4a1df7926373f81851ad8ee0de" kindref="member">DeleteState</ref>(BLOB_CHOICE_LIST<sp/>*choices);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Updates<sp/>language<sp/>model<sp/>state<sp/>of<sp/>the<sp/>given<sp/>BLOB_CHOICE_LIST<sp/>(from</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>ratings<sp/>matrix)<sp/>a<sp/>its<sp/>parent.<sp/>Updates<sp/>pain_points<sp/>if<sp/>new</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>problematic<sp/>points<sp/>are<sp/>found<sp/>in<sp/>the<sp/>segmentation<sp/>graph.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>At<sp/>most<sp/>language_model_viterbi_list_size<sp/>are<sp/>kept<sp/>in<sp/>each</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>LanguageModelState.viterbi_state_entries<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>At<sp/>most<sp/>language_model_viterbi_list_max_num_prunable<sp/>of<sp/>those<sp/>are<sp/>prunable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(non-dictionary)<sp/>paths.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>entries<sp/>that<sp/>represent<sp/>dictionary<sp/>word<sp/>paths<sp/>are<sp/>kept<sp/>at<sp/>the<sp/>front</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>the<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>list<sp/>ordered<sp/>by<sp/>cost<sp/>that<sp/>is<sp/>computed<sp/>collectively<sp/>by<sp/>several</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>language<sp/>model<sp/>components<sp/>(currently<sp/>dawg<sp/>and<sp/>ngram<sp/>components).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>best_path_by_column<sp/>records<sp/>the<sp/>lowest<sp/>cost<sp/>path<sp/>found<sp/>so<sp/>far<sp/>for<sp/>each</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>column<sp/>of<sp/>the<sp/>chunks_record-&gt;ratings<sp/>matrix<sp/>over<sp/>all<sp/>the<sp/>rows.<sp/>This</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>array<sp/>is<sp/>updated<sp/>if<sp/>a<sp/>lower<sp/>cost<sp/>ViterbiStateEntry<sp/>is<sp/>created<sp/>in<sp/>curr_col.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a6e71e759889a7f6b33088a273208fbf9" kindref="member">UpdateState</ref>(</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>changed,</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_row,</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>BLOB_CHOICE_LIST<sp/>*curr_list,</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>BLOB_CHOICE_LIST<sp/>*parent_list,</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_path_by_column" kindref="compound">BestPathByColumn</ref><sp/>*best_path_by_column[],</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle" kindref="compound">BestChoiceBundle</ref><sp/>*best_choice_bundle,</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_blamer_bundle" kindref="compound">BlamerBundle</ref><sp/>*blamer_bundle);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Generates<sp/>pain<sp/>points<sp/>from<sp/>the<sp/>problematic<sp/>top<sp/>choice<sp/>paths<sp/>when<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>segmentation<sp/>search<sp/>is<sp/>guided<sp/>by<sp/>the<sp/>character<sp/>ngram<sp/>model.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>is<sp/>necessary<sp/>to<sp/>consider<sp/>problematic<sp/>the<sp/>top<sp/>choice<sp/>paths<sp/>instead<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>problematic<sp/>lowest<sp/>cost<sp/>paths<sp/>because<sp/>the<sp/>character<sp/>ngram<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>might<sp/>assign<sp/>a<sp/>very<sp/>high<sp/>cost<sp/>to<sp/>very<sp/>improbably<sp/>paths.<sp/>For<sp/>example,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;liot&quot;<sp/>might<sp/>have<sp/>a<sp/>much<sp/>lower<sp/>cost<sp/>than<sp/>&quot;llot&quot;,<sp/>and<sp/>the<sp/>character<sp/>ngram</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>model<sp/>might<sp/>detect<sp/>a<sp/>dip<sp/>in<sp/>probability<sp/>for<sp/>p(t|lio)<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>word,<sp/>but<sp/>not<sp/>at<sp/>the<sp/>beginning<sp/>(p(i|l)<sp/>would<sp/>be<sp/>ok).<sp/>However,<sp/>looking<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>dips<sp/>in<sp/>character<sp/>ngram<sp/>probability<sp/>of<sp/>the<sp/>top<sp/>choices<sp/>we<sp/>would<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>able<sp/>to<sp/>stop<sp/>the<sp/>problematic<sp/>points<sp/>(p(l|<sp/>l)<sp/>would<sp/>be<sp/>low).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a880383cfa71735ada29162492dcb1ed2" kindref="member">GenerateNgramModelPainPointsFromColumn</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Generates<sp/>pain<sp/>points<sp/>from<sp/>the<sp/>problematic<sp/>lowest<sp/>cost<sp/>paths<sp/>that<sp/>are</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;promising&quot;<sp/>(i.e.<sp/>would<sp/>have<sp/>the<sp/>cost<sp/>lower<sp/>than<sp/>the<sp/>one<sp/>recorded<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>best_path_by_column<sp/>if<sp/>the<sp/>problematic<sp/>ending<sp/>of<sp/>the<sp/>path<sp/>is<sp/>removed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>after<sp/>being<sp/>combined<sp/>with<sp/>another<sp/>blob<sp/>the<sp/>certainty<sp/>of<sp/>the<sp/>last</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>blob<sp/>is<sp/>improved).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ac54bd170cc3184d2dc5ffc3b78383443" kindref="member">GenerateProblematicPathPainPointsFromColumn</ref>(</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>best_choice_cert,</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,<sp/><ref refid="structtesseract_1_1_best_path_by_column" kindref="compound">BestPathByColumn</ref><sp/>*best_path_by_column[],</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record);</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>can<sp/>be<sp/>called<sp/>after<sp/>processing<sp/>column<sp/>col<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>chunks_record-&gt;ratings<sp/>matrix<sp/>in<sp/>order<sp/>to<sp/>find<sp/>the<sp/>promising<sp/>paths</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>were<sp/>terminated<sp/>or<sp/>made<sp/>inconsistent<sp/>by<sp/>the<sp/>character<sp/>choices</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>column<sp/>col.<sp/>If<sp/>such<sp/>paths<sp/>are<sp/>identified,<sp/>this<sp/>function<sp/>generates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>pain<sp/>points<sp/>to<sp/>combine<sp/>the<sp/>problematic<sp/>cells<sp/>of<sp/>the<sp/>matrix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ac679885b93a64ab878e97d77c5b043ce" kindref="member">GeneratePainPointsFromColumn</ref>(</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;int&gt;</ref><sp/>&amp;non_empty_rows,</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>best_choice_cert,</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_path_by_column" kindref="compound">BestPathByColumn</ref><sp/>*best_path_by_column[],</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record);</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Generates<sp/>a<sp/>pain<sp/>point<sp/>for<sp/>each<sp/>problematic<sp/>point<sp/>on<sp/>the<sp/>best<sp/>choice</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>path.<sp/>Such<sp/>problematic<sp/>points<sp/>could<sp/>be<sp/>a<sp/>termination<sp/>of<sp/>a<sp/>dicionary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>word,<sp/>dip<sp/>in<sp/>ngram<sp/>probability,<sp/>invalid<sp/>punctuation,<sp/>inconsistent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>case/chartype/script<sp/>or<sp/>punctuation<sp/>in<sp/>the<sp/>middle<sp/>of<sp/>a<sp/>word.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a9ffdb916d868e062f46ed91801b10e48" kindref="member">GeneratePainPointsFromBestChoice</ref>(</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle" kindref="compound">BestChoiceBundle</ref><sp/>*best_choice_bundle);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Adds<sp/>a<sp/>pain<sp/>point<sp/>to<sp/>the<sp/>given<sp/>pain_points<sp/>queue<sp/>that<sp/>will<sp/>cause</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>entry<sp/>at<sp/>chunks_record-&gt;ratings(col,<sp/>row)<sp/>to<sp/>be<sp/>classified.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>priority<sp/>of<sp/>the<sp/>pain<sp/>point<sp/>is<sp/>set<sp/>to<sp/>be:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>priority_adjustment<sp/>*<sp/>sqrt(avg_parent_cost)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>----------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>sqrt(dict_parent_path_length)<sp/>*<sp/>|worst_piece_cert|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>priority<sp/>is<sp/>further<sp/>lowered<sp/>if<sp/>fragmented<sp/>is<sp/>true.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Reurns<sp/>true<sp/>if<sp/>a<sp/>new<sp/>pain<sp/>point<sp/>was<sp/>added<sp/>to<sp/>pain_points.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a112225abbc5018ab9b7c15b1363dce1a" kindref="member">GeneratePainPoint</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ok_to_extend,</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>priority_adjustment,</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>worst_piece_cert,</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fragmented,</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>best_choice_cert,</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>max_char_wh_ratio,</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*parent_b,</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>an<sp/>acceptable<sp/>best<sp/>choice<sp/>was<sp/>discovered.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407" refid="classtesseract_1_1_language_model_1a3a6f034012a45448a018bd4042138f74" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a3a6f034012a45448a018bd4042138f74" kindref="member">AcceptableChoiceFound</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1aee3c5c64657d9e77db9f2645ca1d29fd" kindref="member">acceptable_choice_found_</ref>;<sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Fills<sp/>cert<sp/>with<sp/>the<sp/>worst<sp/>certainty<sp/>of<sp/>the<sp/>top<sp/>non-fragmented<sp/>choice</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>the<sp/>left<sp/>and<sp/>right<sp/>neighbor<sp/>of<sp/>the<sp/>given<sp/>col,row.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Sets<sp/>fragmented<sp/>if<sp/>any<sp/>of<sp/>the<sp/>neighbors<sp/>have<sp/>a<sp/>fragmented<sp/>character</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>as<sp/>the<sp/>top<sp/>choice.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413" refid="classtesseract_1_1_language_model_1ac89838ae8a119ee1dd68e8da286d3de2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ac89838ae8a119ee1dd68e8da286d3de2" kindref="member">GetWorstPieceCertainty</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,<sp/><ref refid="class_m_a_t_r_i_x" kindref="compound">MATRIX</ref><sp/>*ratings,</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*cert,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*fragmented)<sp/>{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>*cert<sp/>=<sp/>0.0f;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>*fragmented<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(row<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a004b3ce3c3fecd02c55c0441dca660b5" kindref="member">GetPieceCertainty</ref>(ratings-&gt;<ref refid="class_g_e_n_e_r_i_c__2_d___a_r_r_a_y_1ac2361d09d80314d64330578d8e162566" kindref="member">get</ref>(col,<sp/>row-1),<sp/>cert,<sp/>fragmented);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(col+1<sp/>&lt;<sp/>ratings-&gt;<ref refid="class_g_e_n_e_r_i_c___m_a_t_r_i_x_1acaa00626e03fae7b31f5f08f7f48005b" kindref="member">dimension</ref>())<sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a004b3ce3c3fecd02c55c0441dca660b5" kindref="member">GetPieceCertainty</ref>(ratings-&gt;<ref refid="class_g_e_n_e_r_i_c__2_d___a_r_r_a_y_1ac2361d09d80314d64330578d8e162566" kindref="member">get</ref>(col+1,<sp/>row),<sp/>cert,<sp/>fragmented);</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(*cert<sp/>&lt;<sp/>0.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>outline<sp/>length<sp/>of<sp/>the<sp/>given<sp/>blob<sp/>is<sp/>computed<sp/>as:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>rating_cert_scale<sp/>*<sp/>rating<sp/>/<sp/>certainty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Since<sp/>from<sp/>Wordrec::SegSearch()<sp/>in<sp/>segsearch.cpp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>rating_cert_scale<sp/>=<sp/>-1.0<sp/>*<sp/>getDict().certainty_scale<sp/>/<sp/>rating_scale</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>And<sp/>from<sp/>Classify::ConvertMatchesToChoices()<sp/>in<sp/>adaptmatch.cpp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Rating<sp/>=<sp/>Certainty<sp/>=<sp/>next.rating</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Rating<sp/>*=<sp/>rating_scale<sp/>*<sp/>Results-&gt;BlobLength</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Certainty<sp/>*=<sp/>-(getDict().certainty_scale)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434" refid="classtesseract_1_1_language_model_1ae820072705cf3b347e496145a6ba7b8a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ae820072705cf3b347e496145a6ba7b8a" kindref="member">ComputeOutlineLength</ref>(<ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b)<sp/>{</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a97f70b05e97cec59b6f24cbd6870d4e7" kindref="member">rating_cert_scale_</ref><sp/>*<sp/>b-&gt;<ref refid="class_b_l_o_b___c_h_o_i_c_e_1a7fbd2d505bf5b55beee424096fb1e9bc" kindref="member">rating</ref>()<sp/>/<sp/>b-&gt;<ref refid="class_b_l_o_b___c_h_o_i_c_e_1af53d45b718c562ea7209b583c77ac14e" kindref="member">certainty</ref>();</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440" refid="classtesseract_1_1_language_model_1ad62708b20a5660fc70c98aaaa1407351" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ad62708b20a5660fc70c98aaaa1407351" kindref="member">CertaintyScore</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cert)<sp/>{</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(language_model_use_sigmoidal_certainty)<sp/>{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>cert<sp/>is<sp/>assumed<sp/>to<sp/>be<sp/>between<sp/>0<sp/>and<sp/>-dict_-&gt;certainty_scale.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>you<sp/>enable<sp/>language_model_use_sigmoidal_certainty,<sp/>you</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>need<sp/>to<sp/>adjust<sp/>language_model_ngram_nonmatch_score<sp/>as<sp/>well.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cert<sp/>=<sp/>-cert<sp/>/<sp/><ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;certainty_scale;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1.0f<sp/>/<sp/>(1.0f<sp/>+<sp/>exp(10.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref><sp/>*<sp/>cert));</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(-1.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref><sp/>/<sp/>cert);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452" refid="classtesseract_1_1_language_model_1abe9fdc3e12da7a4158dbfeb4d0c02b11" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1abe9fdc3e12da7a4158dbfeb4d0c02b11" kindref="member">NonAlphaOrDigitMiddle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dimension,</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/>unichar_id)<sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(!<ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1ad1dd0929edfb0e9e4905cc2fbeff42c2" kindref="member">get_isalpha</ref>(unichar_id)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a5951dde3ab90c12c309d776570a10725" kindref="member">get_isdigit</ref>(unichar_id)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>col<sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/>row+1<sp/>&lt;<sp/>dimension);</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459" refid="classtesseract_1_1_language_model_1ab06c525990667669c562559d4d7e50e4" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ab06c525990667669c562559d4d7e50e4" kindref="member">IsFragment</ref>(<ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b)<sp/>{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1af08440927e3b87f99bd3a3fbd8e126dc" kindref="member">get_fragment</ref>(b-&gt;<ref refid="class_b_l_o_b___c_h_o_i_c_e_1aaba6190b77c5f3dc21905fc4118afa94" kindref="member">unichar_id</ref>());</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463" refid="classtesseract_1_1_language_model_1a6b2114d30b6f9d75a0c69ea2a08b873b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a6b2114d30b6f9d75a0c69ea2a08b873b" kindref="member">IsHan</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>script_id)<sp/>{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((<ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1af6459dc0dd8e46d86504c861bdf3b89a" kindref="member">han_sid</ref>()<sp/>!=</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a126914ee29131685037c122375169a62" kindref="member">null_sid</ref>())<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(script_id<sp/>==<sp/><ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>().<ref refid="class_u_n_i_c_h_a_r_s_e_t_1af6459dc0dd8e46d86504c861bdf3b89a" kindref="member">han_sid</ref>()));</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Finds<sp/>the<sp/>first<sp/>non-fragmented<sp/>character<sp/>in<sp/>the<sp/>given<sp/>BLOB_CHOICE_LIST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>updates<sp/>cert<sp/>if<sp/>its<sp/>certainty<sp/>is<sp/>less<sp/>than<sp/>the<sp/>one<sp/>recorded<sp/>in<sp/>cert.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Sets<sp/>fragmented<sp/>if<sp/>the<sp/>first<sp/>choice<sp/>in<sp/>BLOB_CHOICE_LIST<sp/>is<sp/>a<sp/>fragment.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472" refid="classtesseract_1_1_language_model_1a004b3ce3c3fecd02c55c0441dca660b5" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a004b3ce3c3fecd02c55c0441dca660b5" kindref="member">GetPieceCertainty</ref>(BLOB_CHOICE_LIST<sp/>*blist,</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*cert,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*fragmented)<sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blist<sp/>==<sp/><ref refid="matrix_8h_1a5c21a86b19e78482e6c7384c47c2457d" kindref="member">NOT_CLASSIFIED</ref><sp/>||<sp/>blist-&gt;empty())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>BLOB_CHOICE_IT<sp/>bit(blist);</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!bit.at_last()<sp/>&amp;&amp;<sp/><ref refid="classtesseract_1_1_language_model_1ab06c525990667669c562559d4d7e50e4" kindref="member">IsFragment</ref>(bit.data()))<sp/>{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*fragmented<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit.forward();<sp/><sp/></highlight><highlight class="comment">//<sp/>skip<sp/>fragments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Each<sp/>classification<sp/>must<sp/>have<sp/>at<sp/>least<sp/>one<sp/>non-fragmented<sp/>choice.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(!<ref refid="classtesseract_1_1_language_model_1ab06c525990667669c562559d4d7e50e4" kindref="member">IsFragment</ref>(bit.data()));</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bit.data()-&gt;certainty()<sp/>&lt;<sp/>*cert)<sp/>*cert<sp/>=<sp/>bit.data()-&gt;certainty();</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_problems,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>penalty)<sp/>{</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_problems<sp/>==<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0.0f;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(num_problems<sp/>==<sp/>1)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>penalty;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(penalty<sp/>+<sp/>(language_model_penalty_increment<sp/>*</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static_cast&lt;float&gt;(num_problems-1)));</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Computes<sp/>the<sp/>adjustment<sp/>to<sp/>the<sp/>ratings<sp/>sum<sp/>based<sp/>on<sp/>the<sp/>given</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>consistency_info.<sp/>The<sp/>paths<sp/>with<sp/>invalid<sp/>punctuation,<sp/>inconsistent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>case<sp/>and<sp/>character<sp/>type<sp/>are<sp/>penalized<sp/>proportionally<sp/>to<sp/>the<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>inconsistencies<sp/>on<sp/>the<sp/>path.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496" refid="classtesseract_1_1_language_model_1a8ad6c36003d1e5105e25d4f125ba44fc" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a8ad6c36003d1e5105e25d4f125ba44fc" kindref="member">ComputeConsistencyAdjustment</ref>(</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*dawg_info,</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>&amp;consistency_info)<sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dawg_info<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" kindref="member">NumInconsistentCase</ref>(),</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_case);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1aa2de6ec1817d1279da48a92b5ef65021" kindref="member">NumInconsistentPunc</ref>(),</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_punc)<sp/>+</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1a5ced173a5c0efd967aa599f25d13c61b" kindref="member">NumInconsistentCase</ref>(),</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_case)<sp/>+</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1a1a989b62750d64216a709e8e4ac1c1dd" kindref="member">NumInconsistentChartype</ref>(),</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_chartype)<sp/>+</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a2cbf75be87744e712363831e96b87858" kindref="member">ComputeAdjustment</ref>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1aa12829f3fb2bfba9bad378be6bd4f331" kindref="member">NumInconsistentSpaces</ref>(),</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_spacing)<sp/>+</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1a540e9468b97ac8d07795cbbd72f8bb6d" kindref="member">inconsistent_script</ref><sp/>?</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_script<sp/>:<sp/>0.0f)<sp/>+</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(consistency_info.<ref refid="structtesseract_1_1_language_model_consistency_info_1a0b52e50bde57f205e0cb7ba5ba8dd4f3" kindref="member">inconsistent_font</ref><sp/>?</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language_model_penalty_font<sp/>:<sp/>0.0f));</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>an<sp/>adjusted<sp/>ratings<sp/>sum<sp/>that<sp/>includes<sp/>inconsistency<sp/>penalties.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518" refid="classtesseract_1_1_language_model_1a2f3114462424bbe1572095da37955b84" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a2f3114462424bbe1572095da37955b84" kindref="member">ComputeConsistencyAdjustedRatingsSum</ref>(</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ratings_sum,</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*dawg_info,</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>&amp;consistency_info)<sp/>{</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ratings_sum<sp/>*<sp/>(1.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref><sp/>+<sp/><ref refid="classtesseract_1_1_language_model_1a8ad6c36003d1e5105e25d4f125ba44fc" kindref="member">ComputeConsistencyAdjustment</ref>(</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dawg_info,<sp/>consistency_info)));</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>an<sp/>adjusted<sp/>ratings<sp/>sum<sp/>that<sp/>includes<sp/>inconsistency<sp/>penalties,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>penalties<sp/>for<sp/>non-dictionary<sp/>paths<sp/>and<sp/>paths<sp/>with<sp/>dips<sp/>in<sp/>ngram</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>probability.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a16f5fb35f49c158debf290e1d6df3669" kindref="member">ComputeAdjustedPathCost</ref>(</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ratings_sum,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>length,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dawg_score,</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*dawg_info,</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_ngram_info" kindref="compound">LanguageModelNgramInfo</ref><sp/>*ngram_info,</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>&amp;consistency_info,</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_associate_stats" kindref="compound">AssociateStats</ref><sp/>&amp;associate_stats,</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>given<sp/>ViterbiStateEntry<sp/>represents<sp/>a<sp/>problematic</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>path.<sp/>A<sp/>path<sp/>is<sp/>considered<sp/>problematic<sp/>if<sp/>the<sp/>last<sp/>unichar<sp/>makes<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>inconsistent,<sp/>introduces<sp/>a<sp/>dip<sp/>in<sp/>ngram<sp/>probability<sp/>or<sp/>transforms<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>dictionary<sp/>path<sp/>into<sp/>a<sp/>non-dictionary<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1abd6f8374433282f19ed9f16a814747a2" kindref="member">ProblematicPath</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>&amp;vse,</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/>unichar_id,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>word_end);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Finds<sp/>the<sp/>first<sp/>lower<sp/>and<sp/>upper<sp/>case<sp/>character<sp/>in<sp/>curr_list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>none<sp/>found,<sp/>chooses<sp/>the<sp/>first<sp/>character<sp/>in<sp/>the<sp/>list.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a1c3bfccbef3bc9019b7cc24ec7ab059a" kindref="member">GetTopChoiceLowerUpper</ref>(<ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>changed,</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BLOB_CHOICE_LIST<sp/>*curr_list,</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>**first_lower,</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>**first_upper);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Helper<sp/>function<sp/>that<sp/>computes<sp/>the<sp/>cost<sp/>of<sp/>the<sp/>path<sp/>composed<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>path<sp/>in<sp/>the<sp/>given<sp/>parent<sp/>ViterbiStateEntry<sp/>and<sp/>the<sp/>given<sp/>BLOB_CHOICE.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Adds<sp/>a<sp/>new<sp/>ViterbiStateEntry<sp/>to<sp/>the<sp/>list<sp/>of<sp/>viterbi<sp/>entries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>given<sp/>BLOB_CHOICE<sp/>if<sp/>the<sp/>new<sp/>path<sp/>looks<sp/>good<sp/>enough.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>LanguageModelFlagsType<sp/>that<sp/>indicates<sp/>which<sp/>language</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>model<sp/>components<sp/>were<sp/>involved<sp/>in<sp/>creating<sp/>the<sp/>new<sp/>entry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/><ref refid="classtesseract_1_1_language_model_1a37caf9b4870012ac2d0de8c18fc475a3" kindref="member">AddViterbiStateEntry</ref>(</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>top_choice_flags,</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>denom,</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>word_end,</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_row,</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*parent_b,</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_path_by_column" kindref="compound">BestPathByColumn</ref><sp/>*best_path_by_column[],</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle" kindref="compound">BestChoiceBundle</ref><sp/>*best_choice_bundle,</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_blamer_bundle" kindref="compound">BlamerBundle</ref><sp/>*blamer_bundle);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Pretty<sp/>print<sp/>information<sp/>in<sp/>the<sp/>given<sp/>ViterbiStateEntry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a55b8b1ce014eaa9df1734a1cca9d6b5f" kindref="member">PrintViterbiStateEntry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*msg,</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*vse,</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record);</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Determines<sp/>whether<sp/>a<sp/>potential<sp/>entry<sp/>is<sp/>a<sp/>true<sp/>top<sp/>choice<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>updates<sp/>changed<sp/>accordingly.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>The<sp/>function<sp/>assumes<sp/>that<sp/>b,<sp/>top_choice_flags<sp/>and<sp/>changed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>are<sp/>not<sp/>NULL.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1ad466db4a445d5772735bf26d0094fe25" kindref="member">GenerateTopChoiceInfo</ref>(</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ratings_sum,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*dawg_info,</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>&amp;consistency_info,</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>*top_choice_flags,</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>*changed);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calls<sp/>dict_-&gt;LetterIsOk()<sp/>with<sp/>DawgArgs<sp/>initialized<sp/>from<sp/>parent_vse<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>unichar<sp/>from<sp/>b.unichar_id().<sp/>Constructs<sp/>and<sp/>returns<sp/>LanguageModelDawgInfo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>with<sp/>updated<sp/>active<sp/>dawgs,<sp/>constraints<sp/>and<sp/>permuter.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>the<sp/>caller<sp/>is<sp/>responsible<sp/>for<sp/>deleting<sp/>the<sp/>returned<sp/>pointer.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1afdbbaac8e9cfabc629ffa1c857f3521b" kindref="member">GenerateDawgInfo</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>word_end,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>script_id,</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_row,</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>&amp;b,</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>*changed);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Computes<sp/>p(unichar<sp/>|<sp/>parent<sp/>context)<sp/>and<sp/>records<sp/>it<sp/>in<sp/>ngram_cost.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>b.unichar_id()<sp/>is<sp/>an<sp/>unlikely<sp/>continuation<sp/>of<sp/>the<sp/>parent<sp/>context</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>sets<sp/>found_small_prob<sp/>to<sp/>true<sp/>and<sp/>returns<sp/>NULL.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Otherwise<sp/>creates<sp/>a<sp/>new<sp/>LanguageModelNgramInfo<sp/>entry<sp/>containing<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>updated<sp/>context<sp/>(that<sp/>includes<sp/>b.unichar_id()<sp/>at<sp/>the<sp/>end)<sp/>and<sp/>returns<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>the<sp/>caller<sp/>is<sp/>responsible<sp/>for<sp/>deleting<sp/>the<sp/>returned<sp/>pointer.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_language_model_ngram_info" kindref="compound">LanguageModelNgramInfo</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1ad586fa622fb8f4f1121c6a47dc393e3f" kindref="member">GenerateNgramInfo</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*unichar,</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>certainty,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>denom,</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_row,</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*parent_b,</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>*changed);</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Computes<sp/>-(log(prob(classifier))<sp/>+<sp/>log(prob(ngram<sp/>model)))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>the<sp/>given<sp/>unichar<sp/>in<sp/>the<sp/>given<sp/>context.<sp/>If<sp/>there<sp/>are<sp/>multiple</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>unichars<sp/>at<sp/>one<sp/>position<sp/>-<sp/>takes<sp/>the<sp/>average<sp/>of<sp/>their<sp/>probabilities.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>UNICHAR::utf8_step()<sp/>is<sp/>used<sp/>to<sp/>separate<sp/>out<sp/>individual<sp/>UTF8<sp/>characters,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>since<sp/>probability_in_context()<sp/>can<sp/>only<sp/>handle<sp/>one<sp/>at<sp/>a<sp/>time<sp/>(while</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>unicharset<sp/>might<sp/>contain<sp/>ngrams<sp/>and<sp/>glyphs<sp/>composed<sp/>from<sp/>multiple<sp/>UTF8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>characters).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a4825ba908be2ed7c21f007bc6f21d970" kindref="member">ComputeNgramCost</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*unichar,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>certainty,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>denom,</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*context,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*unichar_step_len,</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*found_small_prob,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*ngram_prob);</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Computes<sp/>the<sp/>normalization<sp/>factors<sp/>for<sp/>the<sp/>classifier<sp/>confidences</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(used<sp/>by<sp/>ComputeNgramCost()).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a933e234efec8a32e922023ad8811b469" kindref="member">ComputeDenom</ref>(BLOB_CHOICE_LIST<sp/>*curr_list);</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Fills<sp/>the<sp/>given<sp/>consistenty_info<sp/>based<sp/>on<sp/>parent_vse.consistency_info</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>on<sp/>the<sp/>consistency<sp/>of<sp/>the<sp/>given<sp/>unichar_id<sp/>with<sp/>parent_vse.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1aa62897048f719baec3647583efe3f3b5" kindref="member">FillConsistencyInfo</ref>(</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curr_col,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>word_end,<sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,<sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*parent_b,</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_language_model_consistency_info" kindref="compound">LanguageModelConsistencyInfo</ref><sp/>*consistency_info);</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Constructs<sp/>WERD_CHOICE<sp/>by<sp/>recording<sp/>unichar_ids<sp/>of<sp/>the<sp/>BLOB_CHOICEs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>on<sp/>the<sp/>path<sp/>represented<sp/>by<sp/>the<sp/>given<sp/>BLOB_CHOICE<sp/>and<sp/>language<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>state<sp/>entries<sp/>(lmse,<sp/>dse).<sp/>The<sp/>path<sp/>is<sp/>re-constructed<sp/>by<sp/>following</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>parent<sp/>pointers<sp/>in<sp/>the<sp/>the<sp/>lang<sp/>model<sp/>state<sp/>entries).<sp/>If<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>constructed<sp/>WERD_CHOICE<sp/>is<sp/>better<sp/>than<sp/>the<sp/>best/raw<sp/>choice<sp/>recorded</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>best_choice_bundle,<sp/>this<sp/>function<sp/>updates<sp/>the<sp/>corresponding</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>fields<sp/>and<sp/>sets<sp/>best_choice_bunldle-&gt;updated<sp/>to<sp/>true.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a83d19454ed46250da17a5bef2b5daef4" kindref="member">UpdateBestChoice</ref>(<ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*vse,</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_h_e_a_p" kindref="compound">HEAP</ref><sp/>*pain_points,</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_best_choice_bundle" kindref="compound">BestChoiceBundle</ref><sp/>*best_choice_bundle,</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_blamer_bundle" kindref="compound">BlamerBundle</ref><sp/>*blamer_bundle);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Fills<sp/>the<sp/>given<sp/>floats<sp/>array<sp/>with<sp/>raw<sp/>features<sp/>extracted<sp/>from<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>path<sp/>represented<sp/>by<sp/>the<sp/>given<sp/>ViterbiStateEntry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>See<sp/>ccstruct/params_training_featdef.h<sp/>for<sp/>feature<sp/>information.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1af1bb185436ec41c1d438f4e412a2ff62" kindref="member">ExtractRawFeaturesFromPath</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>&amp;vse,</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*features);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Constructs<sp/>a<sp/>WERD_CHOICE<sp/>by<sp/>tracing<sp/>parent<sp/>pointers<sp/>starting<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>given<sp/>LanguageModelStateEntry.<sp/>Returns<sp/>the<sp/>constructed<sp/>word.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Updates<sp/>best_char_choices,<sp/>certainties<sp/>and<sp/>state<sp/>if<sp/>they<sp/>are<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NULL<sp/>(best_char_choices<sp/>and<sp/>certainties<sp/>are<sp/>assumed<sp/>to<sp/>have<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>length<sp/>equal<sp/>to<sp/>lmse-&gt;length).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>caller<sp/>is<sp/>resposible<sp/>for<sp/>freeing<sp/>memory<sp/>associated<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>returned<sp/>WERD_CHOICE.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1abf249d9c9dd9bf8b03a760452382a852" kindref="member">ConstructWord</ref>(<ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref><sp/>*b,</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*vse,</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">BLOB_CHOICE_LIST_VECTOR</ref><sp/>*best_char_choices,</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>certainties[],</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*dawg_score,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_s_t_a_t_e" kindref="compound">STATE</ref><sp/>*state,</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_blamer_bundle" kindref="compound">BlamerBundle</ref><sp/>*blamer_bundle,</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*truth_path);</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>is<sp/>used<sp/>for<sp/>non-space<sp/>delimited<sp/>languages<sp/>when<sp/>looking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>word<sp/>endings<sp/>recorded<sp/>while<sp/>trying<sp/>to<sp/>separate<sp/>the<sp/>path<sp/>into<sp/>words.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>function<sp/>increments<sp/>covered<sp/>if<sp/>a<sp/>valid<sp/>word<sp/>ending<sp/>is<sp/>found<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>active_dawgs<sp/>(if<sp/>covered<sp/>is<sp/>incremented,<sp/>skip<sp/>is<sp/>set<sp/>to<sp/>the<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>unichars<sp/>that<sp/>should<sp/>be<sp/>skipped<sp/>because<sp/>they<sp/>are<sp/>covered<sp/>by<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>word<sp/>whose<sp/>ending<sp/>was<sp/>just<sp/>discovered).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>dawg_score<sp/>and<sp/>dawg_score_done<sp/>are<sp/>updated<sp/>if:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>--<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>path<sp/>we<sp/>discover<sp/>a<sp/>valid<sp/>word<sp/>ending<sp/>from<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>non-fixed<sp/>length<sp/>dawg<sp/>(this<sp/>means<sp/>that<sp/>the<sp/>whole<sp/>word<sp/>is<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>valid<sp/>word,<sp/>so<sp/>dawg_score<sp/>is<sp/>set<sp/>to<sp/>1.0f</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>--<sp/>word_start<sp/>is<sp/>true<sp/>(dawg_score<sp/>is<sp/>set<sp/>to<sp/>covered<sp/>/<sp/>word<sp/>length)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>this<sp/>function<sp/>assumes<sp/>that<sp/>skip,<sp/>covered,<sp/>dawg_score<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>dawg_score_done<sp/>are<sp/>not<sp/>NULL.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a97c4ba24b11a813605d90355ada07f58" kindref="member">UpdateCoveredByFixedLengthDawgs</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>&amp;active_dawgs,</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>word_index,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>word_length,</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*skip,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*covered,</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*dawg_score,</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*dawg_score_done);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Wrapper<sp/>around<sp/>AssociateUtils::ComputeStats().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699" refid="classtesseract_1_1_language_model_1a574aad791ea26694751f0bf691d77315" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a574aad791ea26694751f0bf691d77315" kindref="member">ComputeAssociateStats</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>col,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row,</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>max_char_wh_ratio,</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>*parent_vse,</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d" kindref="compound">CHUNKS_RECORD</ref><sp/>*chunks_record,</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_associate_stats" kindref="compound">AssociateStats</ref><sp/>*associate_stats)<sp/>{</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_associate_utils_1a85ca427ffbd4bbc769e774e1fb57edf3" kindref="member">AssociateUtils::ComputeStats</ref>(</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>col,<sp/>row,</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(parent_vse<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?<sp/>&amp;(parent_vse-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a3a617e5066e2a1655280e7b37c058090" kindref="member">associate_stats</ref>)<sp/>:<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(parent_vse<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?<sp/>parent_vse-&gt;<ref refid="structtesseract_1_1_viterbi_state_entry_1a773387611435ef429757052257f3cce7" kindref="member">length</ref><sp/>:<sp/>0,</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1a4d0169b5188cb51117d47f4db3f7c3cf" kindref="member">fixed_pitch_</ref>,<sp/>max_char_wh_ratio,</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>chunks_record-&gt;<ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d_1aa3826aaf2a5a7a76b000859ace1f8602" kindref="member">word_res</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>?<sp/>&amp;chunks_record-&gt;<ref refid="struct_c_h_u_n_k_s___r_e_c_o_r_d_1aa3826aaf2a5a7a76b000859ace1f8602" kindref="member">word_res</ref>-&gt;<ref refid="class_w_e_r_d___r_e_s_1a202d9d5d2a462d84012011c689e16605" kindref="member">denorm</ref><sp/>:<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>chunks_record,<sp/>language_model_debug_level,<sp/>associate_stats);</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>path<sp/>with<sp/>such<sp/>top_choice_flags<sp/>and<sp/>dawg_info</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>could<sp/>be<sp/>pruned<sp/>out<sp/>(i.e.<sp/>is<sp/>neither<sp/>a<sp/>system/user/frequent<sp/>dictionary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>nor<sp/>a<sp/>top<sp/>choice<sp/>path).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>non-space<sp/>delimited<sp/>languages<sp/>all<sp/>paths<sp/>can<sp/>be<sp/>&quot;somewhat&quot;<sp/>dictionary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>words.<sp/>In<sp/>such<sp/>languages<sp/>we<sp/>can<sp/>not<sp/>do<sp/>dictionary-driven<sp/>path<sp/>prunning,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>so<sp/>paths<sp/>with<sp/>non-empty<sp/>dawg_info<sp/>are<sp/>considered<sp/>prunable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719" refid="classtesseract_1_1_language_model_1a94e330401f968c32c4796deaa8c4eb2d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a94e330401f968c32c4796deaa8c4eb2d" kindref="member">PrunablePath</ref>(<ref refid="namespacetesseract_1a87cc64ed462a40c9c210a8bab7cb9b87" kindref="member">LanguageModelFlagsType</ref><sp/>top_choice_flags,</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_language_model_dawg_info" kindref="compound">LanguageModelDawgInfo</ref><sp/>*dawg_info)<sp/>{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top_choice_flags)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dawg_info<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dawg_info-&gt;<ref refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" kindref="member">permuter</ref><sp/>==<sp/>SYSTEM_DAWG_PERM<sp/>||</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dawg_info-&gt;<ref refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" kindref="member">permuter</ref><sp/>==<sp/>USER_DAWG_PERM<sp/>||</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dawg_info-&gt;<ref refid="structtesseract_1_1_language_model_dawg_info_1a172ed1149f12df85de309b228715a002" kindref="member">permuter</ref><sp/>==<sp/>FREQ_DAWG_PERM)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>-&gt;<ref refid="classtesseract_1_1_dict_1a44c62a7904145157e4aa303fcf6ef923" kindref="member">GetMaxFixedLengthDawgIndex</ref>()<sp/>&lt;<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Returns<sp/>true<sp/>if<sp/>the<sp/>given<sp/>ViterbiStateEntry<sp/>represents<sp/>an<sp/>acceptable<sp/>path.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="731" refid="classtesseract_1_1_language_model_1a4b5ee45528f0c3b57efbe2ad661681c2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a4b5ee45528f0c3b57efbe2ad661681c2" kindref="member">AcceptablePath</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_viterbi_state_entry" kindref="compound">ViterbiStateEntry</ref><sp/>&amp;vse)<sp/>{</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(vse.<ref refid="structtesseract_1_1_viterbi_state_entry_1a0668c82dbf9068d2ccb6d3c0b8798f89" kindref="member">dawg_info</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/>vse.<ref refid="structtesseract_1_1_viterbi_state_entry_1a4f4c002601b0fa40f6dcefe696f39d9b" kindref="member">Consistent</ref>()<sp/>||</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(vse.<ref refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" kindref="member">ngram_info</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>!vse.<ref refid="structtesseract_1_1_viterbi_state_entry_1a93bab3f11db5956ecafd2e883655e1e1" kindref="member">ngram_info</ref>-&gt;<ref refid="structtesseract_1_1_language_model_ngram_info_1a4e5c109a8e5e6a3887024615f40817d1" kindref="member">pruned</ref>));</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Parameters.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_debug_level,<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Language<sp/>model<sp/>debug<sp/>level&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1af79088391ec80597f43e361c34bc7abb" kindref="member">BOOL_VAR_H</ref>(language_model_ngram_on,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Turn<sp/>on/off<sp/>the<sp/>use<sp/>of<sp/>character<sp/>ngram<sp/>model&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_ngram_order,<sp/>8,</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Maximum<sp/>order<sp/>of<sp/>the<sp/>character<sp/>ngram<sp/>model&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_viterbi_list_max_num_prunable,<sp/>10,</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Maximum<sp/>number<sp/>of<sp/>prunable<sp/>(those<sp/>for<sp/>which<sp/>PrunablePath()<sp/>is<sp/>true)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;entries<sp/>in<sp/>each<sp/>viterbi<sp/>list<sp/>recorded<sp/>in<sp/>BLOB_CHOICEs&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_viterbi_list_max_size,<sp/>500,</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Maximum<sp/>size<sp/>of<sp/>viterbi<sp/>lists<sp/>recorded<sp/>in<sp/>BLOB_CHOICEs&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_ngram_small_prob,<sp/>0.000001,</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;To<sp/>avoid<sp/>overly<sp/>small<sp/>denominators<sp/>use<sp/>this<sp/>as<sp/>the<sp/>floor&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>of<sp/>the<sp/>probability<sp/>returned<sp/>by<sp/>the<sp/>ngram<sp/>model&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_ngram_nonmatch_score,<sp/>-40.0,</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Average<sp/>classifier<sp/>score<sp/>of<sp/>a<sp/>non-matching<sp/>unichar&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1af79088391ec80597f43e361c34bc7abb" kindref="member">BOOL_VAR_H</ref>(language_model_ngram_use_only_first_uft8_step,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>only<sp/>the<sp/>first<sp/>UTF8<sp/>step<sp/>of<sp/>the<sp/>given<sp/>string&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>when<sp/>computing<sp/>log<sp/>probabilities&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_ngram_scale_factor,<sp/>0.03,</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Strength<sp/>of<sp/>the<sp/>character<sp/>ngram<sp/>model<sp/>relative<sp/>to<sp/>the&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>character<sp/>classifier<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1af79088391ec80597f43e361c34bc7abb" kindref="member">BOOL_VAR_H</ref>(language_model_ngram_space_delimited_language,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Words<sp/>are<sp/>delimited<sp/>by<sp/>space&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_min_compound_length,<sp/>3,</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Minimum<sp/>length<sp/>of<sp/>compound<sp/>words&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1aaf5e62c9b6c2097323835d0b384c69a0" kindref="member">INT_VAR_H</ref>(language_model_fixed_length_choices_depth,<sp/>3,</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Depth<sp/>of<sp/>blob<sp/>choice<sp/>lists<sp/>to<sp/>explore&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>when<sp/>fixed<sp/>length<sp/>dawgs<sp/>are<sp/>on&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Penalties<sp/>used<sp/>for<sp/>adjusting<sp/>path<sp/>costs<sp/>and<sp/>final<sp/>word<sp/>rating.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_non_freq_dict_word,<sp/>0.1,</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>words<sp/>not<sp/>in<sp/>the<sp/>frequent<sp/>word<sp/>dictionary&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_non_dict_word,<sp/>0.15,</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>non-dictionary<sp/>words&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_punc,<sp/>0.2,</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>punctuation&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_case,<sp/>0.1,</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>case&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_script,<sp/>0.5,</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>script&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_chartype,<sp/>0.3,</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>character<sp/>type&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_font,<sp/>0.00,</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>font&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_spacing,<sp/>0.05,</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>for<sp/>inconsistent<sp/>spacing&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1ac578b52439bdab92fbd3e6cb08ed9c92" kindref="member">double_VAR_H</ref>(language_model_penalty_increment,<sp/>0.01,<sp/></highlight><highlight class="stringliteral">&quot;Penalty<sp/>increment&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_language_model_1af79088391ec80597f43e361c34bc7abb" kindref="member">BOOL_VAR_H</ref>(language_model_use_sigmoidal_certainty,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Use<sp/>sigmoidal<sp/>score<sp/>for<sp/>certainty&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="787"><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Member<sp/>Variables.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Temporary<sp/>DawgArgs<sp/>struct<sp/>that<sp/>is<sp/>re-used<sp/>across<sp/>different<sp/>words<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>avoid<sp/>dynamic<sp/>memory<sp/>re-allocation<sp/>(should<sp/>be<sp/>cleared<sp/>before<sp/>each<sp/>use).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793" refid="classtesseract_1_1_language_model_1ab0495d098cbeb02d2cbf8318f72db6e7" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_dawg_args" kindref="compound">DawgArgs</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1ab0495d098cbeb02d2cbf8318f72db6e7" kindref="member">dawg_args_</ref>;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>List<sp/>of<sp/>pointers<sp/>to<sp/>updated<sp/>flags<sp/>used<sp/>by<sp/>Viterbi<sp/>search<sp/>to<sp/>mark</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>recently<sp/>updated<sp/>ViterbiStateEntries.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796" refid="classtesseract_1_1_language_model_1aed42c03dd8277f48a39ce957ade1af29" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;bool *&gt;</ref><sp/><ref refid="classtesseract_1_1_language_model_1aed42c03dd8277f48a39ce957ade1af29" kindref="member">updated_flags_</ref>;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Scaling<sp/>for<sp/>recovering<sp/>blob<sp/>outline<sp/>length<sp/>from<sp/>rating<sp/>and<sp/>certainty.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="798" refid="classtesseract_1_1_language_model_1a97f70b05e97cec59b6f24cbd6870d4e7" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a97f70b05e97cec59b6f24cbd6870d4e7" kindref="member">rating_cert_scale_</ref>;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>following<sp/>variables<sp/>are<sp/>set<sp/>at<sp/>construction<sp/>time.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Pointer<sp/>to<sp/>fontinfo<sp/>table<sp/>(not<sp/>owned<sp/>by<sp/>LanguageModel).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803" refid="classtesseract_1_1_language_model_1adda83343e5c77980f11a8e28b90ce778" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_unicity_table" kindref="compound">UnicityTable&lt;FontInfo&gt;</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1adda83343e5c77980f11a8e28b90ce778" kindref="member">fontinfo_table_</ref>;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Pointer<sp/>to<sp/>Dict<sp/>class,<sp/>that<sp/>is<sp/>used<sp/>for<sp/>querying<sp/>the<sp/>dictionaries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(the<sp/>pointer<sp/>is<sp/>not<sp/>owned<sp/>by<sp/>LanguageModel).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="807" refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dict" kindref="compound">Dict</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1ab8d88b6237e566212b22b0eb6ba19a3b" kindref="member">dict_</ref>;</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO(daria):<sp/>the<sp/>following<sp/>variables<sp/>should<sp/>become<sp/>LanguageModel<sp/>params</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>the<sp/>old<sp/>code<sp/>in<sp/>bestfirst.cpp<sp/>and<sp/>heuristic.cpp<sp/>is<sp/>deprecated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>to<sp/>true<sp/>if<sp/>we<sp/>are<sp/>dealing<sp/>with<sp/>fixed<sp/>pitch<sp/>text</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(set<sp/>to<sp/>assume_fixed_pitch_char_segment).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="814" refid="classtesseract_1_1_language_model_1a4d0169b5188cb51117d47f4db3f7c3cf" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a4d0169b5188cb51117d47f4db3f7c3cf" kindref="member">fixed_pitch_</ref>;</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Max<sp/>char<sp/>width-to-height<sp/>ratio<sp/>allowed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(set<sp/>to<sp/>segsearch_max_char_wh_ratio).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817" refid="classtesseract_1_1_language_model_1a7dfeeea5f65081a408757d18115a466c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a7dfeeea5f65081a408757d18115a466c" kindref="member">max_char_wh_ratio_</ref>;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"></highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>following<sp/>variables<sp/>are<sp/>initialized<sp/>with<sp/>InitForWord().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>String<sp/>representation<sp/>of<sp/>the<sp/>classification<sp/>of<sp/>the<sp/>previous<sp/>word</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(since<sp/>this<sp/>is<sp/>only<sp/>used<sp/>by<sp/>the<sp/>character<sp/>ngram<sp/>model<sp/>component,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>only<sp/>the<sp/>last<sp/>language_model_ngram_order<sp/>of<sp/>the<sp/>word<sp/>are<sp/>stored).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824" refid="classtesseract_1_1_language_model_1a1eeb6e0ec00c1b3bd5824423da13c408" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/><ref refid="classtesseract_1_1_language_model_1a1eeb6e0ec00c1b3bd5824423da13c408" kindref="member">prev_word_str_</ref>;</highlight></codeline>
<codeline lineno="825" refid="classtesseract_1_1_language_model_1a52a5540ea4de4f4b830dbcbb220d6bff" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a52a5540ea4de4f4b830dbcbb220d6bff" kindref="member">prev_word_unichar_step_len_</ref>;</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Active<sp/>dawg<sp/>and<sp/>constraints<sp/>vector.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="827" refid="classtesseract_1_1_language_model_1aa0c0a2d75dc7ad34d415dfd1ce4c78db" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1aa0c0a2d75dc7ad34d415dfd1ce4c78db" kindref="member">beginning_active_dawgs_</ref>;</highlight></codeline>
<codeline lineno="828" refid="classtesseract_1_1_language_model_1a999bff7a1dc40fc5d978483beabf38f0" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1a999bff7a1dc40fc5d978483beabf38f0" kindref="member">beginning_constraints_</ref>;</highlight></codeline>
<codeline lineno="829" refid="classtesseract_1_1_language_model_1a9e231341003ff9d57c7b42c9d4b8d50c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1a9e231341003ff9d57c7b42c9d4b8d50c" kindref="member">fixed_length_beginning_active_dawgs_</ref>;</highlight></codeline>
<codeline lineno="830" refid="classtesseract_1_1_language_model_1a01294a13200b648e2f76f124561da35e" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_dawg_info_vector" kindref="compound">DawgInfoVector</ref><sp/>*<ref refid="classtesseract_1_1_language_model_1a01294a13200b648e2f76f124561da35e" kindref="member">empty_dawg_info_vec_</ref>;</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Maximum<sp/>adjustment<sp/>factor<sp/>for<sp/>character<sp/>ngram<sp/>choices.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="832" refid="classtesseract_1_1_language_model_1a218fc3518d9057bb876a182328837caa" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a218fc3518d9057bb876a182328837caa" kindref="member">max_penalty_adjust_</ref>;</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>to<sp/>true<sp/>if<sp/>acceptable<sp/>choice<sp/>was<sp/>discovered.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>it<sp/>would<sp/>be<sp/>nice<sp/>to<sp/>use<sp/>this<sp/>to<sp/>terminate<sp/>the<sp/>search<sp/>once<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>acceptable<sp/>choices<sp/>is<sp/>found.<sp/>However<sp/>we<sp/>do<sp/>not<sp/>do<sp/>that<sp/>and<sp/>once<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>acceptable<sp/>choice<sp/>is<sp/>found<sp/>we<sp/>finish<sp/>looking<sp/>for<sp/>alternative<sp/>choices</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>current<sp/>segmentation<sp/>graph<sp/>and<sp/>then<sp/>exit<sp/>the<sp/>search<sp/>(no<sp/>more</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>classifications<sp/>are<sp/>done<sp/>after<sp/>an<sp/>acceptable<sp/>choice<sp/>is<sp/>found).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>needed<sp/>in<sp/>order<sp/>to<sp/>let<sp/>the<sp/>search<sp/>find<sp/>the<sp/>words<sp/>very<sp/>close<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>best<sp/>choice<sp/>in<sp/>rating<sp/>(e.g.<sp/>what/What,<sp/>Cat/cat,<sp/>etc)<sp/>and<sp/>log<sp/>these</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>choices.<sp/>This<sp/>way<sp/>the<sp/>stopper<sp/>will<sp/>know<sp/>that<sp/>the<sp/>best<sp/>choice<sp/>is<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>ambiguous<sp/>(i.e.<sp/>there<sp/>are<sp/>best<sp/>choices<sp/>in<sp/>the<sp/>best<sp/>choice<sp/>list<sp/>that<sp/>have</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>ratings<sp/>close<sp/>to<sp/>the<sp/>very<sp/>best<sp/>one)<sp/>and<sp/>will<sp/>be<sp/>less<sp/>likely<sp/>to<sp/>mis-adapt.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="844" refid="classtesseract_1_1_language_model_1aee3c5c64657d9e77db9f2645ca1d29fd" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1aee3c5c64657d9e77db9f2645ca1d29fd" kindref="member">acceptable_choice_found_</ref>;</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>to<sp/>true<sp/>if<sp/>a<sp/>choice<sp/>representing<sp/>correct<sp/>segmentation<sp/>was<sp/>explored.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="846" refid="classtesseract_1_1_language_model_1a9440f91674a19de8d91894e0c99b1dd6" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_language_model_1a9440f91674a19de8d91894e0c99b1dd6" kindref="member">correct_segmentation_explored_</ref>;</highlight></codeline>
<codeline lineno="847"><highlight class="normal"></highlight></codeline>
<codeline lineno="848"><highlight class="normal">};</highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/>//<sp/>TESSERACT_WORDREC_LANGUAGE_MODEL_H_</highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/wordrec/language_model.h"/>
  </compounddef>
</doxygen>
