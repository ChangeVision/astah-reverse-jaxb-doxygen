<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="pagesegmain_8cpp" kind="file">
    <compoundname>pagesegmain.cpp</compoundname>
    <includes local="no">unistd.h</includes>
    <includes local="yes">allheaders.h</includes>
    <includes refid="blobbox_8h" local="yes">blobbox.h</includes>
    <includes refid="blread_8h" local="yes">blread.h</includes>
    <includes refid="colfind_8h" local="yes">colfind.h</includes>
    <includes refid="equationdetect_8h" local="yes">equationdetect.h</includes>
    <includes refid="imagefind_8h" local="yes">imagefind.h</includes>
    <includes refid="img_8h" local="yes">img.h</includes>
    <includes refid="linefind_8h" local="yes">linefind.h</includes>
    <includes refid="makerow_8h" local="yes">makerow.h</includes>
    <includes refid="osdetect_8h" local="yes">osdetect.h</includes>
    <includes refid="tabvector_8h" local="yes">tabvector.h</includes>
    <includes refid="tesseractclass_8h" local="yes">tesseractclass.h</includes>
    <includes refid="tessvars_8h" local="yes">tessvars.h</includes>
    <includes refid="textord_8h" local="yes">textord.h</includes>
    <includes refid="tordmain_8h" local="yes">tordmain.h</includes>
    <includes refid="wordseg_8h" local="yes">wordseg.h</includes>
    <incdepgraph>
      <node id="2868">
        <label>matchtab.h</label>
        <link refid="matchtab_8h"/>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2806" relation="include">
        </childnode>
      </node>
      <node id="2825">
        <label>cutil_class.h</label>
        <link refid="cutil__class_8h"/>
        <childnode refid="2826" relation="include">
        </childnode>
        <childnode refid="2831" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
      </node>
      <node id="2833">
        <label>docqual.h</label>
        <link refid="docqual_8h"/>
        <childnode refid="2813" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2839">
        <label>image.h</label>
        <link refid="image_8h"/>
      </node>
      <node id="2789">
        <label>colfind.h</label>
        <link refid="colfind_8h"/>
        <childnode refid="2790" relation="include">
        </childnode>
        <childnode refid="2796" relation="include">
        </childnode>
        <childnode refid="2797" relation="include">
        </childnode>
        <childnode refid="2799" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2800" relation="include">
        </childnode>
      </node>
      <node id="2841">
        <label>wordrec.h</label>
        <link refid="wordrec_8h"/>
        <childnode refid="2842" relation="include">
        </childnode>
        <childnode refid="2845" relation="include">
        </childnode>
        <childnode refid="2855" relation="include">
        </childnode>
        <childnode refid="2866" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2843" relation="include">
        </childnode>
        <childnode refid="2868" relation="include">
        </childnode>
        <childnode refid="2867" relation="include">
        </childnode>
        <childnode refid="2869" relation="include">
        </childnode>
        <childnode refid="2821" relation="include">
        </childnode>
        <childnode refid="2844" relation="include">
        </childnode>
        <childnode refid="2870" relation="include">
        </childnode>
        <childnode refid="2872" relation="include">
        </childnode>
      </node>
      <node id="2742">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2756" relation="include">
        </childnode>
        <childnode refid="2757" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2787" relation="include">
        </childnode>
      </node>
      <node id="2844">
        <label>states.h</label>
        <link refid="states_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
      </node>
      <node id="2793">
        <label>tabvector.h</label>
        <link refid="tabvector_8h"/>
        <childnode refid="2794" relation="include">
        </childnode>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2756" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2792" relation="include">
        </childnode>
      </node>
      <node id="2815">
        <label>assert.h</label>
      </node>
      <node id="2812">
        <label>tesseractclass.h</label>
        <link refid="tesseractclass_8h"/>
        <childnode refid="2741" relation="include">
        </childnode>
        <childnode refid="2813" relation="include">
        </childnode>
        <childnode refid="2833" relation="include">
        </childnode>
        <childnode refid="2834" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2835" relation="include">
        </childnode>
        <childnode refid="2837" relation="include">
        </childnode>
        <childnode refid="2841" relation="include">
        </childnode>
      </node>
      <node id="2845">
        <label>classify.h</label>
        <link refid="classify_8h"/>
        <childnode refid="2846" relation="include">
        </childnode>
        <childnode refid="2838" relation="include">
        </childnode>
        <childnode refid="2845" relation="include">
        </childnode>
        <childnode refid="2855" relation="include">
        </childnode>
        <childnode refid="2860" relation="include">
        </childnode>
        <childnode refid="2862" relation="include">
        </childnode>
        <childnode refid="2863" relation="include">
        </childnode>
        <childnode refid="2864" relation="include">
        </childnode>
        <childnode refid="2818" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2861" relation="include">
        </childnode>
        <childnode refid="2854" relation="include">
        </childnode>
      </node>
      <node id="2762">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="2820">
        <label>rejctmap.h</label>
        <link refid="rejctmap_8h"/>
        <childnode refid="2751" relation="include">
        </childnode>
        <childnode refid="2764" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2792">
        <label>bbgrid.h</label>
        <link refid="bbgrid_8h"/>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2767" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
        <childnode refid="2741" relation="include">
        </childnode>
      </node>
      <node id="2787">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
      </node>
      <node id="2831">
        <label>const.h</label>
        <link refid="const_8h"/>
      </node>
      <node id="2834">
        <label>devanagari_processing.h</label>
        <link refid="devanagari__processing_8h"/>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
      </node>
      <node id="2749">
        <label>stdlib.h</label>
      </node>
      <node id="2746">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="2747" relation="include">
        </childnode>
      </node>
      <node id="2853">
        <label>bitvec.h</label>
        <link refid="bitvec_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2869">
        <label>gradechop.h</label>
        <link refid="gradechop_8h"/>
        <childnode refid="2821" relation="include">
        </childnode>
        <childnode refid="2762" relation="include">
        </childnode>
      </node>
      <node id="2835">
        <label>ocrclass.h</label>
        <link refid="ocrclass_8h"/>
        <childnode refid="2836" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2765">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="2753" relation="include">
        </childnode>
      </node>
      <node id="2826">
        <label>ccutil.h</label>
        <link refid="ccutil_8h"/>
        <childnode refid="2827" relation="include">
        </childnode>
        <childnode refid="2753" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2828" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
        <childnode refid="2829" relation="include">
        </childnode>
        <childnode refid="2830" relation="include">
        </childnode>
      </node>
      <node id="2741">
        <label>allheaders.h</label>
      </node>
      <node id="2775">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
      </node>
      <node id="2875">
        <label>wordseg.h</label>
        <link refid="wordseg_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
        <childnode refid="2837" relation="include">
        </childnode>
      </node>
      <node id="2748">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="2749" relation="include">
        </childnode>
        <childnode refid="2750" relation="include">
        </childnode>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2751" relation="include">
        </childnode>
        <childnode refid="2753" relation="include">
        </childnode>
        <childnode refid="2754" relation="include">
        </childnode>
      </node>
      <node id="2832">
        <label>tessarray.h</label>
        <link refid="tessarray_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
      </node>
      <node id="2743">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2748" relation="include">
        </childnode>
        <childnode refid="2755" relation="include">
        </childnode>
      </node>
      <node id="2788">
        <label>blread.h</label>
        <link refid="blread_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
      </node>
      <node id="2851">
        <label>baseline.h</label>
        <link refid="baseline_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
      </node>
      <node id="2838">
        <label>ccstruct.h</label>
        <link refid="ccstruct_8h"/>
        <childnode refid="2824" relation="include">
        </childnode>
        <childnode refid="2839" relation="include">
        </childnode>
      </node>
      <node id="2766">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="2767" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
      </node>
      <node id="2858">
        <label>trie.h</label>
        <link refid="trie_8h"/>
        <childnode refid="2856" relation="include">
        </childnode>
        <childnode refid="2824" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
      </node>
      <node id="2802">
        <label>equationdetectbase.h</label>
        <link refid="equationdetectbase_8h"/>
      </node>
      <node id="2814">
        <label>ratngs.h</label>
        <link refid="ratngs_8h"/>
        <childnode refid="2815" relation="include">
        </childnode>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
        <childnode refid="2757" relation="include">
        </childnode>
      </node>
      <node id="2752">
        <label>stddef.h</label>
      </node>
      <node id="2804">
        <label>memory.h</label>
      </node>
      <node id="2865">
        <label>cutoffs.h</label>
        <link refid="cutoffs_8h"/>
        <childnode refid="2848" relation="include">
        </childnode>
      </node>
      <node id="2850">
        <label>fpoint.h</label>
        <link refid="fpoint_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2770" relation="include">
        </childnode>
      </node>
      <node id="2872">
        <label>callcpp.h</label>
        <link refid="callcpp_8h"/>
        <childnode refid="2815" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2753">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2848">
        <label>matchdefs.h</label>
        <link refid="matchdefs_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2785">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="2783" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2769" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
        <childnode refid="2786" relation="include">
        </childnode>
      </node>
      <node id="2809">
        <label>osdetect.h</label>
        <link refid="osdetect_8h"/>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
      </node>
      <node id="2747">
        <label>limits.h</label>
      </node>
      <node id="2871">
        <label>chop.h</label>
        <link refid="chop_8h"/>
        <childnode refid="2867" relation="include">
        </childnode>
        <childnode refid="2821" relation="include">
        </childnode>
      </node>
      <node id="2863">
        <label>intfx.h</label>
        <link refid="intfx_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2847" relation="include">
        </childnode>
        <childnode refid="2818" relation="include">
        </childnode>
        <childnode refid="2770" relation="include">
        </childnode>
      </node>
      <node id="2842">
        <label>associate.h</label>
        <link refid="associate_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2843" relation="include">
        </childnode>
        <childnode refid="2821" relation="include">
        </childnode>
        <childnode refid="2822" relation="include">
        </childnode>
        <childnode refid="2844" relation="include">
        </childnode>
      </node>
      <node id="2739">
        <label>ccmain/pagesegmain.cpp</label>
        <link refid="pagesegmain.cpp"/>
        <childnode refid="2740" relation="include">
        </childnode>
        <childnode refid="2741" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2788" relation="include">
        </childnode>
        <childnode refid="2789" relation="include">
        </childnode>
        <childnode refid="2801" relation="include">
        </childnode>
        <childnode refid="2796" relation="include">
        </childnode>
        <childnode refid="2781" relation="include">
        </childnode>
        <childnode refid="2795" relation="include">
        </childnode>
        <childnode refid="2805" relation="include">
        </childnode>
        <childnode refid="2809" relation="include">
        </childnode>
        <childnode refid="2793" relation="include">
        </childnode>
        <childnode refid="2812" relation="include">
        </childnode>
        <childnode refid="2873" relation="include">
        </childnode>
        <childnode refid="2837" relation="include">
        </childnode>
        <childnode refid="2874" relation="include">
        </childnode>
        <childnode refid="2875" relation="include">
        </childnode>
      </node>
      <node id="2819">
        <label>params_training_featdef.h</label>
        <link refid="params__training__featdef_8h"/>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
      </node>
      <node id="2805">
        <label>makerow.h</label>
        <link refid="makerow_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2787" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2855">
        <label>dict.h</label>
        <link refid="dict_8h"/>
        <childnode refid="2827" relation="include">
        </childnode>
        <childnode refid="2856" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2839" relation="include">
        </childnode>
        <childnode refid="2823" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2857" relation="include">
        </childnode>
        <childnode refid="2858" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
        <childnode refid="2859" relation="include">
        </childnode>
      </node>
      <node id="2801">
        <label>equationdetect.h</label>
        <link refid="equationdetect_8h"/>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2802" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2791">
        <label>alignedblob.h</label>
        <link refid="alignedblob_8h"/>
        <childnode refid="2792" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2793" relation="include">
        </childnode>
      </node>
      <node id="2772">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="2770" relation="include">
        </childnode>
      </node>
      <node id="2773">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="2769" relation="include">
        </childnode>
      </node>
      <node id="2756">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2748" relation="include">
        </childnode>
        <childnode refid="2755" relation="include">
        </childnode>
      </node>
      <node id="2829">
        <label>pthread.h</label>
      </node>
      <node id="2750">
        <label>string.h</label>
      </node>
      <node id="2811">
        <label>unicharmap.h</label>
        <link refid="unicharmap_8h"/>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2800">
        <label>textlineprojection.h</label>
        <link refid="textlineprojection_8h"/>
        <childnode refid="2794" relation="include">
        </childnode>
      </node>
      <node id="2817">
        <label>boxword.h</label>
        <link refid="boxword_8h"/>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
      </node>
      <node id="2803">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="2804" relation="include">
        </childnode>
        <childnode refid="2750" relation="include">
        </childnode>
      </node>
      <node id="2824">
        <label>cutil.h</label>
        <link refid="cutil_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2750" relation="include">
        </childnode>
        <childnode refid="2749" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2776" relation="include">
        </childnode>
        <childnode refid="2825" relation="include">
        </childnode>
      </node>
      <node id="2870">
        <label>findseam.h</label>
        <link refid="findseam_8h"/>
        <childnode refid="2821" relation="include">
        </childnode>
        <childnode refid="2867" relation="include">
        </childnode>
        <childnode refid="2871" relation="include">
        </childnode>
      </node>
      <node id="2774">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="2770" relation="include">
        </childnode>
        <childnode refid="2769" relation="include">
        </childnode>
        <childnode refid="2762" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
        <childnode refid="2776" relation="include">
        </childnode>
      </node>
      <node id="2740">
        <label>unistd.h</label>
      </node>
      <node id="2764">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2795">
        <label>linefind.h</label>
        <link refid="linefind_8h"/>
      </node>
      <node id="2873">
        <label>tessvars.h</label>
        <link refid="tessvars_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2781" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2760">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2830">
        <label>semaphore.h</label>
      </node>
      <node id="2797">
        <label>colpartitiongrid.h</label>
        <link refid="colpartitiongrid_8h"/>
        <childnode refid="2792" relation="include">
        </childnode>
        <childnode refid="2798" relation="include">
        </childnode>
        <childnode refid="2799" relation="include">
        </childnode>
      </node>
      <node id="2767">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="2768" relation="include">
        </childnode>
        <childnode refid="2773" relation="include">
        </childnode>
        <childnode refid="2764" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2765" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
      </node>
      <node id="2757">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2764" relation="include">
        </childnode>
        <childnode refid="2756" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2765" relation="include">
        </childnode>
        <childnode refid="2766" relation="include">
        </childnode>
        <childnode refid="2777" relation="include">
        </childnode>
      </node>
      <node id="2777">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2778" relation="include">
        </childnode>
        <childnode refid="2757" relation="include">
        </childnode>
      </node>
      <node id="2754">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="2753" relation="include">
        </childnode>
      </node>
      <node id="2849">
        <label>mfoutline.h</label>
        <link refid="mfoutline_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2823" relation="include">
        </childnode>
        <childnode refid="2850" relation="include">
        </childnode>
        <childnode refid="2851" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
      </node>
      <node id="2827">
        <label>ambigs.h</label>
        <link refid="ambigs_8h"/>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2776" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
      </node>
      <node id="2854">
        <label>unicity_table.h</label>
        <link refid="unicity__table_8h"/>
        <childnode refid="2760" relation="include">
        </childnode>
        <childnode refid="2753" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
      </node>
      <node id="2790">
        <label>tabfind.h</label>
        <link refid="tabfind_8h"/>
        <childnode refid="2791" relation="include">
        </childnode>
        <childnode refid="2760" relation="include">
        </childnode>
        <childnode refid="2793" relation="include">
        </childnode>
        <childnode refid="2795" relation="include">
        </childnode>
      </node>
      <node id="2836">
        <label>time.h</label>
      </node>
      <node id="2770">
        <label>math.h</label>
      </node>
      <node id="2768">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="2769" relation="include">
        </childnode>
        <childnode refid="2773" relation="include">
        </childnode>
      </node>
      <node id="2822">
        <label>split.h</label>
        <link refid="split_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2823" relation="include">
        </childnode>
      </node>
      <node id="2755">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="2753" relation="include">
        </childnode>
      </node>
      <node id="2874">
        <label>tordmain.h</label>
        <link refid="tordmain_8h"/>
        <childnode refid="2836" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2779">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="2769" relation="include">
        </childnode>
      </node>
      <node id="2807">
        <label>vecfuncs.h</label>
        <link refid="vecfuncs_8h"/>
        <childnode refid="2770" relation="include">
        </childnode>
        <childnode refid="2806" relation="include">
        </childnode>
      </node>
      <node id="2783">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="2823">
        <label>oldlist.h</label>
        <link refid="oldlist_8h"/>
        <childnode refid="2824" relation="include">
        </childnode>
        <childnode refid="2760" relation="include">
        </childnode>
      </node>
      <node id="2861">
        <label>ocrfeatures.h</label>
        <link refid="ocrfeatures_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2744" relation="include">
        </childnode>
      </node>
      <node id="2840">
        <label>gap_map.h</label>
        <link refid="gap__map_8h"/>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2780">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="2781" relation="include">
        </childnode>
        <childnode refid="2782" relation="include">
        </childnode>
        <childnode refid="2777" relation="include">
        </childnode>
        <childnode refid="2784" relation="include">
        </childnode>
      </node>
      <node id="2758">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
      </node>
      <node id="2759">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2749" relation="include">
        </childnode>
        <childnode refid="2760" relation="include">
        </childnode>
        <childnode refid="2753" relation="include">
        </childnode>
        <childnode refid="2761" relation="include">
        </childnode>
        <childnode refid="2762" relation="include">
        </childnode>
      </node>
      <node id="2857">
        <label>stopper.h</label>
        <link refid="stopper_8h"/>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2844" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2751">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="2752" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2837">
        <label>textord.h</label>
        <link refid="textord_8h"/>
        <childnode refid="2838" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2840" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
        <childnode refid="2783" relation="include">
        </childnode>
      </node>
      <node id="2852">
        <label>protos.h</label>
        <link refid="protos_8h"/>
        <childnode refid="2853" relation="include">
        </childnode>
        <childnode refid="2824" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
        <childnode refid="2854" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
      </node>
      <node id="2816">
        <label>pageres.h</label>
        <link refid="pageres_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2817" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2818" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2777" relation="include">
        </childnode>
        <childnode refid="2819" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2820" relation="include">
        </childnode>
        <childnode refid="2821" relation="include">
        </childnode>
        <childnode refid="2757" relation="include">
        </childnode>
      </node>
      <node id="2866">
        <label>language_model.h</label>
        <link refid="language__model_8h"/>
        <childnode refid="2842" relation="include">
        </childnode>
        <childnode refid="2856" relation="include">
        </childnode>
        <childnode refid="2855" relation="include">
        </childnode>
        <childnode refid="2862" relation="include">
        </childnode>
        <childnode refid="2847" relation="include">
        </childnode>
        <childnode refid="2843" relation="include">
        </childnode>
        <childnode refid="2867" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2816" relation="include">
        </childnode>
      </node>
      <node id="2860">
        <label>featdefs.h</label>
        <link refid="featdefs_8h"/>
        <childnode refid="2861" relation="include">
        </childnode>
      </node>
      <node id="2794">
        <label>blobgrid.h</label>
        <link refid="blobgrid_8h"/>
        <childnode refid="2792" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
      </node>
      <node id="2782">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="2783" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
      </node>
      <node id="2771">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2748" relation="include">
        </childnode>
        <childnode refid="2755" relation="include">
        </childnode>
      </node>
      <node id="2810">
        <label>unicharset.h</label>
        <link refid="unicharset_8h"/>
        <childnode refid="2753" relation="include">
        </childnode>
        <childnode refid="2761" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2760" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
        <childnode refid="2811" relation="include">
        </childnode>
      </node>
      <node id="2821">
        <label>seam.h</label>
        <link refid="seam_8h"/>
        <childnode refid="2806" relation="include">
        </childnode>
        <childnode refid="2822" relation="include">
        </childnode>
        <childnode refid="2832" relation="include">
        </childnode>
      </node>
      <node id="2813">
        <label>control.h</label>
        <link refid="control_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2787" relation="include">
        </childnode>
        <childnode refid="2816" relation="include">
        </childnode>
        <childnode refid="2808" relation="include">
        </childnode>
      </node>
      <node id="2798">
        <label>colpartition.h</label>
        <link refid="colpartition_8h"/>
        <childnode refid="2792" relation="include">
        </childnode>
        <childnode refid="2742" relation="include">
        </childnode>
        <childnode refid="2762" relation="include">
        </childnode>
        <childnode refid="2780" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
        <childnode refid="2790" relation="include">
        </childnode>
        <childnode refid="2793" relation="include">
        </childnode>
      </node>
      <node id="2796">
        <label>imagefind.h</label>
        <link refid="imagefind_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2867">
        <label>oldheap.h</label>
        <link refid="oldheap_8h"/>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2824" relation="include">
        </childnode>
      </node>
      <node id="2856">
        <label>dawg.h</label>
        <link refid="dawg_8h"/>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2760" relation="include">
        </childnode>
      </node>
      <node id="2862">
        <label>fontinfo.h</label>
        <link refid="fontinfo_8h"/>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2803" relation="include">
        </childnode>
      </node>
      <node id="2769">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2770" relation="include">
        </childnode>
        <childnode refid="2771" relation="include">
        </childnode>
        <childnode refid="2772" relation="include">
        </childnode>
      </node>
      <node id="2846">
        <label>adaptive.h</label>
        <link refid="adaptive_8h"/>
        <childnode refid="2823" relation="include">
        </childnode>
        <childnode refid="2847" relation="include">
        </childnode>
        <childnode refid="2744" relation="include">
        </childnode>
      </node>
      <node id="2808">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="2781">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="2751" relation="include">
        </childnode>
      </node>
      <node id="2776">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
      </node>
      <node id="2864">
        <label>intmatcher.h</label>
        <link refid="intmatcher_8h"/>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2847" relation="include">
        </childnode>
        <childnode refid="2865" relation="include">
        </childnode>
      </node>
      <node id="2786">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="2745">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="2746" relation="include">
        </childnode>
      </node>
      <node id="2784">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2781" relation="include">
        </childnode>
        <childnode refid="2763" relation="include">
        </childnode>
        <childnode refid="2785" relation="include">
        </childnode>
        <childnode refid="2786" relation="include">
        </childnode>
      </node>
      <node id="2799">
        <label>colpartitionset.h</label>
        <link refid="colpartitionset_8h"/>
        <childnode refid="2798" relation="include">
        </childnode>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2793" relation="include">
        </childnode>
      </node>
      <node id="2744">
        <label>stdio.h</label>
      </node>
      <node id="2843">
        <label>matrix.h</label>
        <link refid="matrix_8h"/>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
      </node>
      <node id="2847">
        <label>intproto.h</label>
        <link refid="intproto_8h"/>
        <childnode refid="2759" relation="include">
        </childnode>
        <childnode refid="2848" relation="include">
        </childnode>
        <childnode refid="2849" relation="include">
        </childnode>
        <childnode refid="2852" relation="include">
        </childnode>
        <childnode refid="2775" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
      </node>
      <node id="2828">
        <label>tessdatamanager.h</label>
        <link refid="tessdatamanager_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
        <childnode refid="2776" relation="include">
        </childnode>
      </node>
      <node id="2818">
        <label>normalis.h</label>
        <link refid="normalis_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2745" relation="include">
        </childnode>
      </node>
      <node id="2763">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2750" relation="include">
        </childnode>
        <childnode refid="2746" relation="include">
        </childnode>
        <childnode refid="2751" relation="include">
        </childnode>
      </node>
      <node id="2806">
        <label>blobs.h</label>
        <link refid="blobs_8h"/>
        <childnode refid="2743" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
        <childnode refid="2807" relation="include">
        </childnode>
      </node>
      <node id="2761">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="2744" relation="include">
        </childnode>
        <childnode refid="2750" relation="include">
        </childnode>
      </node>
      <node id="2859">
        <label>permute.h</label>
        <link refid="permute_8h"/>
        <childnode refid="2814" relation="include">
        </childnode>
        <childnode refid="2758" relation="include">
        </childnode>
        <childnode refid="2810" relation="include">
        </childnode>
      </node>
      <node id="2778">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="2779" relation="include">
        </childnode>
        <childnode refid="2748" relation="include">
        </childnode>
        <childnode refid="2751" relation="include">
        </childnode>
        <childnode refid="2774" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pagesegmain.cpp</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Description:<sp/>Top-level<sp/>page<sp/>segmenter<sp/>for<sp/>Tesseract.</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Ray<sp/>Smith</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Thu<sp/>Sep<sp/>25<sp/>17:12:01<sp/>PDT<sp/>2008</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>(C)<sp/>Copyright<sp/>2008,<sp/>Google<sp/>Inc.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>**<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>**<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>**<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>**<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>**<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="21"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#ifndef<sp/>__GNUC__</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/></highlight><highlight class="comment">/*<sp/>__GNUC__<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="24"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;unistd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="27"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight></codeline>
<codeline lineno="28"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>warning(disable:4244)<sp/><sp/>//<sp/>Conversion<sp/>warnings</highlight></codeline>
<codeline lineno="29"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="30"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Include<sp/>automatically<sp/>generated<sp/>configuration<sp/>file<sp/>if<sp/>running<sp/>autoconf.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight></codeline>
<codeline lineno="33"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;config_auto.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="35"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;allheaders.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="blobbox_8h" kindref="compound">blobbox.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="blread_8h" kindref="compound">blread.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="colfind_8h" kindref="compound">colfind.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="equationdetect_8h" kindref="compound">equationdetect.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="imagefind_8h" kindref="compound">imagefind.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="img_8h" kindref="compound">img.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="linefind_8h" kindref="compound">linefind.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="makerow_8h" kindref="compound">makerow.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="osdetect_8h" kindref="compound">osdetect.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tabvector_8h" kindref="compound">tabvector.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tesseractclass_8h" kindref="compound">tesseractclass.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tessvars_8h" kindref="compound">tessvars.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="textord_8h" kindref="compound">textord.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tordmain_8h" kindref="compound">tordmain.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="wordseg_8h" kindref="compound">wordseg.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1af670abba9a6fc5f36a04b8650e53d1b7" kindref="member" tooltip="Minimum believable resolution. ">kMinCredibleResolution</ref><sp/>=<sp/>70;</highlight></codeline>
<codeline lineno="58"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a406162a590788c2b370a74745eb376f1" kindref="member" tooltip="Default resolution used if input in not believable. ">kDefaultResolution</ref><sp/>=<sp/>300;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Max<sp/>erosions<sp/>to<sp/>perform<sp/>in<sp/>removing<sp/>an<sp/>enclosing<sp/>circle.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1ac7c9e75ad6da750ae79b8dff6c8f30cd" kindref="member">kMaxCircleErosions</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Helper<sp/>to<sp/>remove<sp/>an<sp/>enclosing<sp/>circle<sp/>from<sp/>an<sp/>image.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>isn&apos;t<sp/>one,<sp/>then<sp/>the<sp/>image<sp/>will<sp/>most<sp/>likely<sp/>get<sp/>badly<sp/>mangled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>returned<sp/>pix<sp/>must<sp/>be<sp/>pixDestroyed<sp/>after<sp/>use.<sp/>NULL<sp/>may<sp/>be<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>image<sp/>doesn&apos;t<sp/>meet<sp/>the<sp/>trivial<sp/>conditions<sp/>that<sp/>it<sp/>uses<sp/>to<sp/>determine</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="comment">//<sp/>success.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>Pix*<sp/>RemoveEnclosingCircle(Pix*<sp/>pixs)<sp/>{</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/>Pix*<sp/>pixsi<sp/>=<sp/>pixInvert(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>pixs);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/>Pix*<sp/>pixc<sp/>=<sp/>pixCreateTemplate(pixs);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/>pixSetOrClearBorder(pixc,<sp/>1,<sp/>1,<sp/>1,<sp/>1,<sp/>PIX_SET);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>pixSeedfillBinary(pixc,<sp/>pixc,<sp/>pixsi,<sp/>4);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/>pixInvert(pixc,<sp/>pixc);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;pixsi);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/>Pix*<sp/>pixt<sp/>=<sp/>pixAnd(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>pixs,<sp/>pixc);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/>l_int32<sp/>max_count;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/>pixCountConnComp(pixt,<sp/>8,<sp/>&amp;max_count);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>count<sp/>has<sp/>to<sp/>go<sp/>up<sp/>before<sp/>we<sp/>start<sp/>looking<sp/>for<sp/>the<sp/>minimum.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/>l_int32<sp/>min_count<sp/>=<sp/><ref refid="host_8h_1aac62d87844689a18b6f5339a89ed6e7f" kindref="member">MAX_INT32</ref>;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/>Pix*<sp/>pixout<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>1;<sp/>i<sp/>&lt;<sp/><ref refid="namespacetesseract_1ac7c9e75ad6da750ae79b8dff6c8f30cd" kindref="member">kMaxCircleErosions</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>pixDestroy(&amp;pixt);</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>pixErodeBrick(pixc,<sp/>pixc,<sp/>3,<sp/>3);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>pixt<sp/>=<sp/>pixAnd(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>pixs,<sp/>pixc);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>l_int32<sp/><ref refid="oldlist_8cpp_1acd4ea858d7133e40518e0832ff9d94b2" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>pixCountConnComp(pixt,<sp/>8,<sp/>&amp;count);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>==<sp/>1<sp/>||<sp/>count<sp/>&gt;<sp/>max_count)<sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>max_count<sp/>=<sp/><ref refid="oldlist_8cpp_1acd4ea858d7133e40518e0832ff9d94b2" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>min_count<sp/>=<sp/><ref refid="oldlist_8cpp_1acd4ea858d7133e40518e0832ff9d94b2" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>&gt;<sp/>1<sp/>&amp;&amp;<sp/>count<sp/>&lt;<sp/>min_count)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>min_count<sp/>=<sp/><ref refid="oldlist_8cpp_1acd4ea858d7133e40518e0832ff9d94b2" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixDestroy(&amp;pixout);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixout<sp/>=<sp/>pixCopy(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>pixt);<sp/><sp/></highlight><highlight class="comment">//<sp/>Save<sp/>the<sp/>best.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count<sp/>&gt;=<sp/>min_count)<sp/>{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>have<sp/>passed<sp/>by<sp/>the<sp/>best.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;pixt);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;pixc);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pixout;</highlight></codeline>
<codeline lineno="100"><highlight class="normal">}</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract_1a2f72a5b81529df216d9422ff92ab2762" kindref="member">Tesseract::SegmentPage</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>*<sp/>input_file,<sp/>BLOCK_LIST*<sp/>blocks,</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tesseract*<sp/>osd_tess,<sp/><ref refid="struct_o_s_results" kindref="compound">OSResults</ref>*<sp/>osr)<sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(pix_binary_<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width<sp/>=<sp/>pixGetWidth(pix_binary_);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height<sp/>=<sp/>pixGetHeight(pix_binary_);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>page<sp/>segmentation<sp/>mode.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/>pageseg_mode<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(tessedit_pageseg_mode));</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>a<sp/>UNLV<sp/>zone<sp/>file<sp/>can<sp/>be<sp/>found,<sp/>use<sp/>that<sp/>instead<sp/>of<sp/>segmentation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="publictypes_8h_1acdfaf983e9b264a248ba758043508b88" kindref="member">PSM_COL_FIND_ENABLED</ref>(pageseg_mode)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>input_file<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>input_file-&gt;<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>()<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>name<sp/>=<sp/>*input_file;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>lastdot<sp/>=<sp/>strrchr(name.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/></highlight><highlight class="charliteral">&apos;.&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lastdot<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>name[lastdot<sp/>-<sp/>name.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>()]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="blread_8cpp_1ab65373023a95c3043ea26b7906e29907" kindref="member">read_unlv_file</ref>(name,<sp/>width,<sp/>height,<sp/>blocks);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blocks-&gt;empty())<sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>UNLV<sp/>file<sp/>present.<sp/>Work<sp/>according<sp/>to<sp/>the<sp/>PageSegMode.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>First<sp/>make<sp/>a<sp/>single<sp/>block<sp/>covering<sp/>the<sp/>whole<sp/>image.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>BLOCK_IT<sp/>block_it(blocks);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_c_k" kindref="compound">BLOCK</ref>*<sp/>block<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_b_l_o_c_k" kindref="compound">BLOCK</ref>(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>width,<sp/>height);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>block-&gt;<ref refid="class_b_l_o_c_k_1ac7c7e1c504a24275c04b27366f94618e" kindref="member">set_right_to_left</ref>(<ref refid="classtesseract_1_1_tesseract_1a2d893d79d496b80056c254eb022d5717" kindref="member">right_to_left</ref>());</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>block_it.add_to_end(block);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>UNLV<sp/>file<sp/>present.<sp/>Use<sp/>PSM_SINGLE_BLOCK.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>pageseg_mode<sp/>=<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aab76fe3ca390d99e070ea60b892ee18ef" kindref="member" tooltip="Assume a single uniform block of text. (Default.) ">PSM_SINGLE_BLOCK</ref>;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>auto_page_seg_ret_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/>TO_BLOCK_LIST<sp/>to_blocks;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="publictypes_8h_1a3995a2a4ca67e595f22d7d540b03504b" kindref="member">PSM_OSD_ENABLED</ref>(pageseg_mode)<sp/>||<sp/><ref refid="publictypes_8h_1ad3893db72a9946cde530197469bb6220" kindref="member">PSM_BLOCK_FIND_ENABLED</ref>(pageseg_mode)<sp/>||</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="publictypes_8h_1a3040b5473ea4c79ff3feab8e9588b21f" kindref="member">PSM_SPARSE</ref>(pageseg_mode))<sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>auto_page_seg_ret_val<sp/>=</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tesseract_1a58b2445de216176a91b1ee2cc3d5cc5f" kindref="member">AutoPageSeg</ref>(pageseg_mode,<sp/>blocks,<sp/>&amp;to_blocks,<sp/>osd_tess,<sp/>osr);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pageseg_mode<sp/>==<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aa319d6168eaa4b2002ac84c0558ba947d" kindref="member" tooltip="Orientation and script detection only. ">PSM_OSD_ONLY</ref>)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>auto_page_seg_ret_val;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>create<sp/>blobs<sp/>from<sp/>the<sp/>image<sp/>region<sp/>bounds<sp/>uncomment<sp/>this<sp/>line:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>to_blocks.clear();<sp/><sp/>//<sp/>Uncomment<sp/>to<sp/>go<sp/>back<sp/>to<sp/>the<sp/>old<sp/>mode.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>deskew_<sp/>=<sp/><ref refid="class_f_c_o_o_r_d" kindref="compound">FCOORD</ref>(1.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>,<sp/>0.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>reskew_<sp/>=<sp/><ref refid="class_f_c_o_o_r_d" kindref="compound">FCOORD</ref>(1.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>,<sp/>0.0<ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pageseg_mode<sp/>==<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aa2c473f99b506306a04efeb199444217e" kindref="member" tooltip="Treat the image as a single word in a circle. ">PSM_CIRCLE_WORD</ref>)<sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Pix*<sp/>pixcleaned<sp/>=<sp/>RemoveEnclosingCircle(pix_binary_);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pixcleaned<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixDestroy(&amp;pix_binary_);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pix_binary_<sp/>=<sp/>pixcleaned;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(auto_page_seg_ret_val<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blocks-&gt;empty())<sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textord_debug_tabfind)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Empty<sp/>page\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/><sp/></highlight><highlight class="comment">//<sp/>AutoPageSeg<sp/>found<sp/>an<sp/>empty<sp/>page.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>textord_.<ref refid="classtesseract_1_1_textord_1a640828031af476306b7b506fc8264444" kindref="member">TextordPage</ref>(pageseg_mode,<sp/>width,<sp/>height,<sp/>pix_binary_,</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blocks,<sp/>&amp;to_blocks);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>auto_page_seg_ret_val;</highlight></codeline>
<codeline lineno="170"><highlight class="normal">}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Helper<sp/>writes<sp/>a<sp/>grey<sp/>image<sp/>to<sp/>a<sp/>file<sp/>for<sp/>use<sp/>by<sp/>scrollviewer.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Normally<sp/>for<sp/>speed<sp/>we<sp/>don&apos;t<sp/>display<sp/>the<sp/>image<sp/>in<sp/>the<sp/>layout<sp/>debug<sp/>windows.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>textord_debug_images<sp/>is<sp/>true,<sp/>we<sp/>draw<sp/>the<sp/>image<sp/>as<sp/>a<sp/>background<sp/>to<sp/>some</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="comment">//<sp/>of<sp/>the<sp/>debug<sp/>windows.<sp/>printable<sp/>determines<sp/>whether<sp/>these</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">//<sp/>images<sp/>are<sp/>optimized<sp/>for<sp/>printing<sp/>instead<sp/>of<sp/>screen<sp/>display.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>WriteDebugBackgroundImage(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>printable,<sp/>Pix*<sp/>pix_binary)<sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/>Pix*<sp/>grey_pix<sp/>=<sp/>pixCreate(pixGetWidth(pix_binary),</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixGetHeight(pix_binary),<sp/>8);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Printable<sp/>images<sp/>are<sp/>light<sp/>grey<sp/>on<sp/>white,<sp/>but<sp/>for<sp/>screen<sp/>display</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>they<sp/>are<sp/>black<sp/>on<sp/>dark<sp/>grey<sp/>so<sp/>the<sp/>other<sp/>colors<sp/>show<sp/>up<sp/>well.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(printable)<sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>pixSetAll(grey_pix);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>pixSetMasked(grey_pix,<sp/>pix_binary,<sp/>192);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>pixSetAllArbitrary(grey_pix,<sp/>64);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>pixSetMasked(grey_pix,<sp/>pix_binary,<sp/>0);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_aligned_blob_1a08f8b8760c2809ce385cfded3d9cabb6" kindref="member">AlignedBlob::IncrementDebugPix</ref>();</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/>pixWrite(<ref refid="classtesseract_1_1_aligned_blob_1a03ba43124d00badef61e1da6b06ffc2a" kindref="member">AlignedBlob::textord_debug_pix</ref>().</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(),<sp/>grey_pix,<sp/>IFF_PNG);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;grey_pix);</highlight></codeline>
<codeline lineno="192"><highlight class="normal">}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract_1a58b2445de216176a91b1ee2cc3d5cc5f" kindref="member">Tesseract::AutoPageSeg</ref>(<ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/>pageseg_mode,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BLOCK_LIST*<sp/>blocks,<sp/>TO_BLOCK_LIST*<sp/>to_blocks,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tesseract*<sp/>osd_tess,<sp/><ref refid="struct_o_s_results" kindref="compound">OSResults</ref>*<sp/>osr)<sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textord_debug_images)<sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>WriteDebugBackgroundImage(textord_debug_printable,<sp/>pix_binary_);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/>Pix*<sp/>photomask_pix<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/>Pix*<sp/>musicmask_pix<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>blocks<sp/>made<sp/>by<sp/>the<sp/>ColumnFinder.<sp/>Moved<sp/>to<sp/>blocks<sp/>before<sp/>return.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/>BLOCK_LIST<sp/>found_blocks;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/>TO_BLOCK_LIST<sp/>temp_blocks;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>single_column<sp/>=<sp/>!<ref refid="publictypes_8h_1acdfaf983e9b264a248ba758043508b88" kindref="member">PSM_COL_FIND_ENABLED</ref>(pageseg_mode);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>osd_enabled<sp/>=<sp/><ref refid="publictypes_8h_1a3995a2a4ca67e595f22d7d540b03504b" kindref="member">PSM_OSD_ENABLED</ref>(pageseg_mode);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>osd_only<sp/>=<sp/>pageseg_mode<sp/>==<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aa319d6168eaa4b2002ac84c0558ba947d" kindref="member" tooltip="Orientation and script detection only. ">PSM_OSD_ONLY</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/>ColumnFinder*<sp/>finder<sp/>=<sp/><ref refid="classtesseract_1_1_tesseract_1a5b8716efd7225bffd61fe5b51df15108" kindref="member">SetupPageSegAndDetectOrientation</ref>(</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>single_column,<sp/>osd_enabled,<sp/>osd_only,<sp/>blocks,<sp/>osd_tess,<sp/>osr,</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&amp;temp_blocks,<sp/>&amp;photomask_pix,<sp/>&amp;musicmask_pix);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(finder<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>TO_BLOCK_IT<sp/>to_block_it(&amp;temp_blocks);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_t_o___b_l_o_c_k" kindref="compound">TO_BLOCK</ref>*<sp/>to_block<sp/>=<sp/>to_block_it.data();</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(musicmask_pix<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO(rays)<sp/>pass<sp/>the<sp/>musicmask_pix<sp/>into<sp/>FindBlocks<sp/>and<sp/>mark<sp/>music</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>blocks<sp/>separately.<sp/>For<sp/>now<sp/>combine<sp/>with<sp/>photomask_pix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixOr(photomask_pix,<sp/>photomask_pix,<sp/>musicmask_pix);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(equ_detect_)<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>finder-&gt;SetEquationDetect(equ_detect_);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>finder-&gt;FindBlocks(pageseg_mode,<sp/>scaled_color_,<sp/>scaled_factor_,</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_block,<sp/>photomask_pix,</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;found_blocks,<sp/>to_blocks);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>finder-&gt;GetDeskewVectors(&amp;deskew_,<sp/>&amp;reskew_);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>finder;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;photomask_pix);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/>pixDestroy(&amp;musicmask_pix);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>&lt;<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/>blocks-&gt;clear();</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/>BLOCK_IT<sp/>block_it(blocks);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>the<sp/>found<sp/>blocks<sp/>to<sp/>the<sp/>input/output<sp/>blocks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/>block_it.add_list_after(&amp;found_blocks);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textord_debug_images)<sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>debug<sp/>image<sp/>is<sp/>no<sp/>longer<sp/>needed<sp/>so<sp/>delete<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>unlink(<ref refid="classtesseract_1_1_aligned_blob_1a03ba43124d00badef61e1da6b06ffc2a" kindref="member">AlignedBlob::textord_debug_pix</ref>().</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">());</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="265"><highlight class="normal">}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal">ColumnFinder*<sp/><ref refid="classtesseract_1_1_tesseract_1a5b8716efd7225bffd61fe5b51df15108" kindref="member">Tesseract::SetupPageSegAndDetectOrientation</ref>(</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>single_column,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>osd,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>only_osd,</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>BLOCK_LIST*<sp/>blocks,<sp/>Tesseract*<sp/>osd_tess,<sp/><ref refid="struct_o_s_results" kindref="compound">OSResults</ref>*<sp/>osr,</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>TO_BLOCK_LIST*<sp/>to_blocks,<sp/>Pix**<sp/>photo_mask_pix,<sp/>Pix**<sp/>music_mask_pix)<sp/>{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_x<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertical_y<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/>TabVector_LIST<sp/>v_lines;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/>TabVector_LIST<sp/>h_lines;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><ref refid="class_i_c_o_o_r_d" kindref="compound" tooltip="integer coordinate ">ICOORD</ref><sp/>bleft(0,<sp/>0);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(pix_binary_<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tessedit_dump_pageseg_images)<sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>pixWrite(</highlight><highlight class="stringliteral">&quot;tessinput.png&quot;</highlight><highlight class="normal">,<sp/>pix_binary_,<sp/>IFF_PNG);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Leptonica<sp/>is<sp/>used<sp/>to<sp/>find<sp/>the<sp/>rule/separator<sp/>lines<sp/>in<sp/>the<sp/>input.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_line_finder_1a3a72521c00cb7725b2282b7b3cc6e6b9" kindref="member">LineFinder::FindAndRemoveLines</ref>(source_resolution_,</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textord_tabfind_show_vlines,<sp/>pix_binary_,</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;vertical_x,<sp/>&amp;vertical_y,<sp/>music_mask_pix,</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;v_lines,<sp/>&amp;h_lines);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tessedit_dump_pageseg_images)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>pixWrite(</highlight><highlight class="stringliteral">&quot;tessnolines.png&quot;</highlight><highlight class="normal">,<sp/>pix_binary_,<sp/>IFF_PNG);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Leptonica<sp/>is<sp/>used<sp/>to<sp/>find<sp/>a<sp/>mask<sp/>of<sp/>the<sp/>photo<sp/>regions<sp/>in<sp/>the<sp/>input.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/>*photo_mask_pix<sp/>=<sp/><ref refid="classtesseract_1_1_image_find_1af465be1a567090dcaaa74eb7742c51fe" kindref="member">ImageFind::FindImages</ref>(pix_binary_);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tessedit_dump_pageseg_images)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>pixWrite(</highlight><highlight class="stringliteral">&quot;tessnoimages.png&quot;</highlight><highlight class="normal">,<sp/>pix_binary_,<sp/>IFF_PNG);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(single_column)</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>v_lines.clear();</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>rest<sp/>of<sp/>the<sp/>algorithm<sp/>uses<sp/>the<sp/>usual<sp/>connected<sp/>components.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/>textord_.<ref refid="classtesseract_1_1_textord_1ab478029b49bf4efadd59a547565327a7" kindref="member">find_components</ref>(pix_binary_,<sp/>blocks,<sp/>to_blocks);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/>TO_BLOCK_IT<sp/>to_block_it(to_blocks);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>There<sp/>must<sp/>be<sp/>exactly<sp/>one<sp/>input<sp/>block.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO(rays)<sp/>handle<sp/>new<sp/>textline<sp/>finding<sp/>with<sp/>a<sp/>UNLV<sp/>zone<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(to_blocks-&gt;singleton());</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><ref refid="class_t_o___b_l_o_c_k" kindref="compound">TO_BLOCK</ref>*<sp/>to_block<sp/>=<sp/>to_block_it.data();</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>blkbox<sp/>=<sp/>to_block-&gt;block-&gt;bounding_box();</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/>ColumnFinder*<sp/>finder<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(to_block-&gt;line_size<sp/>&gt;=<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>finder<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>ColumnFinder(static_cast&lt;int&gt;(to_block-&gt;line_size),</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blkbox.<ref refid="class_t_b_o_x_1a9f46d9e51b8b69c5cb6d031e9ac34978" kindref="member">botleft</ref>(),<sp/>blkbox.<ref refid="class_t_b_o_x_1a02511fc69b598b332ac1f4af6c943f8f" kindref="member">topright</ref>(),</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>source_resolution_,</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;v_lines,<sp/>&amp;h_lines,<sp/>vertical_x,<sp/>vertical_y);</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>finder-&gt;SetupAndFilterNoise(*photo_mask_pix,<sp/>to_block);</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(equ_detect_)<sp/>{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>equ_detect_-&gt;<ref refid="classtesseract_1_1_equation_detect_1af6d40cc16252ebeba9458c3d5946b5f9" kindref="member">LabelSpecialText</ref>(to_block);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>BLOBNBOX_CLIST<sp/>osd_blobs;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>osd_orientation<sp/>is<sp/>the<sp/>number<sp/>of<sp/>90<sp/>degree<sp/>rotations<sp/>to<sp/>make<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>characters<sp/>upright.<sp/>(See<sp/>osdetect.h<sp/>for<sp/>precise<sp/>definition.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>want<sp/>the<sp/>text<sp/>lines<sp/>horizontal,<sp/>(vertical<sp/>text<sp/>indicates<sp/>vertical</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>textlines)<sp/>which<sp/>may<sp/>conflict<sp/>(eg<sp/>vertically<sp/>written<sp/>CJK).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>osd_orientation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>vertical_text<sp/>=<sp/>finder-&gt;IsVerticallyAlignedText(to_block,<sp/>&amp;osd_blobs);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(osd<sp/>&amp;&amp;<sp/>osd_tess<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>osr<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="osdetect_8cpp_1a1007e747656418b79d4ce9f8f14f2a7b" kindref="member">os_detect_blobs</ref>(&amp;osd_blobs,<sp/>osr,<sp/>osd_tess);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(only_osd)<sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>finder;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>osd_orientation<sp/>=<sp/>osr-&gt;<ref refid="struct_o_s_results_1a25f64011ea65c038c1ef1a6cedd10f1c" kindref="member">best_result</ref>.<ref refid="struct_o_s_best_result_1a6dfb6826b41a81524ce867b005ba5641" kindref="member">orientation_id</ref>;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>osd_score<sp/>=<sp/>osr-&gt;<ref refid="struct_o_s_results_1a5fe9fa97000f89cd6f4392b55638e882" kindref="member">orientations</ref>[osd_orientation];</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>osd_margin<sp/>=<sp/>min_orientation_margin<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>!=<sp/>osd_orientation<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>osd_score<sp/>-<sp/>osr-&gt;<ref refid="struct_o_s_results_1a5fe9fa97000f89cd6f4392b55638e882" kindref="member">orientations</ref>[i]<sp/>&lt;<sp/>osd_margin)<sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>osd_margin<sp/>=<sp/>osd_score<sp/>-<sp/>osr-&gt;<ref refid="struct_o_s_results_1a5fe9fa97000f89cd6f4392b55638e882" kindref="member">orientations</ref>[i];</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(osd_margin<sp/>&lt;<sp/>min_orientation_margin)<sp/>{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>margin<sp/>is<sp/>weak.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>best_script_id<sp/>=<sp/>osr-&gt;<ref refid="struct_o_s_results_1a25f64011ea65c038c1ef1a6cedd10f1c" kindref="member">best_result</ref>.<ref refid="struct_o_s_best_result_1a0647ea3dc4a399a472c48ab1eacd31e1" kindref="member">script_id</ref>;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>cjk<sp/>=<sp/>(best_script_id<sp/>==<sp/>osd_tess-&gt;unicharset.han_sid())<sp/>||</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(best_script_id<sp/>==<sp/>osd_tess-&gt;unicharset.hiragana_sid())<sp/>||</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(best_script_id<sp/>==<sp/>osd_tess-&gt;unicharset.katakana_sid());</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!cjk<sp/>&amp;&amp;<sp/>!vertical_text<sp/>&amp;&amp;<sp/>osd_orientation<sp/>==<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>upside<sp/>down<sp/>latin<sp/>text<sp/>is<sp/>improbable<sp/>with<sp/>such<sp/>a<sp/>weak<sp/>margin.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;OSD:<sp/>Weak<sp/>margin<sp/>(%.2f),<sp/>horiz<sp/>textlines,<sp/>not<sp/>CJK:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Don&apos;t<sp/>rotate.\n&quot;</highlight><highlight class="normal">,<sp/>osd_margin);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>osd_orientation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;OSD:<sp/>Weak<sp/>margin<sp/>(%.2f)<sp/>for<sp/>%d<sp/>blob<sp/>text<sp/>block,<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;but<sp/>using<sp/>orientation<sp/>anyway:<sp/>%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>osd_blobs.length(),<sp/>osd_margin,<sp/>osd_orientation);</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>osd_blobs.shallow_clear();</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/>finder-&gt;CorrectOrientation(to_block,<sp/>vertical_text,<sp/>osd_orientation);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>finder;</highlight></codeline>
<codeline lineno="377"><highlight class="normal">}</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract.</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/ccmain/pagesegmain.cpp"/>
  </compounddef>
</doxygen>
