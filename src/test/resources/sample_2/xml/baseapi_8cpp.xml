<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="baseapi_8cpp" kind="file">
    <compoundname>baseapi.cpp</compoundname>
    <includes local="yes">allheaders.h</includes>
    <includes refid="baseapi_8h" local="yes">baseapi.h</includes>
    <includes refid="resultiterator_8h" local="yes">resultiterator.h</includes>
    <includes refid="mutableiterator_8h" local="yes">mutableiterator.h</includes>
    <includes refid="thresholder_8h" local="yes">thresholder.h</includes>
    <includes refid="tesseractclass_8h" local="yes">tesseractclass.h</includes>
    <includes refid="pageres_8h" local="yes">pageres.h</includes>
    <includes refid="paragraphs_8h" local="yes">paragraphs.h</includes>
    <includes refid="tessvars_8h" local="yes">tessvars.h</includes>
    <includes refid="control_8h" local="yes">control.h</includes>
    <includes refid="pgedit_8h" local="yes">pgedit.h</includes>
    <includes refid="paramsd_8h" local="yes">paramsd.h</includes>
    <includes refid="output_8h" local="yes">output.h</includes>
    <includes refid="globals_8h" local="yes">globals.h</includes>
    <includes refid="edgblob_8h" local="yes">edgblob.h</includes>
    <includes refid="equationdetect_8h" local="yes">equationdetect.h</includes>
    <includes refid="tessbox_8h" local="yes">tessbox.h</includes>
    <includes refid="imgs_8h" local="yes">imgs.h</includes>
    <includes refid="imgtiff_8h" local="yes">imgtiff.h</includes>
    <includes refid="makerow_8h" local="yes">makerow.h</includes>
    <includes refid="permute_8h" local="yes">permute.h</includes>
    <includes refid="otsuthr_8h" local="yes">otsuthr.h</includes>
    <includes refid="osdetect_8h" local="yes">osdetect.h</includes>
    <includes refid="params_8h" local="yes">params.h</includes>
    <includes refid="strngs_8h" local="yes">strngs.h</includes>
    <includes local="no">dirent.h</includes>
    <includes local="no">libgen.h</includes>
    <includes local="no">string.h</includes>
    <incdepgraph>
      <node id="128">
        <label>matchtab.h</label>
        <link refid="matchtab_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>cutil_class.h</label>
        <link refid="cutil__class_8h"/>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="92">
        <label>docqual.h</label>
        <link refid="docqual_8h"/>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="37">
        <label>mutableiterator.h</label>
        <link refid="mutableiterator_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="138">
        <label>globals.h</label>
        <link refid="globals_8h"/>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="98">
        <label>image.h</label>
        <link refid="image_8h"/>
      </node>
      <node id="101">
        <label>wordrec.h</label>
        <link refid="wordrec_8h"/>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="129" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="130" relation="include">
        </childnode>
        <childnode refid="132" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>blobbox.h</label>
        <link refid="blobbox_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
      </node>
      <node id="104">
        <label>states.h</label>
        <link refid="states_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="70">
        <label>assert.h</label>
      </node>
      <node id="139">
        <label>edgblob.h</label>
        <link refid="edgblob_8h"/>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="38">
        <label>tesseractclass.h</label>
        <link refid="tesseractclass_8h"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
      </node>
      <node id="105">
        <label>classify.h</label>
        <link refid="classify_8h"/>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="79">
        <label>rejctmap.h</label>
        <link refid="rejctmap_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="72">
        <label>statistc.h</label>
        <link refid="statistc_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
      </node>
      <node id="90">
        <label>const.h</label>
        <link refid="const_8h"/>
      </node>
      <node id="93">
        <label>devanagari_processing.h</label>
        <link refid="devanagari__processing_8h"/>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>stdlib.h</label>
      </node>
      <node id="14">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="113">
        <label>bitvec.h</label>
        <link refid="bitvec_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="129">
        <label>gradechop.h</label>
        <link refid="gradechop_8h"/>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="94">
        <label>ocrclass.h</label>
        <link refid="ocrclass_8h"/>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>pageiterator.h</label>
        <link refid="pageiterator_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>blckerr.h</label>
        <link refid="blckerr_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="85">
        <label>ccutil.h</label>
        <link refid="ccutil_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>allheaders.h</label>
      </node>
      <node id="55">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>resultiterator.h</label>
        <link refid="resultiterator_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="45">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="91">
        <label>tessarray.h</label>
        <link refid="tessarray_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="143">
        <label>imgs.h</label>
        <link refid="imgs_8h"/>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="111">
        <label>baseline.h</label>
        <link refid="baseline_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="97">
        <label>ccstruct.h</label>
        <link refid="ccstruct_8h"/>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>baseapi.h</label>
        <link refid="baseapi_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>stepblob.h</label>
        <link refid="stepblob_8h"/>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
      <node id="141">
        <label>equationdetectbase.h</label>
        <link refid="equationdetectbase_8h"/>
      </node>
      <node id="118">
        <label>trie.h</label>
        <link refid="trie_8h"/>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="69">
        <label>ratngs.h</label>
        <link refid="ratngs_8h"/>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>stddef.h</label>
      </node>
      <node id="20">
        <label>memory.h</label>
      </node>
      <node id="10">
        <label>api/baseapi.cpp</label>
        <link refid="baseapi.cpp"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="133" relation="include">
        </childnode>
        <childnode refid="134" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="135" relation="include">
        </childnode>
        <childnode refid="136" relation="include">
        </childnode>
        <childnode refid="137" relation="include">
        </childnode>
        <childnode refid="138" relation="include">
        </childnode>
        <childnode refid="139" relation="include">
        </childnode>
        <childnode refid="140" relation="include">
        </childnode>
        <childnode refid="142" relation="include">
        </childnode>
        <childnode refid="143" relation="include">
        </childnode>
        <childnode refid="144" relation="include">
        </childnode>
        <childnode refid="145" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="146" relation="include">
        </childnode>
        <childnode refid="147" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="125">
        <label>cutoffs.h</label>
        <link refid="cutoffs_8h"/>
        <childnode refid="108" relation="include">
        </childnode>
      </node>
      <node id="110">
        <label>fpoint.h</label>
        <link refid="fpoint_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="132">
        <label>callcpp.h</label>
        <link refid="callcpp_8h"/>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="108">
        <label>matchdefs.h</label>
        <link refid="matchdefs_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>polyblk.h</label>
        <link refid="polyblk_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
      </node>
      <node id="147">
        <label>osdetect.h</label>
        <link refid="osdetect_8h"/>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>limits.h</label>
      </node>
      <node id="131">
        <label>chop.h</label>
        <link refid="chop_8h"/>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
      </node>
      <node id="123">
        <label>intfx.h</label>
        <link refid="intfx_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="102">
        <label>associate.h</label>
        <link refid="associate_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>thresholder.h</label>
        <link refid="thresholder_8h"/>
      </node>
      <node id="78">
        <label>params_training_featdef.h</label>
        <link refid="params__training__featdef_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="145">
        <label>makerow.h</label>
        <link refid="makerow_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="115">
        <label>dict.h</label>
        <link refid="dict_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
      </node>
      <node id="140">
        <label>equationdetect.h</label>
        <link refid="equationdetect_8h"/>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="141" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>mod128.h</label>
        <link refid="mod128_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="59">
        <label>elst2.h</label>
        <link refid="elst2_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>apitypes.h</label>
        <link refid="apitypes_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>pthread.h</label>
      </node>
      <node id="149">
        <label>libgen.h</label>
      </node>
      <node id="21">
        <label>string.h</label>
      </node>
      <node id="135">
        <label>pgedit.h</label>
        <link refid="pgedit_8h"/>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
      </node>
      <node id="33">
        <label>unicharmap.h</label>
        <link refid="unicharmap_8h"/>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="76">
        <label>boxword.h</label>
        <link refid="boxword_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="83">
        <label>cutil.h</label>
        <link refid="cutil_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
      </node>
      <node id="130">
        <label>findseam.h</label>
        <link refid="findseam_8h"/>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="131" relation="include">
        </childnode>
      </node>
      <node id="54">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="58">
        <label>bits16.h</label>
        <link refid="bits16_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="134">
        <label>tessvars.h</label>
        <link refid="tessvars_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="137">
        <label>output.h</label>
        <link refid="output_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="89">
        <label>semaphore.h</label>
      </node>
      <node id="62">
        <label>coutln.h</label>
        <link refid="coutln_8h"/>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>werd.h</label>
        <link refid="werd_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>ocrrow.h</label>
        <link refid="ocrrow_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="46">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="109">
        <label>mfoutline.h</label>
        <link refid="mfoutline_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="86">
        <label>ambigs.h</label>
        <link refid="ambigs_8h"/>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="114">
        <label>unicity_table.h</label>
        <link refid="unicity__table_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="95">
        <label>time.h</label>
      </node>
      <node id="136">
        <label>paramsd.h</label>
        <link refid="paramsd_8h"/>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>crakedge.h</label>
        <link refid="crakedge_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>math.h</label>
      </node>
      <node id="81">
        <label>split.h</label>
        <link refid="split_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>ltrresultiterator.h</label>
        <link refid="ltrresultiterator_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>quadratc.h</label>
        <link refid="quadratc_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>vecfuncs.h</label>
        <link refid="vecfuncs_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>publictypes.h</label>
        <link refid="publictypes_8h"/>
      </node>
      <node id="82">
        <label>oldlist.h</label>
        <link refid="oldlist_8h"/>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="121">
        <label>ocrfeatures.h</label>
        <link refid="ocrfeatures_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="133">
        <label>paragraphs.h</label>
        <link refid="paragraphs_8h"/>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="100">
        <label>gap_map.h</label>
        <link refid="gap__map_8h"/>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="41">
        <label>ocrblock.h</label>
        <link refid="ocrblock_8h"/>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
      </node>
      <node id="40">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="34">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="117">
        <label>stopper.h</label>
        <link refid="stopper_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="96">
        <label>textord.h</label>
        <link refid="textord_8h"/>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="112">
        <label>protos.h</label>
        <link refid="protos_8h"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="73">
        <label>pageres.h</label>
        <link refid="pageres_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="126">
        <label>language_model.h</label>
        <link refid="language__model_8h"/>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
      </node>
      <node id="120">
        <label>featdefs.h</label>
        <link refid="featdefs_8h"/>
        <childnode refid="121" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>ocrpara.h</label>
        <link refid="ocrpara_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="44">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>unicharset.h</label>
        <link refid="unicharset_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
      </node>
      <node id="80">
        <label>seam.h</label>
        <link refid="seam_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
      </node>
      <node id="39">
        <label>control.h</label>
        <link refid="control_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="127">
        <label>oldheap.h</label>
        <link refid="oldheap_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
      </node>
      <node id="116">
        <label>dawg.h</label>
        <link refid="dawg_8h"/>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="122">
        <label>fontinfo.h</label>
        <link refid="fontinfo_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="51">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
      </node>
      <node id="106">
        <label>adaptive.h</label>
        <link refid="adaptive_8h"/>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="71">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="42">
        <label>img.h</label>
        <link refid="img_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
      <node id="124">
        <label>intmatcher.h</label>
        <link refid="intmatcher_8h"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
      </node>
      <node id="142">
        <label>tessbox.h</label>
        <link refid="tessbox_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
      </node>
      <node id="68">
        <label>hpddef.h</label>
        <link refid="hpddef_8h"/>
      </node>
      <node id="23">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>pdblock.h</label>
        <link refid="pdblock_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>stdio.h</label>
      </node>
      <node id="146">
        <label>otsuthr.h</label>
        <link refid="otsuthr_8h"/>
      </node>
      <node id="103">
        <label>matrix.h</label>
        <link refid="matrix_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="107">
        <label>intproto.h</label>
        <link refid="intproto_8h"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="144">
        <label>imgtiff.h</label>
        <link refid="imgtiff_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="87">
        <label>tessdatamanager.h</label>
        <link refid="tessdatamanager_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>normalis.h</label>
        <link refid="normalis_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>blobs.h</label>
        <link refid="blobs_8h"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="119">
        <label>permute.h</label>
        <link refid="permute_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="148">
        <label>dirent.h</label>
      </node>
      <node id="49">
        <label>quspline.h</label>
        <link refid="quspline_8h"/>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="structtesseract_1_1_t_e_s_s___c_h_a_r" prot="public">tesseract::TESS_CHAR</innerclass>
    <innernamespace refid="namespacetesseract">tesseract</innernamespace>
      <sectiondef kind="define">
      <memberdef kind="define" id="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" prot="public" static="no">
        <name>_</name>
        <param><defname>x</defname></param>
        <initializer>(x)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/api/baseapi.cpp" line="32" column="10" bodyfile="/Users/makoto/Desktop/trunk/api/baseapi.cpp" bodystart="32" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>File:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>baseapi.cpp</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Description:<sp/>Simple<sp/>API<sp/>for<sp/>calling<sp/>tesseract.</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Author:<sp/><sp/><sp/><sp/><sp/><sp/>Ray<sp/>Smith</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Created:<sp/><sp/><sp/><sp/><sp/>Fri<sp/>Oct<sp/>06<sp/>15:35:01<sp/>PDT<sp/>2006</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>(C)<sp/>Copyright<sp/>2006,<sp/>Google<sp/>Inc.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>**<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>**<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>**<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>**<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>**<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**********************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Include<sp/>automatically<sp/>generated<sp/>configuration<sp/>file<sp/>if<sp/>running<sp/>autoconf.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;config_auto.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="24"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;allheaders.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USING_GETTEXT</highlight></codeline>
<codeline lineno="28"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;libintl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;locale.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_(x)<sp/>gettext(x)</highlight></codeline>
<codeline lineno="31"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="32"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>_(x)<sp/>(x)</highlight></codeline>
<codeline lineno="33"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="34"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="baseapi_8h" kindref="compound">baseapi.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="resultiterator_8h" kindref="compound">resultiterator.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mutableiterator_8h" kindref="compound">mutableiterator.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="thresholder_8h" kindref="compound">thresholder.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tesseractclass_8h" kindref="compound">tesseractclass.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pageres_8h" kindref="compound">pageres.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="paragraphs_8h" kindref="compound">paragraphs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tessvars_8h" kindref="compound">tessvars.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="control_8h" kindref="compound">control.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pgedit_8h" kindref="compound">pgedit.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="paramsd_8h" kindref="compound">paramsd.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="output_8h" kindref="compound">output.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="globals_8h" kindref="compound">globals.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="edgblob_8h" kindref="compound">edgblob.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="equationdetect_8h" kindref="compound">equationdetect.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tessbox_8h" kindref="compound">tessbox.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="imgs_8h" kindref="compound">imgs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="imgtiff_8h" kindref="compound">imgtiff.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="makerow_8h" kindref="compound">makerow.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="permute_8h" kindref="compound">permute.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="otsuthr_8h" kindref="compound">otsuthr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="osdetect_8h" kindref="compound">osdetect.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="params_8h" kindref="compound">params.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="strngs_8h" kindref="compound">strngs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="62"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="65"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;dirent.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;libgen.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="69"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(_WIN32)<sp/>&amp;&amp;<sp/>!defined(VERSION)</highlight></codeline>
<codeline lineno="71"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="version_8h" kindref="compound">version.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="73"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="namespacetesseract" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacetesseract-c__api-demo_1afed58feacb84df2de88bdd613cfdba6d" kindref="member">tesseract</ref><sp/>{</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a11307fd919d7a9313500b04cfc1a8e3d" kindref="member">kMinRectSize</ref><sp/>=<sp/>10;</highlight></codeline>
<codeline lineno="79"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a1083ed81b6adbb6930e87d0c58671e26" kindref="member">kTesseractReject</ref><sp/>=<sp/></highlight><highlight class="charliteral">&apos;~&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="81"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a99bec48b41ccb504c28851dbe5b1f106" kindref="member">kUNLVReject</ref><sp/>=<sp/></highlight><highlight class="charliteral">&apos;~&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1af7e73b761f145b66ffcc7585ed69d940" kindref="member">kUNLVSuspect</ref><sp/>=<sp/></highlight><highlight class="charliteral">&apos;^&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="88"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="namespacetesseract_1a3ba7b8d4b2132f72118c62fba346ffd0" kindref="member">kInputFile</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;noname.tif&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="90"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="namespacetesseract_1a46ecbfaef9e549b16cd97fee9d4614d2" kindref="member">kOldVarsFile</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;failed_vars.txt&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a3e35711780f8c0254a2dd64071ef2b6b" kindref="member">kMaxIntSize</ref><sp/>=<sp/>22;</highlight></codeline>
<codeline lineno="97"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1af670abba9a6fc5f36a04b8650e53d1b7" kindref="member" tooltip="Minimum believable resolution. ">kMinCredibleResolution</ref><sp/>=<sp/>70;</highlight></codeline>
<codeline lineno="99"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a8ce8daeb42d63f39924c0a342e2cfdf4" kindref="member">kMaxCredibleResolution</ref><sp/>=<sp/>2400;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><ref refid="classtesseract_1_1_tess_base_a_p_i_1a3bc4277652df23eaeccd0629f2b1419d" kindref="member">TessBaseAPI::TessBaseAPI</ref>()</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/>:<sp/>tesseract_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>osd_tesseract_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>equ_detect_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Thresholder<sp/>is<sp/>initialized<sp/>to<sp/>NULL<sp/>here,<sp/>but<sp/>will<sp/>be<sp/>set<sp/>before<sp/>use<sp/>by:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>A<sp/>constructor<sp/>of<sp/>a<sp/>derived<sp/>API,<sp/><sp/>SetThresholder(),<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>created<sp/>implicitly<sp/>when<sp/>used<sp/>in<sp/>InternalSetImage.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>thresholder_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>paragraph_models_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>block_list_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>page_res_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>input_file_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>output_file_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>datapath_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>language_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>last_oem_requested_(<ref refid="namespacetesseract_1a04550a0ed1279562027bf2fc92c421aeae7376c1e8d55b9d13e75c639a6930159" kindref="member">OEM_DEFAULT</ref>),</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>recognition_done_(</highlight><highlight class="keyword">false</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>truth_cb_(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>),</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>rect_left_(0),<sp/>rect_top_(0),<sp/>rect_width_(0),<sp/>rect_height_(0),</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>image_width_(0),<sp/>image_height_(0)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><ref refid="classtesseract_1_1_tess_base_a_p_i_1a02df6c7886962e347e3c5f7c1f632337" kindref="member">TessBaseAPI::~TessBaseAPI</ref>()<sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><ref refid="group___advanced_a_p_i_1ga38027513ee9c0348de1790bddcdc3391" kindref="member">End</ref>();</highlight></codeline>
<codeline lineno="125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a3785779c909fcdd77e24b340f5913e4b" kindref="member">TessBaseAPI::Version</ref>()<sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="version_8h_1a1c6d5de492ac61ad29aec7aa9a436bbf" kindref="member">VERSION</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal">}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a896312e68d246b58e704a8f5576e6917" kindref="member">TessBaseAPI::SetInputName</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name)<sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(name);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="143"><highlight class="normal">}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1af997008815be7af2edcd9ff1a5d55896" kindref="member">TessBaseAPI::SetOutputName</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name)<sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(name);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="151"><highlight class="normal">}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a2e09259c558c6d8e0f7e523cbaf5adf5" kindref="member">TessBaseAPI::SetVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>value)<sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_param_utils_1aecfd4f0112e3753b19c856d210fb8f69" kindref="member">ParamUtils::SetParam</ref>(name,<sp/>value,<sp/><ref refid="namespacetesseract_1a0fc9989588ecf8f236da49b58f96a6c5a713c7bc13788ed69eb16dd9e5f309d12" kindref="member">SET_PARAM_CONSTRAINT_NON_INIT_ONLY</ref>,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>());</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a20c9b24d670ab01dd7f011727b7a8daa" kindref="member">TessBaseAPI::SetDebugVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>value)<sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_param_utils_1aecfd4f0112e3753b19c856d210fb8f69" kindref="member">ParamUtils::SetParam</ref>(name,<sp/>value,<sp/><ref refid="namespacetesseract_1a0fc9989588ecf8f236da49b58f96a6c5ab006bbe489e53081990e1f41174bb9e0" kindref="member">SET_PARAM_CONSTRAINT_DEBUG_ONLY</ref>,</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>());</highlight></codeline>
<codeline lineno="163"><highlight class="normal">}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a5923cccbe20988f0f99072844d1af573" kindref="member">TessBaseAPI::GetIntVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*value)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_int_param" kindref="compound">IntParam</ref><sp/>*p<sp/>=<sp/>ParamUtils::FindParam&lt;IntParam&gt;(</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>name,<sp/><ref refid="params_8cpp_1a71a3243019391d3a438fd279c07cef87" kindref="member">GlobalParams</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a22c42b48d2c626d2f3f3b0abd21bc902" kindref="member">int_params</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a22c42b48d2c626d2f3f3b0abd21bc902" kindref="member">int_params</ref>);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/>*value<sp/>=<sp/>(<ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref>)(*p);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="171"><highlight class="normal">}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac5e219cbaa2c19c67ccef3246ff838a6" kindref="member">TessBaseAPI::GetBoolVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*value)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_bool_param" kindref="compound">BoolParam</ref><sp/>*p<sp/>=<sp/>ParamUtils::FindParam&lt;BoolParam&gt;(</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>name,<sp/><ref refid="params_8cpp_1a71a3243019391d3a438fd279c07cef87" kindref="member">GlobalParams</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a6bb13133287d8d8d18c81bb974b1b54f" kindref="member">bool_params</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a6bb13133287d8d8d18c81bb974b1b54f" kindref="member">bool_params</ref>);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/>*value<sp/>=<sp/>(<ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref>)(*p);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a03dfbc60eeb4cef2937703c9df60003b" kindref="member">TessBaseAPI::GetStringVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_string_param" kindref="compound">StringParam</ref><sp/>*p<sp/>=<sp/>ParamUtils::FindParam&lt;StringParam&gt;(</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>name,<sp/><ref refid="params_8cpp_1a71a3243019391d3a438fd279c07cef87" kindref="member">GlobalParams</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a446a70d7d7c85af255d053ae54c5df8a" kindref="member">string_params</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a446a70d7d7c85af255d053ae54c5df8a" kindref="member">string_params</ref>);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(p<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?<sp/>p-&gt;<ref refid="classtesseract_1_1_string_param_1a722ffc30ba31e0993847178593eca10b" kindref="member">string</ref>()<sp/>:<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="185"><highlight class="normal">}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a66a87a36eaee72d6ce12409f99f28eb8" kindref="member">TessBaseAPI::GetDoubleVariable</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*value)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_double_param" kindref="compound">DoubleParam</ref><sp/>*p<sp/>=<sp/>ParamUtils::FindParam&lt;DoubleParam&gt;(</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>name,<sp/><ref refid="params_8cpp_1a71a3243019391d3a438fd279c07cef87" kindref="member">GlobalParams</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a83a1b9a0571c97380bdf3a32591cf196" kindref="member">double_params</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>()-&gt;<ref refid="structtesseract_1_1_params_vectors_1a83a1b9a0571c97380bdf3a32591cf196" kindref="member">double_params</ref>);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/>*value<sp/>=<sp/>(double)(*p);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal">}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aa40487f19e71221f05bb3ad5dd36c437" kindref="member">TessBaseAPI::GetVariableAsString</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>*val)<sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_param_utils_1a53d101144fd6a9e6d45980e832f9e054" kindref="member">ParamUtils::GetParamAsString</ref>(name,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>(),<sp/>val);</highlight></codeline>
<codeline lineno="198"><highlight class="normal">}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aa00be783b6ce3c3178fc86afdf1cba7d" kindref="member">TessBaseAPI::PrintVariables</ref>(FILE<sp/>*fp)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_param_utils_1ac9884aced9c9941e8df8763960d798c4" kindref="member">ParamUtils::PrintParams</ref>(fp,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ac993425386ae1f73762107299ee8a114" kindref="member">params</ref>());</highlight></codeline>
<codeline lineno="203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a96899e8e5358d96752ab1cfc3bc09f3e" kindref="member">TessBaseAPI::Init</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>datapath,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>language,</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a04550a0ed1279562027bf2fc92c421ae" kindref="member">OcrEngineMode</ref><sp/>oem,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**configs,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>configs_size,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;STRING&gt;</ref><sp/>*vars_vec,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;STRING&gt;</ref><sp/>*vars_values,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set_only_non_debug_params)<sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Default<sp/>language<sp/>is<sp/>&quot;eng&quot;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(language<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>language<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;eng&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>datapath,<sp/>OcrEngineMode<sp/>or<sp/>the<sp/>language<sp/>have<sp/>changed<sp/>-<sp/>start<sp/>again.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Note<sp/>that<sp/>the<sp/>language_<sp/>field<sp/>stores<sp/>the<sp/>last<sp/>requested<sp/>language<sp/>that<sp/>was</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>initialized<sp/>successfully,<sp/>while<sp/>tesseract_-&gt;lang<sp/>stores<sp/>the<sp/>language</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>actually<sp/>used.<sp/>They<sp/>differ<sp/>only<sp/>if<sp/>the<sp/>requested<sp/>language<sp/>was<sp/>NULL,<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>which<sp/>case<sp/>tesseract_-&gt;lang<sp/>is<sp/>set<sp/>to<sp/>the<sp/>Tesseract<sp/>default<sp/>(&quot;eng&quot;).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>!=<sp/>datapath<sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1af9d4095a569fbf8687cefc005d2f58ee" kindref="member" tooltip="Last ocr language mode requested. ">last_oem_requested_</ref><sp/>!=<sp/>oem<sp/>||</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>!=<sp/>language<sp/>&amp;&amp;<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ae453cbd7e4899ebfc5cc3831e5a8dd66" kindref="member">lang</ref><sp/>!=<sp/>language)))<sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>reset_classifier<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>reset_classifier<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ae4558a3c1f64abeec1e1829056d8d1f3" kindref="member">init_tesseract</ref>(</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datapath,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>?<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>()<sp/>:<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>language,<sp/><ref refid="group___advanced_a_p_i_1gaf810a9dc1e6d74132796c298445ea06d" kindref="member">oem</ref>,<sp/>configs,<sp/>configs_size,<sp/>vars_vec,<sp/>vars_values,</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>set_only_non_debug_params)<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Update<sp/>datapath<sp/>and<sp/>language<sp/>requested<sp/>for<sp/>the<sp/>last<sp/>valid<sp/>initialization.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(datapath);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>=<sp/>datapath;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(language);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>=<sp/>language;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1af9d4095a569fbf8687cefc005d2f58ee" kindref="member" tooltip="Last ocr language mode requested. ">last_oem_requested_</ref><sp/>=<sp/><ref refid="group___advanced_a_p_i_1gaf810a9dc1e6d74132796c298445ea06d" kindref="member">oem</ref>;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>same<sp/>language<sp/>and<sp/>datapath,<sp/>just<sp/>reset<sp/>the<sp/>adaptive<sp/>classifier.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(reset_classifier)<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aa1c9c8ed630b708cf88c97b863c0f1f8" kindref="member">ResetAdaptiveClassifier</ref>();</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="259"><highlight class="normal">}</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1af4eab4c95ee65eff4f36de0b4d27d07a" kindref="member">TessBaseAPI::GetInitLanguagesAsString</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>()<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>();</highlight></codeline>
<codeline lineno="272"><highlight class="normal">}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a16a8fb0d6583e1990d79757dc32c760c" kindref="member">TessBaseAPI::GetLoadedLanguagesAsVector</ref>(</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;STRING&gt;</ref>*<sp/>langs)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a9cdbff49b186574b83e43afba606fdd9" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a0dc89fe2a365b04a61017f9d78c1a303" kindref="member">push_back</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1ae453cbd7e4899ebfc5cc3831e5a8dd66" kindref="member">lang</ref>);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_subs<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1acdb611d653926772113b91423edbd004" kindref="member">num_sub_langs</ref>();</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>num_subs;<sp/>++i)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a0dc89fe2a365b04a61017f9d78c1a303" kindref="member">push_back</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1afe9d7c06d9190dc4b686cb7342a01b52" kindref="member">get_sub_lang</ref>(i)-&gt;<ref refid="classtesseract_1_1_c_c_util_1ae453cbd7e4899ebfc5cc3831e5a8dd66" kindref="member">lang</ref>);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal">}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a1fd02f053ce01f915805fff31aea6695" kindref="member">TessBaseAPI::GetAvailableLanguagesAsVector</ref>(</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;STRING&gt;</ref>*<sp/>langs)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a9cdbff49b186574b83e43afba606fdd9" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="298"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>pattern<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1a4932d2070d3b91264958078abc991b17" kindref="member">datadir</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;/*.&quot;</highlight><highlight class="normal"><sp/>+<sp/>kTrainedDataSuffix;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>fname[_MAX_FNAME];</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>WIN32_FIND_DATA<sp/>data;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="capi_8h_1ae4cc35dcc70810fa972cc8a5185a28fa" kindref="member">BOOL</ref><sp/>result<sp/>=<sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/>handle<sp/>=<sp/>FindFirstFile(pattern.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>&amp;data);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(handle<sp/>!=<sp/>INVALID_HANDLE_VALUE)<sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>result;<sp/>result<sp/>=<sp/>FindNextFile(handle,<sp/>&amp;data))<sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_splitpath(data.cFileName,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>fname,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a0dc89fe2a365b04a61017f9d78c1a303" kindref="member">push_back</ref>(<ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(fname));</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>FindClose(handle);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="311"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="polyaprx_8cpp_1a6c8de73bb604d91743c7f6f356eb171e" kindref="member">DIR</ref><sp/>*dir;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">dirent<sp/>*dirent;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*dot;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>extension<sp/>=<sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">)<sp/>+<sp/>kTrainedDataSuffix;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>dir<sp/>=<sp/>opendir(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1a4932d2070d3b91264958078abc991b17" kindref="member">datadir</ref>.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>());</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dir<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((dirent<sp/>=<sp/>readdir(dir)))<sp/>{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Skip<sp/>&apos;.&apos;,<sp/>&apos;..&apos;,<sp/>and<sp/>hidden<sp/>files</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dirent-&gt;d_name[0]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;.&apos;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(strstr(dirent-&gt;d_name,<sp/>extension.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>())<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dot<sp/>=<sp/>strrchr(dirent-&gt;d_name,<sp/></highlight><highlight class="charliteral">&apos;.&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>ensures<sp/>that<sp/>.traineddata<sp/>is<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>file<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strncmp(dot,<sp/>extension.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>strlen(extension.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>()))<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*dot<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>langs-&gt;<ref refid="class_generic_vector_1a0dc89fe2a365b04a61017f9d78c1a303" kindref="member">push_back</ref>(<ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(dirent-&gt;d_name));</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="334"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac5fdc031598e1237ec7e30c5efa95840" kindref="member">TessBaseAPI::InitLangMod</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>datapath,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>language)<sp/>{</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1af024065359dd49d91ed8d602f57e0fc2" kindref="member">init_tesseract_lm</ref>(datapath,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>language);</highlight></codeline>
<codeline lineno="347"><highlight class="normal">}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a23d63e2cac00b958eb8803cab4943b4c" kindref="member">TessBaseAPI::InitForAnalysePage</ref>()<sp/>{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a2f9389a2d855d2a59e7892d3ba884887" kindref="member">InitAdaptiveClassifier</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ab3bd61f8ccb7c4e1c41801ea708d2181" kindref="member">TessBaseAPI::ReadConfigFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="namespacetesseract-c__api-demo_1ab85cc7ce156038d7a91fc6b51085c72e" kindref="member">filename</ref>)<sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a4784885f7626438d0f5438c60fdac672" kindref="member">read_config_file</ref>(filename,<sp/><ref refid="namespacetesseract_1a0fc9989588ecf8f236da49b58f96a6c5a713c7bc13788ed69eb16dd9e5f309d12" kindref="member">SET_PARAM_CONSTRAINT_NON_INIT_ONLY</ref>);</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4f3eec49763f76c347c216eed79cae93" kindref="member">TessBaseAPI::ReadDebugConfigFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>filename)<sp/>{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a4784885f7626438d0f5438c60fdac672" kindref="member">read_config_file</ref>(filename,<sp/><ref refid="namespacetesseract_1a0fc9989588ecf8f236da49b58f96a6c5ab006bbe489e53081990e1f41174bb9e0" kindref="member">SET_PARAM_CONSTRAINT_DEBUG_ONLY</ref>);</highlight></codeline>
<codeline lineno="372"><highlight class="normal">}</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a15a7a9c1afbba3078a55b4566de891ab" kindref="member">TessBaseAPI::SetPageSegMode</ref>(<ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/><ref refid="pgedit_8cpp_1afc03cf3e39248c2e339fee4d31f5f750" kindref="member">mode</ref>)<sp/>{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_pageseg_mode.set_value(mode);</highlight></codeline>
<codeline lineno="383"><highlight class="normal">}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a943206e3548bfb517c67354ee50661f3" kindref="member">TessBaseAPI::GetPageSegMode</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aab76fe3ca390d99e070ea60b892ee18ef" kindref="member" tooltip="Assume a single uniform block of text. (Default.) ">PSM_SINGLE_BLOCK</ref>;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_pageseg_mode));</highlight></codeline>
<codeline lineno="391"><highlight class="normal">}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad34c56e08d999ece9972f4c9a9301f93" kindref="member">TessBaseAPI::TesseractRect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>imagedata,</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes_per_pixel,</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes_per_line,</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top,</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height)<sp/>{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/>width<sp/>&lt;<sp/><ref refid="namespacetesseract_1a11307fd919d7a9313500b04cfc1a8e3d" kindref="member">kMinRectSize</ref><sp/>||<sp/>height<sp/>&lt;<sp/><ref refid="namespacetesseract_1a11307fd919d7a9313500b04cfc1a8e3d" kindref="member">kMinRectSize</ref>)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>Nothing<sp/>worth<sp/>doing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Since<sp/>this<sp/>original<sp/>api<sp/>didn&apos;t<sp/>give<sp/>the<sp/>exact<sp/>size<sp/>of<sp/>the<sp/>image,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>we<sp/>have<sp/>to<sp/>invent<sp/>a<sp/>reasonable<sp/>value.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bits_per_pixel<sp/>=<sp/>bytes_per_pixel<sp/>==<sp/>0<sp/>?<sp/>1<sp/>:<sp/>bytes_per_pixel<sp/>*<sp/>8;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><ref refid="group___advanced_a_p_i_1gaa463622111f3b11d8fca5863709cc699" kindref="member">SetImage</ref>(imagedata,<sp/>bytes_per_line<sp/>*<sp/>8<sp/>/<sp/>bits_per_pixel,<sp/>height<sp/>+<sp/>top,</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytes_per_pixel,<sp/>bytes_per_line);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><ref refid="group___advanced_a_p_i_1ga284228c7e9d18bbbd3984d44e252d625" kindref="member">SetRectangle</ref>(left,<sp/>top,<sp/>width,<sp/>height);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga115ef656f83352ba608b4f0bf9cfa2c4" kindref="member">GetUTF8Text</ref>();</highlight></codeline>
<codeline lineno="422"><highlight class="normal">}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ae16cc5135aba401b609e49d6790281e3" kindref="member">TessBaseAPI::ClearAdaptiveClassifier</ref>()<sp/>{</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aa1c9c8ed630b708cf88c97b863c0f1f8" kindref="member">ResetAdaptiveClassifier</ref>();</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1acf30e84d821dad180e2e3c752bf5af28" kindref="member">ResetDocumentDictionary</ref>();</highlight></codeline>
<codeline lineno="433"><highlight class="normal">}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gaa463622111f3b11d8fca5863709cc699" kindref="member">TessBaseAPI::SetImage</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>imagedata,</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes_per_pixel,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes_per_line)<sp/>{</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a17820a43c31b66c3a12eda59e0b51bba" kindref="member">InternalSetImage</ref>())</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a6273ef2894757191288f857702fdd044" kindref="member">SetImage</ref>(imagedata,<sp/>width,<sp/>height,</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytes_per_pixel,<sp/>bytes_per_line);</highlight></codeline>
<codeline lineno="450"><highlight class="normal">}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga4ded6137507a4e8eb6ed4bea0b9648f4" kindref="member">TessBaseAPI::SetSourceResolution</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ppi)<sp/>{</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>)</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1af96fa2b6f4d1271640d5c8842f4fa9d6" kindref="member">SetSourceYResolution</ref>(ppi);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Please<sp/>call<sp/>SetImage<sp/>before<sp/>SetSourceResolution.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="457"><highlight class="normal">}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gaa463622111f3b11d8fca5863709cc699" kindref="member">TessBaseAPI::SetImage</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Pix*<sp/>pix)<sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a17820a43c31b66c3a12eda59e0b51bba" kindref="member">InternalSetImage</ref>())</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a6273ef2894757191288f857702fdd044" kindref="member">SetImage</ref>(pix);</highlight></codeline>
<codeline lineno="472"><highlight class="normal">}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga284228c7e9d18bbbd3984d44e252d625" kindref="member">TessBaseAPI::SetRectangle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height)<sp/>{</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1ab230142a51f5ed6347f1a9221e52d264" kindref="member">SetRectangle</ref>(left,<sp/>top,<sp/>width,<sp/>height);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="484"><highlight class="normal">}</highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal">Pix*<sp/><ref refid="group___advanced_a_p_i_1gaee19c9ea78a647420bbe99a447569995" kindref="member">TessBaseAPI::GetThresholdedImage</ref>()<sp/>{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>()<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a8c8a3b050d6c356c4846345a3818f79e" kindref="member">Threshold</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a512809e371c7bff1a24bb531721010a3" kindref="member">mutable_pix_binary</ref>());</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pixClone(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>());</highlight></codeline>
<codeline lineno="496"><highlight class="normal">}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1gafdd23f73100c54cff18ecfa14efa0379" kindref="member">TessBaseAPI::GetRegions</ref>(Pixa**<sp/>pixa)<sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>pixa,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="505"><highlight class="normal">}</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1ga337bd007c5fff9336bba8dfade1924ce" kindref="member">TessBaseAPI::GetTextlines</ref>(Pixa**<sp/>pixa,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>blockids)<sp/>{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a5e87a35f16de644593c353159ede11d1" kindref="member">RIL_TEXTLINE</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>pixa,<sp/>blockids);</highlight></codeline>
<codeline lineno="515"><highlight class="normal">}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1gac7c249f9f7e11eadc557d4b3cab123a1" kindref="member">TessBaseAPI::GetStrips</ref>(Pixa**<sp/>pixa,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>blockids)<sp/>{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a5e87a35f16de644593c353159ede11d1" kindref="member">RIL_TEXTLINE</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>pixa,<sp/>blockids);</highlight></codeline>
<codeline lineno="527"><highlight class="normal">}</highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1ga4133bcbe38dca1173db2882ef0727703" kindref="member">TessBaseAPI::GetWords</ref>(Pixa**<sp/>pixa)<sp/>{</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>pixa,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal">}</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1gaf2b4f88c53457fa5153dc80f5a60e152" kindref="member">TessBaseAPI::GetConnectedComponents</ref>(Pixa**<sp/>pixa)<sp/>{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>pixa,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="546"><highlight class="normal">}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal">Boxa*<sp/><ref refid="group___advanced_a_p_i_1ga56369b1654400ef97e581bb65749ec3d" kindref="member">TessBaseAPI::GetComponentImages</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7" kindref="member">PageIteratorLevel</ref><sp/>level,</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>text_only,</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pixa**<sp/>pixa,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>blockids)<sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_page_iterator" kindref="compound">PageIterator</ref>*<sp/>page_it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga52eee8b9a4f147c26e4b64c16b46bc04" kindref="member">GetIterator</ref>();</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page_it<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>page_it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1gaaac2abf8505c89afb8466dc3cff2c666" kindref="member">AnalyseLayout</ref>();</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page_it<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>Failed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Count<sp/>the<sp/>components<sp/>to<sp/>get<sp/>a<sp/>size<sp/>for<sp/>the<sp/>arrays.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>component_count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/>top,<sp/>right,<sp/>bottom;</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a2351fffe02706e3cd35b97cb89e6242d" kindref="member">BoundingBoxInternal</ref>(level,<sp/>&amp;left,<sp/>&amp;top,<sp/>&amp;right,<sp/>&amp;bottom)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!text_only<sp/>||<sp/><ref refid="publictypes_8h_1a49b7c03fb4e55b82a8fd22b7c6094082" kindref="member">PTIsTextType</ref>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a26c0bc6c991feaf5615f2941b13d0977" kindref="member">BlockType</ref>())))</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++component_count;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a415ea7c61e24868bc67e676184be0bb9" kindref="member">Next</ref>(level));</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/>Boxa*<sp/>boxa<sp/>=<sp/>boxaCreate(component_count);</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pixa<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>*pixa<sp/>=<sp/>pixaCreate(component_count);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blockids<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>*blockids<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[component_count];</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>blockid<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>component_index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/>page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a5cc369eb577150a3a677f9c342ce1240" kindref="member">Begin</ref>();</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a2351fffe02706e3cd35b97cb89e6242d" kindref="member">BoundingBoxInternal</ref>(level,<sp/>&amp;left,<sp/>&amp;top,<sp/>&amp;right,<sp/>&amp;bottom)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!text_only<sp/>||<sp/><ref refid="publictypes_8h_1a49b7c03fb4e55b82a8fd22b7c6094082" kindref="member">PTIsTextType</ref>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a26c0bc6c991feaf5615f2941b13d0977" kindref="member">BlockType</ref>())))<sp/>{</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Box*<sp/>lbox<sp/>=<sp/>boxCreate(left,<sp/>top,<sp/>right<sp/>-<sp/>left,<sp/>bottom<sp/>-<sp/>top);</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>boxaAddBox(boxa,<sp/>lbox,<sp/>L_INSERT);</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pixa<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pix*<sp/>pix<sp/>=<sp/>page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1ad8fb0c95849e23f3c67ab1e765e50ae8" kindref="member">GetBinaryImage</ref>(level);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixaAddPix(*pixa,<sp/>pix,<sp/>L_INSERT);</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixaAddBox(*pixa,<sp/>lbox,<sp/>L_CLONE);</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blockids<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*blockids)[component_index]<sp/>=<sp/>blockid;</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1af9db4780e93dd192f7cee28f11476cce" kindref="member">IsAtFinalElement</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>,<sp/>level))</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++blockid;</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++component_index;</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(page_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a415ea7c61e24868bc67e676184be0bb9" kindref="member">Next</ref>(level));</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>page_it;</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>boxa;</highlight></codeline>
<codeline lineno="603"><highlight class="normal">}</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga6b1c8cac1ba7da32dfd32cf708eea8b4" kindref="member">TessBaseAPI::GetThresholdedImageScaleFactor</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a7d8c733e8624ebc10e74ec2afd517398" kindref="member">GetScaleFactor</ref>();</highlight></codeline>
<codeline lineno="610"><highlight class="normal">}</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga4e4a8dbd25ac8816155481bfb53f011a" kindref="member">TessBaseAPI::DumpPGM</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>filename)<sp/>{</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/>FILE<sp/>*fp<sp/>=<sp/>fopen(filename,<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/>Pix*<sp/>pix<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>();</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width<sp/>=<sp/>pixGetWidth(pix);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height<sp/>=<sp/>pixGetHeight(pix);</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/>l_uint32*<sp/>data<sp/>=<sp/>pixGetData(pix);</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/>fprintf(fp,<sp/></highlight><highlight class="stringliteral">&quot;P5<sp/>%d<sp/>%d<sp/>255\n&quot;</highlight><highlight class="normal">,<sp/>width,<sp/>height);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>0;<sp/>y<sp/>&lt;<sp/>height;<sp/>++y,<sp/>data<sp/>+=<sp/>pixGetWpl(pix))<sp/>{</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>0;<sp/>x<sp/>&lt;<sp/>width;<sp/>++x)<sp/>{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a458fe97f82495945f8071bb3c18d1783" kindref="member">uinT8</ref><sp/>b<sp/>=<sp/>GET_DATA_BIT(data,<sp/>x)<sp/>?<sp/>0<sp/>:<sp/>255;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fwrite(&amp;b,<sp/>1,<sp/>1,<sp/>fp);</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/>fclose(fp);</highlight></codeline>
<codeline lineno="629"><highlight class="normal">}</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a94bf40501f379eb684323383a926162c" kindref="member">CubeAPITest</ref>(Boxa*<sp/>boxa_blocks,<sp/>Pixa*<sp/>pixa_blocks,</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Boxa*<sp/>boxa_words,<sp/>Pixa*<sp/>pixa_words,</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_f_c_o_o_r_d" kindref="compound">FCOORD</ref>&amp;<sp/>reskew,<sp/>Pix*<sp/>page_pix,</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/>page_res)<sp/>{</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>block_count<sp/>=<sp/>boxaGetCount(boxa_blocks);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(block_count<sp/>==<sp/>pixaGetCount(pixa_blocks));</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>each<sp/>block<sp/>to<sp/>the<sp/>current<sp/>directory<sp/>as<sp/>junk_write_display.nnn.png.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>block_count;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/>Pix*<sp/>pix<sp/>=<sp/>pixaGetPix(pixa_blocks,<sp/>i,<sp/>L_CLONE);</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/>pixDisplayWrite(pix,<sp/>1);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>word_count<sp/>=<sp/>boxaGetCount(boxa_words);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(word_count<sp/>==<sp/>pixaGetCount(pixa_words));</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pr_word<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>page_res_it(page_res);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a15febd45d0904bb3c5f7d506368177f0" kindref="member">restart_page</ref>();<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref><sp/>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>(),<sp/>++pr_word)<sp/>{</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word<sp/>=<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref>*<sp/>choice<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>;</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>the<sp/>first<sp/>100<sp/>words<sp/>to<sp/>files<sp/>names<sp/>wordims/&lt;wordstring&gt;.tif.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pr_word<sp/>&lt;<sp/>100)<sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/><ref refid="namespacetesseract-c__api-demo_1ab85cc7ce156038d7a91fc6b51085c72e" kindref="member">filename</ref>(</highlight><highlight class="stringliteral">&quot;wordims/&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(choice<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>+=<sp/>choice-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a41d740f0accccdfb245d34d554122116" kindref="member">unichar_string</ref>();</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>numbuf[32];</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;unclassified&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(numbuf,<sp/>32,<sp/></highlight><highlight class="stringliteral">&quot;%03d&quot;</highlight><highlight class="normal">,<sp/>pr_word);</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>+=<sp/>numbuf;</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;.tif&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Pix*<sp/>pix<sp/>=<sp/>pixaGetPix(pixa_words,<sp/>pr_word,<sp/>L_CLONE);</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixWrite(filename.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>pix,<sp/>IFF_TIFF_G4);</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(pr_word<sp/>==<sp/>word_count);</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="674"><highlight class="normal">}</highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><ref refid="classtesseract_1_1_page_iterator" kindref="compound">PageIterator</ref>*<sp/><ref refid="group___advanced_a_p_i_1gaaac2abf8505c89afb8466dc3cff2c666" kindref="member">TessBaseAPI::AnalyseLayout</ref>()<sp/>{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">FindLines</ref>()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>-&gt;empty())</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>page<sp/>was<sp/>empty.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ocropus_add_ons_1ga33cf8d85c3714857bc8753fef035ea95" kindref="member">DetectParagraphs</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_page_iterator" kindref="compound">PageIterator</ref>(</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a7d8c733e8624ebc10e74ec2afd517398" kindref="member">GetScaleFactor</ref>(),</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a2fb94a4d1697c06bff68e33269297c59" kindref="member">GetScaledYResolution</ref>(),</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>,<sp/><ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>,<sp/><ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="699"><highlight class="normal">}</highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">TessBaseAPI::Recognize</ref>(<ref refid="class_e_t_e_x_t___d_e_s_c" kindref="compound">ETEXT_DESC</ref>*<sp/>monitor)<sp/>{</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">FindLines</ref>()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>;</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>-&gt;empty())<sp/>{</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/>&amp;<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a143608f482c6c0c4f312740e6a5f5fd9" kindref="member">prev_word_best_choice_</ref>);</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Empty<sp/>page.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a35e62e060c86649e14cdf688d09a0f7a" kindref="member">SetBlackAndWhitelist</ref>();</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_resegment_from_line_boxes)</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ad8d1403d0d4862f9c07fc1eafdd13a00" kindref="member">ApplyBoxes</ref>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>);</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_resegment_from_boxes)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ad8d1403d0d4862f9c07fc1eafdd13a00" kindref="member">ApplyBoxes</ref>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>);</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/>&amp;<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a143608f482c6c0c4f312740e6a5f5fd9" kindref="member">prev_word_best_choice_</ref>);</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_make_boxes_from_boxes)<sp/>{</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aaac7729b5dc17651a6b3ee44689302d5" kindref="member">CorrectClassifyWords</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac7eaed7f3fedb15212eb39b747de0102" kindref="member">truth_cb_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;wordrec_run_blamer.set_value(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac7eaed7f3fedb15212eb39b747de0102" kindref="member">truth_cb_</ref>-&gt;<ref refid="class_tess_callback3_1ac5973fd77da4c98d0fc240427ecc923d" kindref="member">Run</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a635ce00ba9aa24247563d26ae26da631" kindref="member">getUnicharset</ref>(),</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___thresholder_params_1gab7d24a78f3565c5bfb42b2592b9e8df0" kindref="member">image_height_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;interactive_display_mode)<sp/>{</highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#ifndef<sp/>GRAPHICS_DISABLED</highlight></codeline>
<codeline lineno="739"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ab48cff8de587e3a573a327846e57c51d" kindref="member">pgeditor_main</ref>(<ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif<sp/><sp/>//<sp/>GRAPHICS_DISABLED</highlight></codeline>
<codeline lineno="741"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>page_res<sp/>is<sp/>invalid<sp/>after<sp/>an<sp/>interactive<sp/>session,<sp/>so<sp/>cleanup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>a<sp/>way<sp/>that<sp/>lets<sp/>us<sp/>continue<sp/>to<sp/>the<sp/>next<sp/>page<sp/>without<sp/>crashing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>;</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_train_from_boxes)<sp/>{</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a8a81b9367a8ec670835f766f64f773db" kindref="member">ApplyBoxTraining</ref>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_ambigs_training)<sp/>{</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/>*training_output_file<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a4b787b26c3c009f5b2dbfdd9ef5f55d7" kindref="member">init_recog_training</ref>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>);</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>OCR<sp/>the<sp/>page<sp/>segmented<sp/>into<sp/>words<sp/>by<sp/>tesseract.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a02591ce36a6ff477040bf844b4d1d364" kindref="member">recog_training_segmented</ref>(</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/>monitor,<sp/>training_output_file);</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/>fclose(training_output_file);</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>run<sp/>the<sp/>main<sp/>recognition.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1af9c097177e82c5f5495a7dc1506d66ed" kindref="member">recog_all_words</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/>monitor,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0))<sp/>{</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ocropus_add_ons_1ga33cf8d85c3714857bc8753fef035ea95" kindref="member">DetectParagraphs</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="763"><highlight class="normal">}</highlight></codeline>
<codeline lineno="764"><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gaec56194587e149ae38a08eccd2e0d96a" kindref="member">TessBaseAPI::RecognizeForChopTest</ref>(<ref refid="class_e_t_e_x_t___d_e_s_c" kindref="compound">ETEXT_DESC</ref>*<sp/>monitor)<sp/>{</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a4a643445e9ab0e22fabe45308c6d2548" kindref="member" tooltip="Return true if no image has been set. ">IsEmpty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Please<sp/>call<sp/>SetImage<sp/>before<sp/>attempting<sp/>recognition.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">FindLines</ref>()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Additional<sp/>conditions<sp/>under<sp/>which<sp/>chopper<sp/>test<sp/>cannot<sp/>be<sp/>run</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;interactive_display_mode)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="779"><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/>&amp;(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a143608f482c6c0c4f312740e6a5f5fd9" kindref="member">prev_word_best_choice_</ref>));</highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>page_res_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word_res<sp/>=<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;TBOX&gt;</ref><sp/>boxes;</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aab153649250a4b8bd6ffb4e22f44f79f" kindref="member">MaximallyChopWord</ref>(boxes,<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a8a349c5163802e1f127d5c88db044059" kindref="member">block</ref>()-&gt;<ref refid="class_b_l_o_c_k___r_e_s_1ae7c240d4878247ebdfe78433446751bf" kindref="member">block</ref>,</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a312f58081e9410962396160eaf5f90e4" kindref="member">row</ref>()-&gt;<ref refid="class_r_o_w___r_e_s_1ad3a856f3e9217c47b8f2f54cd3908721" kindref="member">row</ref>,<sp/>word_res);</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>();</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="794"><highlight class="normal">}</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gaf89df932c29b0abe4fb4ca3ae852506b" kindref="member">TessBaseAPI::ProcessPages</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>filename,</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>retry_config,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>timeout_millisec,</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>*<sp/><ref refid="namespacetesseract-c__api-demo_1a4cb5504e991035002a887059676c8d14" kindref="member">text_out</ref>)<sp/>{</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>page<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_page_number;</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(page<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/>page<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/>FILE*<sp/>fp<sp/>=<sp/>fopen(filename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fp<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Image<sp/>file<sp/>%s<sp/>cannot<sp/>be<sp/>opened!\n&quot;</highlight><highlight class="normal">),<sp/>filename);</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>number<sp/>of<sp/>pages<sp/>if<sp/>a<sp/>tiff<sp/>file,<sp/>or<sp/>zero<sp/>otherwise.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>npages<sp/>=<sp/><ref refid="imgtiff_8cpp_1a9a7b4b88acbe06eecfea0c8e28797849" kindref="member">CountTiffPages</ref>(fp);</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/>fclose(fp);</highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_create_hocr)<sp/>{</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/>*text_out<sp/>=</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&lt;?xml<sp/>version=\&quot;1.0\&quot;<sp/>encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&lt;!DOCTYPE<sp/>html<sp/>PUBLIC<sp/>\&quot;-//W3C//DTD<sp/>XHTML<sp/>1.0<sp/>Transitional//EN\&quot;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>\&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\&quot;&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&lt;html<sp/>xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;<sp/>xml:lang=\&quot;en\&quot;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;lang=\&quot;en\&quot;&gt;\n<sp/>&lt;head&gt;\n<sp/><sp/>&lt;title&gt;&lt;/title&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&lt;meta<sp/>http-equiv=\&quot;Content-Type\&quot;<sp/>content=\&quot;text/html;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;charset=utf-8\&quot;<sp/>/&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&lt;meta<sp/>name=&apos;ocr-system&apos;<sp/>content=&apos;tesseract<sp/>&quot;</highlight><highlight class="normal"><sp/><ref refid="version_8h_1a1c6d5de492ac61ad29aec7aa9a436bbf" kindref="member">VERSION</ref><sp/></highlight><highlight class="stringliteral">&quot;&apos;<sp/>/&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&lt;meta<sp/>name=&apos;ocr-capabilities&apos;<sp/>content=&apos;ocr_page<sp/>ocr_carea<sp/>ocr_par&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>ocr_line<sp/>ocrx_word<sp/>ocrp_lang<sp/>ocrp_dir&apos;/&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>&lt;/head&gt;\n<sp/>&lt;body&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/>*text_out<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="843"><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/>Pix<sp/>*pix;</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(npages<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>page<sp/>&lt;<sp/>npages<sp/>&amp;&amp;<sp/>(pix<sp/>=<sp/>pixReadTiff(filename,<sp/>page))<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++page)<sp/>{</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((page<sp/>&gt;=<sp/>0)<sp/>&amp;&amp;<sp/>(npages<sp/>&gt;<sp/>1))</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Page<sp/>%d<sp/>of<sp/>%d\n&quot;</highlight><highlight class="normal">),<sp/>page<sp/>+<sp/>1,<sp/>npages);</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>page_str[<ref refid="namespacetesseract_1a3e35711780f8c0254a2dd64071ef2b6b" kindref="member">kMaxIntSize</ref>];</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(page_str,<sp/><ref refid="namespacetesseract_1a3e35711780f8c0254a2dd64071ef2b6b" kindref="member">kMaxIntSize</ref><sp/>-<sp/>1,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>page);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a2e09259c558c6d8e0f7e523cbaf5adf5" kindref="member">SetVariable</ref>(</highlight><highlight class="stringliteral">&quot;applybox_page&quot;</highlight><highlight class="normal">,<sp/>page_str);</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>&amp;=<sp/><ref refid="group___advanced_a_p_i_1ga09be3b61fd89f7803fe37cc420b92b30" kindref="member">ProcessPage</ref>(pix,<sp/>page,<sp/>filename,<sp/>retry_config,</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeout_millisec,<sp/>text_out);</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixDestroy(&amp;pix);</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_page_number<sp/>&gt;=<sp/>0<sp/>||<sp/>npages<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>file<sp/>is<sp/>not<sp/>a<sp/>tiff<sp/>file,<sp/>so<sp/>use<sp/>the<sp/>general<sp/>pixRead<sp/>function.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/>pix<sp/>=<sp/>pixRead(filename);</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pix<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>&amp;=<sp/><ref refid="group___advanced_a_p_i_1ga09be3b61fd89f7803fe37cc420b92b30" kindref="member">ProcessPage</ref>(pix,<sp/>0,<sp/>filename,<sp/>retry_config,</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeout_millisec,<sp/>text_out);</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pixDestroy(&amp;pix);</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>file<sp/>is<sp/>not<sp/>an<sp/>image<sp/>file,<sp/>so<sp/>try<sp/>it<sp/>as<sp/>a<sp/>list<sp/>of<sp/>filenames.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>FILE*<sp/>fimg<sp/>=<sp/>fopen(filename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fimg<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;File<sp/>%s<sp/>cannot<sp/>be<sp/>opened!\n&quot;</highlight><highlight class="normal">),<sp/>filename);</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Reading<sp/>%s<sp/>as<sp/>a<sp/>list<sp/>of<sp/>filenames...\n&quot;</highlight><highlight class="normal">),<sp/>filename);</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>pagename[<ref refid="platform_8h_1ab99ded389af74001a6298fc9e44e74e5" kindref="member">MAX_PATH</ref>];</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Skip<sp/>to<sp/>the<sp/>requested<sp/>page<sp/>number.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>page<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fgets(pagename,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pagename),<sp/>fimg)<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++i);</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(fgets(pagename,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pagename),<sp/>fimg)<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="helpers_8h_1a31bec0ef73dd383e256fa462e9fa7e1f" kindref="member">chomp_string</ref>(pagename);</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pix<sp/>=<sp/>pixRead(pagename);</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pix<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Image<sp/>file<sp/>%s<sp/>cannot<sp/>be<sp/>read!\n&quot;</highlight><highlight class="normal">),<sp/>pagename);</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose(fimg);</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(<ref refid="baseapi_8cpp_1af20b8d139279b360b0fdeae71f8f43bc" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Page<sp/>%d<sp/>:<sp/>%s\n&quot;</highlight><highlight class="normal">),<sp/>page,<sp/>pagename);</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>&amp;=<sp/><ref refid="group___advanced_a_p_i_1ga09be3b61fd89f7803fe37cc420b92b30" kindref="member">ProcessPage</ref>(pix,<sp/>page,<sp/>pagename,<sp/>retry_config,</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeout_millisec,<sp/>text_out);</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pixDestroy(&amp;pix);</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++page;</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fclose(fimg);</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_create_hocr)</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/>*text_out<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&lt;/body&gt;\n&lt;/html&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>success;</highlight></codeline>
<codeline lineno="901"><highlight class="normal">}</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga09be3b61fd89f7803fe37cc420b92b30" kindref="member">TessBaseAPI::ProcessPage</ref>(Pix*<sp/>pix,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>page_index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>filename,</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>retry_config,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>timeout_millisec,</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>*<sp/>text_out)<sp/>{</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a896312e68d246b58e704a8f5576e6917" kindref="member">SetInputName</ref>(filename);</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><ref refid="group___advanced_a_p_i_1gaa463622111f3b11d8fca5863709cc699" kindref="member">SetImage</ref>(pix);</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>failed<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timeout_millisec<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Running<sp/>with<sp/>a<sp/>timeout.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_e_t_e_x_t___d_e_s_c" kindref="compound">ETEXT_DESC</ref><sp/>monitor;</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/>monitor.<ref refid="class_e_t_e_x_t___d_e_s_c_1afcea4319ceed9b37f3c43eec9ec5d55a" kindref="member">cancel</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/>monitor.<ref refid="class_e_t_e_x_t___d_e_s_c_1a4844a3e9868a0fde7ad2fcaa37f5c5f1" kindref="member">cancel_this</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/>monitor.<ref refid="class_e_t_e_x_t___d_e_s_c_1acbbc24327ecc909b78274d339c27236e" kindref="member">set_deadline_msecs</ref>(timeout_millisec);</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>run<sp/>the<sp/>main<sp/>recognition.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/>failed<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(&amp;monitor)<sp/>&lt;<sp/>0;</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_pageseg_mode<sp/>==<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aa319d6168eaa4b2002ac84c0558ba947d" kindref="member" tooltip="Orientation and script detection only. ">PSM_OSD_ONLY</ref><sp/>||</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_pageseg_mode<sp/>==<sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66aa6c70374f53473ba410723e32b12f3f01" kindref="member" tooltip="Automatic page segmentation, but no OSD, or OCR. ">PSM_AUTO_ONLY</ref>)<sp/>{</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Disabled<sp/>character<sp/>recognition.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_page_iterator" kindref="compound">PageIterator</ref>*<sp/>it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1gaaac2abf8505c89afb8466dc3cff2c666" kindref="member">AnalyseLayout</ref>();</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>failed<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>it;</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Normal<sp/>layout<sp/>and<sp/>character<sp/>recognition<sp/>with<sp/>no<sp/>timeout.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/>failed<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0;</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_write_images)<sp/>{</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/>Pix*<sp/>page_pix<sp/>=<sp/><ref refid="group___advanced_a_p_i_1gaee19c9ea78a647420bbe99a447569995" kindref="member">GetThresholdedImage</ref>();</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/>pixWrite(</highlight><highlight class="stringliteral">&quot;tessinput.tif&quot;</highlight><highlight class="normal">,<sp/>page_pix,<sp/>IFF_TIFF_G4);</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(failed<sp/>&amp;&amp;<sp/>retry_config<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>retry_config[0]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Save<sp/>current<sp/>config<sp/>variables<sp/>before<sp/>switching<sp/>modes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/>fp<sp/>=<sp/>fopen(<ref refid="namespacetesseract_1a46ecbfaef9e549b16cd97fee9d4614d2" kindref="member">kOldVarsFile</ref>,<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aa00be783b6ce3c3178fc86afdf1cba7d" kindref="member">PrintVariables</ref>(fp);</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/>fclose(fp);</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Switch<sp/>to<sp/>alternate<sp/>mode<sp/>for<sp/>retry.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ab3bd61f8ccb7c4e1c41801ea708d2181" kindref="member">ReadConfigFile</ref>(retry_config);</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group___advanced_a_p_i_1gaa463622111f3b11d8fca5863709cc699" kindref="member">SetImage</ref>(pix);</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Restore<sp/>saved<sp/>config<sp/>variables.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ab3bd61f8ccb7c4e1c41801ea708d2181" kindref="member">ReadConfigFile</ref>(<ref refid="namespacetesseract_1a46ecbfaef9e549b16cd97fee9d4614d2" kindref="member">kOldVarsFile</ref>);</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>text<sp/>only<sp/>if<sp/>successful.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!failed)<sp/>{</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>text;</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_create_boxfile<sp/>||</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_make_boxes_from_boxes)<sp/>{</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/><ref refid="group___advanced_a_p_i_1gaadda8cd6abe770d2f6a70a18329b1973" kindref="member">GetBoxText</ref>(page_index);</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_write_unlv)<sp/>{</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga173b4289191b6c2faf2a4a4b7c94affc" kindref="member">GetUNLVText</ref>();</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_create_hocr)<sp/>{</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga655f906bbf64dcd6f33ce633ecce997d" kindref="member">GetHOCRText</ref>(page_index);</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga115ef656f83352ba608b4f0bf9cfa2c4" kindref="member">GetUTF8Text</ref>();</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/>*text_out<sp/>+=<sp/>text;</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/>text;</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="976"><highlight class="normal">}</highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><ref refid="classtesseract_1_1_l_t_r_result_iterator" kindref="compound">LTRResultIterator</ref>*<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7a9b7f45f94801d7891035bf38d4861" kindref="member">TessBaseAPI::GetLTRIterator</ref>()<sp/>{</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_l_t_r_result_iterator" kindref="compound">LTRResultIterator</ref>(</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>,</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a7d8c733e8624ebc10e74ec2afd517398" kindref="member">GetScaleFactor</ref>(),<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a2fb94a4d1697c06bff68e33269297c59" kindref="member">GetScaledYResolution</ref>(),</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>,<sp/><ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>,<sp/><ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>);</highlight></codeline>
<codeline lineno="989"><highlight class="normal">}</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal"><ref refid="classtesseract_1_1_result_iterator" kindref="compound">ResultIterator</ref>*<sp/><ref refid="group___advanced_a_p_i_1ga52eee8b9a4f147c26e4b64c16b46bc04" kindref="member">TessBaseAPI::GetIterator</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_result_iterator_1a961e7ee57edae85e855332a301cccacf" kindref="member">ResultIterator::StartOfParagraph</ref>(<ref refid="classtesseract_1_1_l_t_r_result_iterator" kindref="compound">LTRResultIterator</ref>(</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>,</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a7d8c733e8624ebc10e74ec2afd517398" kindref="member">GetScaleFactor</ref>(),<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a2fb94a4d1697c06bff68e33269297c59" kindref="member">GetScaledYResolution</ref>(),</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>,<sp/><ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>,<sp/><ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>));</highlight></codeline>
<codeline lineno="1006"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><ref refid="classtesseract_1_1_mutable_iterator" kindref="compound">MutableIterator</ref>*<sp/><ref refid="group___advanced_a_p_i_1ga29906219f78adc7fd76a83bde37e09eb" kindref="member">TessBaseAPI::GetMutableIterator</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_mutable_iterator" kindref="compound">MutableIterator</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>,</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a7d8c733e8624ebc10e74ec2afd517398" kindref="member">GetScaleFactor</ref>(),</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a2fb94a4d1697c06bff68e33269297c59" kindref="member">GetScaledYResolution</ref>(),</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>,<sp/><ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>,<sp/><ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>);</highlight></codeline>
<codeline lineno="1023"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1ga115ef656f83352ba608b4f0bf9cfa2c4" kindref="member">TessBaseAPI::GetUTF8Text</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>&amp;&amp;<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>text(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_result_iterator" kindref="compound">ResultIterator</ref><sp/>*it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga52eee8b9a4f147c26e4b64c16b46bc04" kindref="member">GetIterator</ref>();</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it-&gt;<ref refid="classtesseract_1_1_page_iterator_1ae1d2f1725fabeafb6e235ccb482d47d6" kindref="member">Empty</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*para_text<sp/>=<sp/>it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a7a35dd667c73efeeaf7457df90c6199a" kindref="member">GetUTF8Text</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>);</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/>text<sp/>+=<sp/>para_text;</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]para_text;</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(it-&gt;<ref refid="classtesseract_1_1_result_iterator_1abd8987e2387f1945b53cf23f99b663e1" kindref="member">Next</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>));</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>result<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[text.<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>()<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/>strncpy(result,<sp/>text.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>text.<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>()<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>it;</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1042"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"></highlight></codeline>
<codeline lineno="1044"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AddBoxTohOCR(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_page_iterator" kindref="compound">PageIterator</ref><sp/>*it,</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7" kindref="member">PageIteratorLevel</ref><sp/>level,</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>*<sp/>hocr_str)<sp/>{</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/>top,<sp/>right,<sp/>bottom;</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/>it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a38f6d7da2a9b9ef8983286383729fa73" kindref="member">BoundingBox</ref>(level,<sp/>&amp;left,<sp/>&amp;top,<sp/>&amp;right,<sp/>&amp;bottom);</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/>hocr_str-&gt;<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;&apos;<sp/>title=\&quot;bbox<sp/>&quot;</highlight><highlight class="normal">,<sp/>left);</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/>hocr_str-&gt;<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>top);</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/>hocr_str-&gt;<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>right);</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/>hocr_str-&gt;<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>bottom);</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/>*hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1054"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1ga655f906bbf64dcd6f33ce633ecce997d" kindref="member">TessBaseAPI::GetHOCRText</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>page_number)<sp/>{</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>lcnt<sp/>=<sp/>1,<sp/>bcnt<sp/>=<sp/>1,<sp/>pcnt<sp/>=<sp/>1,<sp/>wcnt<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>page_id<sp/>=<sp/>page_number<sp/>+<sp/>1;<sp/><sp/></highlight><highlight class="comment">//<sp/>hOCR<sp/>uses<sp/>1-based<sp/>page<sp/>numbers.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>hocr_str(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"></highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a896312e68d246b58e704a8f5576e6917" kindref="member">SetInputName</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"></highlight></codeline>
<codeline lineno="1077"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/>#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="1078"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>convert<sp/>input<sp/>name<sp/>from<sp/>ANSI<sp/>encoding<sp/>to<sp/>utf-8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>str16_len<sp/>=<sp/>MultiByteToWideChar(CP_ACP,<sp/>0,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>-1,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>*uni16_str<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>WCHAR[str16_len];</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>str16_len<sp/>=<sp/>MultiByteToWideChar(CP_ACP,<sp/>0,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/>-1,<sp/>uni16_str,<sp/>str16_len);</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>utf8_len<sp/>=<sp/>WideCharToMultiByte(CP_UTF8,<sp/>0,<sp/>uni16_str,<sp/>str16_len,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*utf8_str<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[utf8_len];</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>WideCharToMultiByte(CP_UTF8,<sp/>0,<sp/>uni16_str,<sp/>str16_len,<sp/>utf8_str,<sp/>utf8_len,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>=<sp/>utf8_str;</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>uni16_str;</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>utf8_str;</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/>#endif</highlight></codeline>
<codeline lineno="1090"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>&lt;div<sp/>class=&apos;ocr_page&apos;<sp/>id=&apos;page_&quot;</highlight><highlight class="normal">,<sp/>page_id);</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&apos;<sp/>title=&apos;image<sp/>\&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/>hocr_str<sp/>+=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>?<sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;unknown&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;\&quot;;<sp/>bbox<sp/>&quot;</highlight><highlight class="normal">,<sp/><ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>);</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/><ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>);</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/><ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>);</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/><ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>);</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;;<sp/>ppageno<sp/>&quot;</highlight><highlight class="normal">,<sp/>page_number);</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&apos;&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_result_iterator" kindref="compound">ResultIterator</ref><sp/>*res_it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga52eee8b9a4f147c26e4b64c16b46bc04" kindref="member">GetIterator</ref>();</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!res_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1ae1d2f1725fabeafb6e235ccb482d47d6" kindref="member">Empty</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1ae1d2f1725fabeafb6e235ccb482d47d6" kindref="member">Empty</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1abd8987e2387f1945b53cf23f99b663e1" kindref="member">Next</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>);</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"></highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Open<sp/>any<sp/>new<sp/>block/paragraph/textline.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a983b601204f2fee0428213c4fca779e1" kindref="member">IsAtBeginningOf</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>&lt;div<sp/>class=&apos;ocr_carea&apos;<sp/>id=&apos;block_&quot;</highlight><highlight class="normal">,<sp/>bcnt);</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal">,<sp/>bcnt);</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AddBoxTohOCR(res_it,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>,<sp/>&amp;hocr_str);</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a983b601204f2fee0428213c4fca779e1" kindref="member">IsAtBeginningOf</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a71525d396c6cdeea89f576adca599474" kindref="member">ParagraphIsLtr</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;\n<sp/><sp/><sp/><sp/>&lt;p<sp/>class=&apos;ocr_par&apos;<sp/>dir=&apos;ltr&apos;<sp/>id=&apos;par_&quot;</highlight><highlight class="normal">,<sp/>pcnt);</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;\n<sp/><sp/><sp/><sp/>&lt;p<sp/>class=&apos;ocr_par&apos;<sp/>dir=&apos;rtl&apos;<sp/>id=&apos;par_&quot;</highlight><highlight class="normal">,<sp/>pcnt);</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AddBoxTohOCR(res_it,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>,<sp/>&amp;hocr_str);</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a983b601204f2fee0428213c4fca779e1" kindref="member">IsAtBeginningOf</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a5e87a35f16de644593c353159ede11d1" kindref="member">RIL_TEXTLINE</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;\n<sp/><sp/><sp/><sp/><sp/>&lt;span<sp/>class=&apos;ocr_line&apos;<sp/>id=&apos;line_&quot;</highlight><highlight class="normal">,<sp/>lcnt);</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AddBoxTohOCR(res_it,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a5e87a35f16de644593c353159ede11d1" kindref="member">RIL_TEXTLINE</ref>,<sp/>&amp;hocr_str);</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"></highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now,<sp/>process<sp/>the<sp/>word...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;&lt;span<sp/>class=&apos;ocrx_word&apos;<sp/>id=&apos;word_&quot;</highlight><highlight class="normal">,<sp/>wcnt);</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/>top,<sp/>right,<sp/>bottom;</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>res_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a38f6d7da2a9b9ef8983286383729fa73" kindref="member">BoundingBox</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>,<sp/>&amp;left,<sp/>&amp;top,<sp/>&amp;right,<sp/>&amp;bottom);</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;&apos;<sp/>title=&apos;bbox<sp/>&quot;</highlight><highlight class="normal">,<sp/>left);</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>top);</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>right);</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,<sp/>bottom);</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a779cd637dd42d58d5500a3a657077e84" kindref="member">add_str_int</ref>(</highlight><highlight class="stringliteral">&quot;;<sp/>x_wconf<sp/>&quot;</highlight><highlight class="normal">,<sp/>res_it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1a8accedf05e11e8ce3f738fff8524e9a9" kindref="member">Confidence</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>));</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1aaa90986eff784899c4a7e538c792ce86" kindref="member">WordRecognitionLanguage</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/>lang=&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1aaa90986eff784899c4a7e538c792ce86" kindref="member">WordRecognitionLanguage</ref>();</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(res_it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1a95496fbd3bf9634585cae793237595df" kindref="member">WordDirection</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="unichar_8h_1abc3119a959ecd5cffc1d9b9d57479dbaa5978cd698552a6106db1bf6528617317" kindref="member">DIR_LEFT_TO_RIGHT</ref>:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/>dir=&apos;ltr&apos;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="unichar_8h_1abc3119a959ecd5cffc1d9b9d57479dbaa3c6da23f98ab8ac48598c21583d9297e" kindref="member">DIR_RIGHT_TO_LEFT</ref>:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/>dir=&apos;rtl&apos;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*font_name;</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bold,<sp/>italic,<sp/>underlined,<sp/>monospace,<sp/>serif,<sp/>smallcaps;</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pointsize,<sp/>font_id;</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/>font_name<sp/>=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1ad38e4b44797617e01ad4aab01765720e" kindref="member">WordFontAttributes</ref>(&amp;bold,<sp/>&amp;italic,<sp/>&amp;underlined,</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;monospace,<sp/>&amp;serif,<sp/>&amp;smallcaps,</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pointsize,<sp/>&amp;font_id);</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>last_word_in_line<sp/>=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a4ba47a7d01d3bc7f0fbf777605f8297d" kindref="member">IsAtFinalElement</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a5e87a35f16de644593c353159ede11d1" kindref="member">RIL_TEXTLINE</ref>,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>);</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>last_word_in_para<sp/>=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a4ba47a7d01d3bc7f0fbf777605f8297d" kindref="member">IsAtFinalElement</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a3e63980691bf64801c704f59bd795bd9" kindref="member">RIL_PARA</ref>,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>);</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>last_word_in_block<sp/>=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a4ba47a7d01d3bc7f0fbf777605f8297d" kindref="member">IsAtFinalElement</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>,<sp/><ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>);</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bold)<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&lt;strong&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(italic)<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&lt;em&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*grapheme<sp/>=<sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a7a35dd667c73efeeaf7457df90c6199a" kindref="member">GetUTF8Text</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>);</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(grapheme<sp/>&amp;&amp;<sp/>grapheme[0]<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(grapheme[1]<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(grapheme[0])<sp/>{</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;&lt;&apos;</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&amp;lt;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;&gt;&apos;</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&amp;gt;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;&amp;&apos;</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&amp;amp;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;&quot;&apos;</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&amp;quot;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;\&apos;&apos;</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&amp;#39;&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/>hocr_str<sp/>+=<sp/>grapheme;</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/>grapheme;</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]grapheme;</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1abd8987e2387f1945b53cf23f99b663e1" kindref="member">Next</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>);</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!res_it-&gt;<ref refid="classtesseract_1_1_page_iterator_1ae1d2f1725fabeafb6e235ccb482d47d6" kindref="member">Empty</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>)<sp/>&amp;&amp;<sp/>!res_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1a983b601204f2fee0428213c4fca779e1" kindref="member">IsAtBeginningOf</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7afd466aec253e5daa6f0c112b0f0e0610" kindref="member">RIL_WORD</ref>));</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(italic)<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&lt;/em&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bold)<sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&lt;/strong&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;&lt;/span&gt;<sp/>&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/>wcnt++;</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Close<sp/>any<sp/>ending<sp/>block/paragraph/textline.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last_word_in_line)<sp/>{</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;\n<sp/><sp/><sp/><sp/><sp/>&lt;/span&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>lcnt++;</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last_word_in_para)<sp/>{</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;\n<sp/><sp/><sp/><sp/>&lt;/p&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pcnt++;</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last_word_in_block)<sp/>{</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>&lt;/div&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bcnt++;</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/>hocr_str<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&lt;/div&gt;\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"></highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*ret<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[hocr_str.<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>()<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/>strcpy(ret,<sp/>hocr_str.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>());</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>res_it;</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1201"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"></highlight></codeline>
<codeline lineno="1204"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1aa46d9454c58be9a34a7a91737d553900" kindref="member">kNumbersPerBlob</ref><sp/>=<sp/>5;</highlight></codeline>
<codeline lineno="1209"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a929cce152875849d022496470235b437" kindref="member">kBytesPerNumber</ref><sp/>=<sp/>5;</highlight></codeline>
<codeline lineno="1215"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1ada8c39277dfe2d8bd85135eaa66f9047" kindref="member">kBytesPerBlob</ref><sp/>=<sp/><ref refid="namespacetesseract_1aa46d9454c58be9a34a7a91737d553900" kindref="member">kNumbersPerBlob</ref><sp/>*<sp/>(<ref refid="namespacetesseract_1a929cce152875849d022496470235b437" kindref="member">kBytesPerNumber</ref><sp/>+<sp/>1)<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a294e870871cf3fb0928cbd5686346b3d" kindref="member">kBytesPerBoxFileLine</ref><sp/>=<sp/>(<ref refid="namespacetesseract_1a929cce152875849d022496470235b437" kindref="member">kBytesPerNumber</ref><sp/>+<sp/>1)<sp/>*<sp/><ref refid="namespacetesseract_1aa46d9454c58be9a34a7a91737d553900" kindref="member">kNumbersPerBlob</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="1218"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a6007ea2fe11067865156fb804c36079e" kindref="member">kBytesPer64BitNumber</ref><sp/>=<sp/>20;</highlight></codeline>
<codeline lineno="1225"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a688dc51b653c642009af87c6d9b9dea2" kindref="member">kMaxBytesPerLine</ref><sp/>=<sp/><ref refid="namespacetesseract_1aa46d9454c58be9a34a7a91737d553900" kindref="member">kNumbersPerBlob</ref><sp/>*<sp/>(<ref refid="namespacetesseract_1a6007ea2fe11067865156fb804c36079e" kindref="member">kBytesPer64BitNumber</ref><sp/>+<sp/>1)<sp/>+<sp/>1<sp/>+</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="unichar_8h_1a902bc40c9d89802bc063afe30ce9e708" kindref="member">UNICHAR_LEN</ref>;</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"></highlight></codeline>
<codeline lineno="1233"><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1gaadda8cd6abe770d2f6a70a18329b1973" kindref="member">TessBaseAPI::GetBoxText</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>page_number)<sp/>{</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>&amp;&amp;<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>blob_count;</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>utf8_length<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aed3d481fc0c7dffad24572bd1f449598" kindref="member">TextLength</ref>(&amp;blob_count);</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>total_length<sp/>=<sp/>blob_count<sp/>*<sp/><ref refid="namespacetesseract_1a294e870871cf3fb0928cbd5686346b3d" kindref="member">kBytesPerBoxFileLine</ref><sp/>+<sp/>utf8_length<sp/>+</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a688dc51b653c642009af87c6d9b9dea2" kindref="member">kMaxBytesPerLine</ref>;</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>result<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[total_length];</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/>strcpy(result,<sp/></highlight><highlight class="stringliteral">&quot;\0&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>output_length<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_l_t_r_result_iterator" kindref="compound">LTRResultIterator</ref>*<sp/>it<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7a9b7f45f94801d7891035bf38d4861" kindref="member">GetLTRIterator</ref>();</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/>top,<sp/>right,<sp/>bottom;</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a38f6d7da2a9b9ef8983286383729fa73" kindref="member">BoundingBox</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>,<sp/>&amp;left,<sp/>&amp;top,<sp/>&amp;right,<sp/>&amp;bottom))<sp/>{</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>text<sp/>=<sp/>it-&gt;<ref refid="classtesseract_1_1_l_t_r_result_iterator_1a48717a8736c388b8f86d617dd4d1e3b6" kindref="member">GetUTF8Text</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>);</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Tesseract<sp/>uses<sp/>space<sp/>for<sp/>recognition<sp/>failure.<sp/>Fix<sp/>to<sp/>a<sp/>reject</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>character,<sp/>kTesseractReject<sp/>so<sp/>we<sp/>don&apos;t<sp/>create<sp/>illegal<sp/>box<sp/>files.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>text[i]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(text[i]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text[i]<sp/>=<sp/><ref refid="namespacetesseract_1a1083ed81b6adbb6930e87d0c58671e26" kindref="member">kTesseractReject</ref>;</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(result<sp/>+<sp/>output_length,<sp/>total_length<sp/>-<sp/>output_length,</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>%d<sp/>%d<sp/>%d<sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text,<sp/>left,<sp/><ref refid="group___thresholder_params_1gab7d24a78f3565c5bfb42b2592b9e8df0" kindref="member">image_height_</ref><sp/>-<sp/>bottom,</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>right,<sp/><ref refid="group___thresholder_params_1gab7d24a78f3565c5bfb42b2592b9e8df0" kindref="member">image_height_</ref><sp/>-<sp/>top,<sp/>page_number);</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>output_length<sp/>+=<sp/>strlen(result<sp/>+<sp/>output_length);</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/>text;</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Just<sp/>in<sp/>case...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(output_length<sp/>+<sp/>kMaxBytesPerLine<sp/>&gt;<sp/>total_length)</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(it-&gt;<ref refid="classtesseract_1_1_page_iterator_1a415ea7c61e24868bc67e676184be0bb9" kindref="member">Next</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7adbd62c7f34a9ebdd6e3b813a34cd812d" kindref="member">RIL_SYMBOL</ref>));</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>it;</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1afa62cc25480d6eee8b1bb2ef4a1f8fc3" kindref="member">kUniChs</ref>[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/>0x20ac,<sp/>0x201c,<sp/>0x201d,<sp/>0x2018,<sp/>0x2019,<sp/>0x2022,<sp/>0x2014,<sp/>0</highlight></codeline>
<codeline lineno="1277"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1279"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacetesseract_1a7e0c7c50e2e05e503a51b8c33d35ade6" kindref="member">kLatinChs</ref>[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/>0x00a2,<sp/>0x0022,<sp/>0x0022,<sp/>0x0027,<sp/>0x0027,<sp/>0x00b7,<sp/>0x002d,<sp/>0</highlight></codeline>
<codeline lineno="1281"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"></highlight></codeline>
<codeline lineno="1288"><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1ga173b4289191b6c2faf2a4a4b7c94affc" kindref="member">TessBaseAPI::GetUNLVText</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>&amp;&amp;<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>tilde_crunch_written<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>last_char_was_newline<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"></highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>total_length<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aed3d481fc0c7dffad24572bd1f449598" kindref="member">TextLength</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/><sp/><sp/>page_res_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>result<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[total_length];</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>ptr<sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a15febd45d0904bb3c5f7d506368177f0" kindref="member">restart_page</ref>();<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref><sp/>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word<sp/>=<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Process<sp/>the<sp/>current<sp/>word.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a82d32a9f59bc1c08da9537303c56615b" kindref="member">unlv_crunch_mode</ref><sp/>!=<sp/><ref refid="pageres_8h_1affc9a96d31e23e645355e534f11c40e9a1eac25752f2c55f1809d11d4ef917ff9" kindref="member">CR_NONE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a82d32a9f59bc1c08da9537303c56615b" kindref="member">unlv_crunch_mode</ref><sp/>!=<sp/><ref refid="pageres_8h_1affc9a96d31e23e645355e534f11c40e9a1799c83261446306e1d1527f1779d6a4" kindref="member">CR_DELETE</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!tilde_crunch_written<sp/>||</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a82d32a9f59bc1c08da9537303c56615b" kindref="member">unlv_crunch_mode</ref><sp/>==<sp/><ref refid="pageres_8h_1affc9a96d31e23e645355e534f11c40e9ad0198ebd5b9e3299dd94f0c5f4d3e003" kindref="member">CR_KEEP_SPACE</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1ab2979974cf23f5c66f4e77cc51f2e189" kindref="member">space</ref>()<sp/>&gt;<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0bea675eadd051ea82d1f288751799bfa31c" kindref="member">W_FUZZY_NON</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0bea3580884b5b0335502fb928db4a0a2024" kindref="member">W_FUZZY_SP</ref>))))<sp/>{</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0beaff21d7c8c8992120fff35942408a00d2" kindref="member">W_BOL</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1ab2979974cf23f5c66f4e77cc51f2e189" kindref="member">space</ref>()<sp/>&gt;<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0bea675eadd051ea82d1f288751799bfa31c" kindref="member">W_FUZZY_NON</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0bea3580884b5b0335502fb928db4a0a2024" kindref="member">W_FUZZY_SP</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>a<sp/>space<sp/>to<sp/>separate<sp/>from<sp/>preceeding<sp/>good<sp/>text<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!last_char_was_tilde)<sp/>{</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>a<sp/>reject<sp/>char.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/><ref refid="namespacetesseract_1a99bec48b41ccb504c28851dbe5b1f106" kindref="member">kUNLVReject</ref>;</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tilde_crunch_written<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_newline<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NORMAL<sp/>PROCESSING<sp/>of<sp/>non<sp/>tilde<sp/>crunched<sp/>words.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tilde_crunch_written<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a2888f59985750554a12f173073305ad3" kindref="member">set_unlv_suspects</ref>(word);</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>wordstr<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a41d740f0accccdfb245d34d554122116" kindref="member">unichar_string</ref>().<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>();</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>&amp;<sp/>lengths<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a93ab94b6fa6d5c0469fb52d66c62968c" kindref="member">unichar_lengths</ref>();</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>length<sp/>=<sp/>lengths.<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>();</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>offset<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"></highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last_char_was_tilde<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1ab2979974cf23f5c66f4e77cc51f2e189" kindref="member">space</ref>()<sp/>==<sp/>0<sp/>&amp;&amp;<sp/>wordstr[offset]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Prevent<sp/>adjacent<sp/>tilde<sp/>across<sp/>words<sp/>-<sp/>we<sp/>know<sp/>that<sp/>adjacent<sp/>tildes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>within<sp/>words<sp/>have<sp/>been<sp/>removed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Skip<sp/>the<sp/>first<sp/>character.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>lengths[i++];</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>length<sp/>&amp;&amp;<sp/>wordstr[offset]<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!last_char_was_newline)</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_newline<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;<sp/>i<sp/>&lt;<sp/>length;<sp/>offset<sp/>+=<sp/>lengths[i++])<sp/>{</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wordstr[offset]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal"><sp/>||</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wordstr[offset]<sp/>==<sp/><ref refid="namespacetesseract_1a1083ed81b6adbb6930e87d0c58671e26" kindref="member">kTesseractReject</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/><ref refid="namespacetesseract_1a99bec48b41ccb504c28851dbe5b1f106" kindref="member">kUNLVReject</ref>;</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1ae24eb58be06cf275aee411d947fd31ef" kindref="member">reject_map</ref>[i].rejected())</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/><ref refid="namespacetesseract_1af7e73b761f145b66ffcc7585ed69d940" kindref="member">kUNLVSuspect</ref>;</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_u_n_i_c_h_a_r" kindref="compound">UNICHAR</ref><sp/>ch(wordstr<sp/>+<sp/>offset,<sp/>lengths[i]);</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>uni_ch<sp/>=<sp/>ch.<ref refid="class_u_n_i_c_h_a_r_1a59ffb904d7e604da0fea3fad1c63ee64" kindref="member">first_uni</ref>();</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>0;<sp/><ref refid="namespacetesseract_1afa62cc25480d6eee8b1bb2ef4a1f8fc3" kindref="member">kUniChs</ref>[j]<sp/>!=<sp/>0;<sp/>++j)<sp/>{</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacetesseract_1afa62cc25480d6eee8b1bb2ef4a1f8fc3" kindref="member">kUniChs</ref>[j]<sp/>==<sp/>uni_ch)<sp/>{</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uni_ch<sp/>=<sp/><ref refid="namespacetesseract_1a7e0c7c50e2e05e503a51b8c33d35ade6" kindref="member">kLatinChs</ref>[j];</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uni_ch<sp/>&lt;=<sp/>0xff)<sp/>{</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">char</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(uni_ch);</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/><ref refid="namespacetesseract_1a99bec48b41ccb504c28851dbe5b1f106" kindref="member">kUNLVReject</ref>;</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a81edde8597a3d9fd8a664d703d332c41" kindref="member">flag</ref>(<ref refid="werd_8h_1ad6968adbf8f2cc44adf333ec96efb0bea62efb985a62d85e014ee5ab039dd50ce" kindref="member">W_EOL</ref>)<sp/>&amp;&amp;<sp/>!last_char_was_newline)<sp/>{</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>a<sp/>new<sp/>line<sp/>output<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*ptr++<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tilde_crunch_written<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_newline<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>last_char_was_tilde<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/>*ptr++<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/>*ptr<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1387"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"></highlight></codeline>
<codeline lineno="1390"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga027054e6176889ff49a7108e174fce0f" kindref="member">TessBaseAPI::MeanTextConf</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>conf<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga4a67a12db21b3569b2b50ad05b9e146a" kindref="member">AllWordConfidences</ref>();</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!conf)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sum<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*pt<sp/>=<sp/>conf;</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(*pt<sp/>&gt;=<sp/>0)<sp/>sum<sp/>+=<sp/>*pt++;</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pt<sp/>!=<sp/>conf)<sp/>sum<sp/>/=<sp/>pt<sp/>-<sp/>conf;</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/>conf;</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sum;</highlight></codeline>
<codeline lineno="1399"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1ga4a67a12db21b3569b2b50ad05b9e146a" kindref="member">TessBaseAPI::AllWordConfidences</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>&amp;&amp;<sp/><ref refid="group___advanced_a_p_i_1ga0e4065c20b142d69a2324ee0c74ae0b0" kindref="member">Recognize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_word<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>res_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a15febd45d0904bb3c5f7d506368177f0" kindref="member">restart_page</ref>();<sp/>res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/>res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>())</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/>n_word++;</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>conf<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n_word+1];</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/>n_word<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a15febd45d0904bb3c5f7d506368177f0" kindref="member">restart_page</ref>();<sp/>res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/>res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word<sp/>=<sp/>res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref>*<sp/>choice<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>;</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w_conf<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(100<sp/>+<sp/>5<sp/>*<sp/>choice-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a1b25ef2b44d21a7204483a7ca804f293" kindref="member">certainty</ref>());</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>the<sp/>eq<sp/>for<sp/>converting<sp/>Tesseract<sp/>confidence<sp/>to<sp/>1..100</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(w_conf<sp/>&lt;<sp/>0)<sp/>w_conf<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(w_conf<sp/>&gt;<sp/>100)<sp/>w_conf<sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/>conf[n_word++]<sp/>=<sp/>w_conf;</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/>conf[n_word]<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>conf;</highlight></codeline>
<codeline lineno="1424"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"></highlight></codeline>
<codeline lineno="1436"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gab8c2ee5d614382f0d25deb9a7adfe199" kindref="member">TessBaseAPI::AdaptToWordStr</ref>(<ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/>mode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>wordstr)<sp/>{</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>debug<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a5923cccbe20988f0f99072844d1af573" kindref="member">GetIntVariable</ref>(</highlight><highlight class="stringliteral">&quot;applybox_debug&quot;</highlight><highlight class="normal">,<sp/>&amp;debug);</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><ref refid="namespacetesseract_1a338d4c8b5d497b5ec3e6e4269d8ac66a" kindref="member">PageSegMode</ref><sp/>current_psm<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a943206e3548bfb517c67354ee50661f3" kindref="member">GetPageSegMode</ref>();</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a15a7a9c1afbba3078a55b4566de891ab" kindref="member">SetPageSegMode</ref>(mode);</highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a2e09259c558c6d8e0f7e523cbaf5adf5" kindref="member">SetVariable</ref>(</highlight><highlight class="stringliteral">&quot;classify_enable_learning&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>text<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga115ef656f83352ba608b4f0bf9cfa2c4" kindref="member">GetUTF8Text</ref>();</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug)<sp/>{</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Trying<sp/>to<sp/>adapt<sp/>\&quot;%s\&quot;<sp/>to<sp/>\&quot;%s\&quot;\n&quot;</highlight><highlight class="normal">,<sp/>text,<sp/>wordstr);</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(text<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref>*<sp/>word_res<sp/>=<sp/>it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word_res<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a5decd0b33533bf908c26ad4b10336fb0" kindref="member">set_text</ref>(wordstr);</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>to<sp/>see<sp/>if<sp/>text<sp/>matches<sp/>wordstr.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(t<sp/>=<sp/>0;<sp/>text[t]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;<sp/>++t)<sp/>{</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(text[t]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal"><sp/>||<sp/>text[t]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(wordstr[w]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>wordstr[w]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++w;</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(text[t]<sp/>!=<sp/>wordstr[w])</highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++w;</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(text[t]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal"><sp/>||<sp/>wordstr[w]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>match.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>;</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;TBOX&gt;</ref><sp/>boxes;</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a8dea5db2452f327200936d6e9f2ab593" kindref="member">SetupApplyBoxes</ref>(boxes,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>);</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a6193fb469b62b12c1b999194fc5cd569" kindref="member">ReSegmentByClassification</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a420654e409a9d28fd133515b5f3ed2c3" kindref="member">TidyUp</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>pr_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pr_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>()<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>word_res<sp/>=<sp/>pr_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>word_res-&gt;<ref refid="class_w_e_r_d___r_e_s_1a8d4f5c6ed2c60b756a5c63e091cd331c" kindref="member">BestChoiceToCorrectText</ref>();</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(success)<sp/>{</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a7d0ccfd06421346d8cda0f1b76fd8516" kindref="member">EnableLearning</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1abbbd86871758c036d7ba2af682abb45f" kindref="member">LearnWord</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>word_res);</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/>text;</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a15a7a9c1afbba3078a55b4566de891ab" kindref="member">SetPageSegMode</ref>(current_psm);</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>success;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"></highlight></codeline>
<codeline lineno="1500"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga953b401286da174e609f09c5f275734e" kindref="member">TessBaseAPI::Clear</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1afe5b51a09de405a0fc04b1d72c3c908d" kindref="member" tooltip="Destroy the Pix if there is one, freeing memory. ">Clear</ref>();</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="1504"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1512"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga38027513ee9c0348de1790bddcdc3391" kindref="member">TessBaseAPI::End</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>;</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>;</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>;</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref>-&gt;<ref refid="class_generic_vector_1a98f62dccd75224a60437c2761bd215cd" kindref="member">delete_data_pointers</ref>();</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref>;</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>;</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>==<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>)</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>;</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref>;</highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>;</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref>;</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a22a0c520bc88e2d80fb8b6a10b7caba1" kindref="member" tooltip="Name used by debug code. ">output_file_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref>;</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref>;</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1560"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"></highlight></codeline>
<codeline lineno="1566"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga2c06caf08c9a8aa97a08a2de2f6200df" kindref="member">TessBaseAPI::IsValidWord</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*word)<sp/>{</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a22a45cd03f5d2191d0aeba41e3b4f52f" kindref="member">valid_word</ref>(word);</highlight></codeline>
<codeline lineno="1568"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal"></highlight></codeline>
<codeline lineno="1571"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga535728aa13f5f5eb66cbece59a7737e5" kindref="member">TessBaseAPI::GetTextDirection</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>out_offset,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">*<sp/>out_slope)<sp/>{</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">FindLines</ref>();</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>-&gt;length()<sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"></highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>first<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/>BLOCK_IT<sp/>block_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>);</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/>block_it.move_to_first();</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/>ROW_LIST*<sp/>rows<sp/>=<sp/>block_it.data()-&gt;row_list();</highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rows-&gt;length()<sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"></highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>first<sp/>line<sp/>of<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/>ROW_IT<sp/>row_it(rows);</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/>row_it.move_to_first();</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><ref refid="class_r_o_w" kindref="compound">ROW</ref>*<sp/>row<sp/>=<sp/>row_it.data();</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"></highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>offset<sp/>and<sp/>slope<sp/>(NOTE:<sp/>Kind<sp/>of<sp/>ugly)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/>*out_offset<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(row-&gt;<ref refid="class_r_o_w_1a097b3543fa3ca5768eb50033d4c4db9c" kindref="member">base_line</ref>(0.0));</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/>*out_slope<sp/>=<sp/>row-&gt;<ref refid="class_r_o_w_1a097b3543fa3ca5768eb50033d4c4db9c" kindref="member">base_line</ref>(1.0)<sp/>-<sp/>row-&gt;<ref refid="class_r_o_w_1a097b3543fa3ca5768eb50033d4c4db9c" kindref="member">base_line</ref>(0.0);</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"></highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1596"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga7a7b2870798363811c011cec2bfbf22c" kindref="member">TessBaseAPI::SetDictFunc</ref>(<ref refid="namespacetesseract_1a8405c121c1d39fbfff2ee0318496d5f6" kindref="member">DictFunc</ref><sp/><ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a802de385e07531ace182d16653e35f71" kindref="member">letter_is_okay_</ref><sp/>=<sp/><ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1603"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"></highlight></codeline>
<codeline lineno="1609"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gad7a52133fe0ebab22e97166c5e5cab67" kindref="member">TessBaseAPI::SetProbabilityInContextFunc</ref>(<ref refid="namespacetesseract_1acff22894b78fa786f06840a81caf7650" kindref="member">ProbabilityInContextFunc</ref><sp/>f)<sp/>{</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a7ac1496aaae5e9977a31a2781e7866f0" kindref="member" tooltip="Probability in context function used by the ngram permuter. ">probability_in_context_</ref><sp/>=<sp/><ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>it<sp/>for<sp/>the<sp/>sublangs<sp/>too.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_subs<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1acdb611d653926772113b91423edbd004" kindref="member">num_sub_langs</ref>();</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>num_subs;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1afe9d7c06d9190dc4b686cb7342a01b52" kindref="member">get_sub_lang</ref>(i)-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a7ac1496aaae5e9977a31a2781e7866f0" kindref="member" tooltip="Probability in context function used by the ngram permuter. ">probability_in_context_</ref><sp/>=<sp/><ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1618"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga36a739bd0dc23a819170ca40f35c4b58" kindref="member">TessBaseAPI::SetFillLatticeFunc</ref>(<ref refid="namespacetesseract_1a1d9d5b16b1c6d8d4add27aaf89267ce9" kindref="member">FillLatticeFunc</ref><sp/>f)<sp/>{</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a7a4f5e2cb7957a5decbc91eb2d31f87c" kindref="member">fill_lattice_</ref><sp/>=<sp/><ref refid="imgscale_8cpp_1a469169df397b589e709dc744f1346831" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="1623"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a17820a43c31b66c3a12eda59e0b51bba" kindref="member">TessBaseAPI::InternalSetImage</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Please<sp/>call<sp/>Init<sp/>before<sp/>attempting<sp/>to<sp/>send<sp/>an<sp/>image.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_image_thresholder" kindref="compound">ImageThresholder</ref>;</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1635"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1636"><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a8c8a3b050d6c356c4846345a3818f79e" kindref="member">TessBaseAPI::Threshold</ref>(Pix**<sp/>pix)<sp/>{</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><ref refid="errcode_8h_1a93a603f4063a6b9403d81caa245a583b" kindref="member">ASSERT_HOST</ref>(pix<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a3399e9237569c4b2a5fd5268db593363" kindref="member" tooltip="Returns true if the source image is binary. ">IsBinary</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a2c7fb16774479af5df8e8102aaa86ca1" kindref="member">set_pix_grey</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a0a01ac88f9d1193ebb80c96a09a9b01f" kindref="member">GetPixRectGrey</ref>());</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*pix<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/>pixDestroy(pix);</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Zero<sp/>resolution<sp/>messes<sp/>up<sp/>the<sp/>algorithms,<sp/>so<sp/>make<sp/>sure<sp/>it<sp/>is<sp/>credible.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y_res<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a2fb94a4d1697c06bff68e33269297c59" kindref="member">GetScaledYResolution</ref>();</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(y_res<sp/>&lt;<sp/>kMinCredibleResolution<sp/>||<sp/>y_res<sp/>&gt;<sp/><ref refid="namespacetesseract_1a8ce8daeb42d63f39924c0a342e2cfdf4" kindref="member">kMaxCredibleResolution</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>the<sp/>minimum<sp/>default<sp/>resolution,<sp/>as<sp/>it<sp/>is<sp/>safer<sp/>to<sp/>under-estimate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>than<sp/>over-estimate<sp/>resolution.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1af96fa2b6f4d1271640d5c8842f4fa9d6" kindref="member">SetSourceYResolution</ref>(<ref refid="namespacetesseract_1af670abba9a6fc5f36a04b8650e53d1b7" kindref="member" tooltip="Minimum believable resolution. ">kMinCredibleResolution</ref>);</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a8240c360cff397784e7e9f635d9ed7a3" kindref="member">ThresholdToPix</ref>(pix);</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a4e7f450e7c88d85a3e8dd8fa2baa3776" kindref="member">GetImageSizes</ref>(&amp;<ref refid="group___thresholder_params_1gab3c90d43a3628dc7abeb93e9ca01bc97" kindref="member">rect_left_</ref>,<sp/>&amp;<ref refid="group___thresholder_params_1gac71648cd860510ca65b94d87d7d9bb1f" kindref="member">rect_top_</ref>,</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="group___thresholder_params_1ga31dbaec91a5dd8ee7d399786a4bd5ef8" kindref="member">rect_width_</ref>,<sp/>&amp;<ref refid="group___thresholder_params_1ga978edc537da096ec07d4bb8e4ae5332d" kindref="member">rect_height_</ref>,</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="group___thresholder_params_1gaf3238cd7ff2c0995e647c8c7846bdba3" kindref="member">image_width_</ref>,<sp/>&amp;<ref refid="group___thresholder_params_1gab7d24a78f3565c5bfb42b2592b9e8df0" kindref="member">image_height_</ref>);</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>internal<sp/>resolution<sp/>that<sp/>is<sp/>used<sp/>for<sp/>layout<sp/>parameters<sp/>from<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>estimated<sp/>resolution,<sp/>rather<sp/>than<sp/>the<sp/>image<sp/>resolution,<sp/>which<sp/>may<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>fabricated,<sp/>but<sp/>we<sp/>will<sp/>use<sp/>the<sp/>image<sp/>resolution,<sp/>if<sp/>there<sp/>is<sp/>one,<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>report<sp/>output<sp/>point<sp/>sizes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>estimated_res<sp/>=<sp/><ref refid="helpers_8h_1af8739168d5b3235996eeb25dac3c4044" kindref="member">ClipToRange</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1ac132bc7502f0e9d2f71f34afd6d2eb83" kindref="member">GetScaledEstimatedResolution</ref>(),</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1af670abba9a6fc5f36a04b8650e53d1b7" kindref="member" tooltip="Minimum believable resolution. ">kMinCredibleResolution</ref>,</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1a8ce8daeb42d63f39924c0a342e2cfdf4" kindref="member">kMaxCredibleResolution</ref>);</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(estimated_res<sp/>!=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1ac132bc7502f0e9d2f71f34afd6d2eb83" kindref="member">GetScaledEstimatedResolution</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Estimated<sp/>resolution<sp/>%d<sp/>out<sp/>of<sp/>range!<sp/>Corrected<sp/>to<sp/>%d\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1ac132bc7502f0e9d2f71f34afd6d2eb83" kindref="member">GetScaledEstimatedResolution</ref>(),<sp/>estimated_res);</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aa9ae12f56af64186b021aea99cb6bd52" kindref="member">set_source_resolution</ref>(estimated_res);</highlight></codeline>
<codeline lineno="1673"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"></highlight></codeline>
<codeline lineno="1676"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">TessBaseAPI::FindLines</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1a4a643445e9ab0e22fabe45308c6d2548" kindref="member" tooltip="Return true if no image has been set. ">IsEmpty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Please<sp/>call<sp/>SetImage<sp/>before<sp/>attempting<sp/>recognition.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref>)</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>-&gt;empty())<sp/>{</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a2f9389a2d855d2a59e7892d3ba884887" kindref="member">InitAdaptiveClassifier</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>()<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a8c8a3b050d6c356c4846345a3818f79e" kindref="member">Threshold</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a512809e371c7bff1a24bb531721010a3" kindref="member">mutable_pix_binary</ref>());</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a8fc86e36e2808c9762f4b21d94c0bb4b" kindref="member">ImageWidth</ref>()<sp/>&gt;<sp/><ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref><sp/>||</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a64ed376faed498243afb5637bb9a78e2" kindref="member">ImageHeight</ref>()<sp/>&gt;<sp/><ref refid="host_8h_1a3905e54374e49708219791e7d59c60fb" kindref="member">MAX_INT16</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Image<sp/>too<sp/>large:<sp/>(%d,<sp/>%d)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a8fc86e36e2808c9762f4b21d94c0bb4b" kindref="member">ImageWidth</ref>(),<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a64ed376faed498243afb5637bb9a78e2" kindref="member">ImageHeight</ref>());</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ac91217d377d153e34cf89961cd9b0b2f" kindref="member">PrepareForPageseg</ref>();</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"></highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;textord_equation_detect)<sp/>{</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_equation_detect" kindref="compound">EquationDetect</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a0fd6abd523392fabfa8ec77c4a6bd550" kindref="member">SetEquationDetect</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a0222d0f645909860d13f71c078008133" kindref="member" tooltip="The equation detector. ">equ_detect_</ref>);</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"></highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>*<sp/>osd_tess<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>;</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><ref refid="struct_o_s_results" kindref="compound">OSResults</ref><sp/>osr;</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="publictypes_8h_1a3995a2a4ca67e595f22d7d540b03504b" kindref="member">PSM_OSD_ENABLED</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;tessedit_pageseg_mode)<sp/>&amp;&amp;<sp/>osd_tess<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strcmp(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a74a291190aa0bbf90b57f678b1fb0a5c" kindref="member" tooltip="Last initialized language. ">language_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/></highlight><highlight class="stringliteral">&quot;osd&quot;</highlight><highlight class="normal">)<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>osd_tess<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>;</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tesseract" kindref="compound">Tesseract</ref>;</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1ae4558a3c1f64abeec1e1829056d8d1f3" kindref="member">init_tesseract</ref>(</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7c3d4ead7b9c8e27e45e710e5407913" kindref="member" tooltip="Current location of tessdata. ">datapath_</ref>-&gt;<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/></highlight><highlight class="stringliteral">&quot;osd&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacetesseract_1a04550a0ed1279562027bf2fc92c421aeaea8028f61e76a0f4def7cbe7905206cf" kindref="member">OEM_TESSERACT_ONLY</ref>,</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>osd_tess<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>;</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1aa9ae12f56af64186b021aea99cb6bd52" kindref="member">set_source_resolution</ref>(</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a9d93e1d92ca230ae02b81d44bc88a55c" kindref="member" tooltip="Image thresholding module. ">thresholder_</ref>-&gt;<ref refid="classtesseract_1_1_image_thresholder_1abb962b7a1fc65945d08112f7496acce2" kindref="member">GetSourceYResolution</ref>());</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>Auto<sp/>orientation<sp/>and<sp/>script<sp/>detection<sp/>requested,&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>but<sp/>osd<sp/>language<sp/>failed<sp/>to<sp/>load\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref>;</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ad7b44f5b470c9e04289c348d82726b27" kindref="member" tooltip="For orientation &amp;amp; script detection. ">osd_tesseract_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a2f72a5b81529df216d9422ff92ab2762" kindref="member">SegmentPage</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/>osd_tess,<sp/>&amp;osr)<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>Devanagari<sp/>is<sp/>being<sp/>recognized,<sp/>we<sp/>use<sp/>different<sp/>images<sp/>for<sp/>page<sp/>seg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>for<sp/>OCR.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a8c193bd6f78f20373ed9b0fb63984733" kindref="member">PrepareForTessOCR</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>,<sp/>osd_tess,<sp/>&amp;osr);</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1736"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">TessBaseAPI::ClearResults</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a55a27935c2314529c6fb4522ccf1de5a" kindref="member">Clear</ref>();</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>;</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a7d4627f300b1096d43a3e7d54d8aa5df" kindref="member" tooltip="page_res_ contains recognition data. ">recognition_done_</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>BLOCK_LIST;</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>-&gt;clear();</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref>-&gt;<ref refid="class_generic_vector_1a98f62dccd75224a60437c2761bd215cd" kindref="member">delete_data_pointers</ref>();</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref>;</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1757"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1aed3d481fc0c7dffad24572bd1f449598" kindref="member">TessBaseAPI::TextLength</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>blob_count)<sp/>{</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"></highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/><sp/><sp/>page_res_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a12dda612630eba40e15f9d0b9955a04c" kindref="member" tooltip="The page-level data. ">page_res_</ref>);</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>total_length<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>total_blobs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Iterate<sp/>over<sp/>the<sp/>data<sp/>structures<sp/>to<sp/>extract<sp/>the<sp/>recognition<sp/>result.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1a15febd45d0904bb3c5f7d506368177f0" kindref="member">restart_page</ref>();<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref><sp/>()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab29005f235cc738eebafb7d9ed6fe70b" kindref="member">forward</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word<sp/>=<sp/>page_res_it.<ref refid="class_p_a_g_e___r_e_s___i_t_1ab84b4850200ba8802791c6197c113fd0" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___c_h_o_i_c_e" kindref="compound">WERD_CHOICE</ref>*<sp/>choice<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>;</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(choice<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>total_blobs<sp/>+=<sp/>choice-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a7be59abe97b052dd3aaa324aea8c4a6c" kindref="member">length</ref>()<sp/>+<sp/>2;</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>total_length<sp/>+=<sp/>choice-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a41d740f0accccdfb245d34d554122116" kindref="member">unichar_string</ref>().<ref refid="class_s_t_r_i_n_g_1a168505a533eda60219c93e25adf4cdc5" kindref="member">length</ref>()<sp/>+<sp/>2;</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1ae24eb58be06cf275aee411d947fd31ef" kindref="member">reject_map</ref>.<ref refid="class_r_e_j_m_a_p_1ab3760d96d63b5ca6c4bfeb32ffc8183c" kindref="member">length</ref>();<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1ae24eb58be06cf275aee411d947fd31ef" kindref="member">reject_map</ref>[i].rejected())</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++total_length;</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blob_count<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/>*blob_count<sp/>=<sp/>total_blobs;</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>total_length;</highlight></codeline>
<codeline lineno="1790"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga5ed6e495e7f1c269588a8b85e4e19ca8" kindref="member">TessBaseAPI::DetectOS</ref>(<ref refid="struct_o_s_results" kindref="compound">OSResults</ref>*<sp/>osr)<sp/>{</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a83ca325b5e521416b1edcd020b169be0" kindref="member">ClearResults</ref>();</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>()<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a8c8a3b050d6c356c4846345a3818f79e" kindref="member">Threshold</ref>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a512809e371c7bff1a24bb531721010a3" kindref="member">mutable_pix_binary</ref>());</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref>(<ref refid="namespacetesseract_1a3ba7b8d4b2132f72118c62fba346ffd0" kindref="member">kInputFile</ref>);</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="osdetect_8cpp_1aec0e2284de8927ea9f29b61ff30d052a" kindref="member">orientation_and_script_detection</ref>(*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a4690919aa9d4eabda36bdefdaadf7ac9" kindref="member" tooltip="Name used by training code. ">input_file_</ref>,<sp/>osr,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>);</highlight></codeline>
<codeline lineno="1805"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"></highlight></codeline>
<codeline lineno="1807"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gac4a301ee35d57b0a7572d4434cae284c" kindref="member">TessBaseAPI::set_min_orientation_margin</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>margin)<sp/>{</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;min_orientation_margin.set_value(margin);</highlight></codeline>
<codeline lineno="1809"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"></highlight></codeline>
<codeline lineno="1825"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga16c4b28cadc2160bf18b84c3f897a2d2" kindref="member">TessBaseAPI::GetBlockTextOrientations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>block_orientation,</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">**<sp/>vertical_writing)<sp/>{</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>*block_orientation;</highlight></codeline>
<codeline lineno="1828"><highlight class="normal"><sp/><sp/>*block_orientation<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>*vertical_writing;</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/>*vertical_writing<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/>BLOCK_IT<sp/>block_it(<ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>);</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"></highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/>block_it.move_to_first();</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_blocks<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(block_it.mark_cycle_pt();<sp/>!block_it.cycled_list();<sp/>block_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!block_it.data()-&gt;poly_block()-&gt;IsText())<sp/>{</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/>++num_blocks;</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!num_blocks)<sp/>{</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tprintf_8cpp_1a91c3e3cd802b72db376635e0e989a4b0" kindref="member">tprintf</ref>(</highlight><highlight class="stringliteral">&quot;WARNING:<sp/>Found<sp/>no<sp/>blocks\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/>*block_orientation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[num_blocks];</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/>*vertical_writing<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">[num_blocks];</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/>block_it.move_to_first();</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(block_it.mark_cycle_pt();<sp/>!block_it.cycled_list();</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>block_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!block_it.data()-&gt;poly_block()-&gt;IsText())<sp/>{</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_f_c_o_o_r_d" kindref="compound">FCOORD</ref><sp/>re_rotation<sp/>=<sp/>block_it.data()-&gt;re_rotation();</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>re_theta<sp/>=<sp/>re_rotation.<ref refid="class_f_c_o_o_r_d_1a4ab61cbf07eeb3473ae0ba6558fe9fb6" kindref="member" tooltip="find angle ">angle</ref>();</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_f_c_o_o_r_d" kindref="compound">FCOORD</ref><sp/>classify_rotation<sp/>=<sp/>block_it.data()-&gt;classify_rotation();</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>classify_theta<sp/>=<sp/>classify_rotation.<ref refid="class_f_c_o_o_r_d_1a4ab61cbf07eeb3473ae0ba6558fe9fb6" kindref="member" tooltip="find angle ">angle</ref>();</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>rot_theta<sp/>=<sp/>-<sp/>(re_theta<sp/>-<sp/>classify_theta)<sp/>*<sp/>2.0<sp/>/<sp/><ref refid="const_8h_1a598a3330b3c21701223ee0ca14316eca" kindref="member">PI</ref>;</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rot_theta<sp/>&lt;<sp/>0)<sp/>rot_theta<sp/>+=<sp/>4;</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_rotations<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(rot_theta<sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/>(*block_orientation)[i]<sp/>=<sp/>num_rotations;</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>classify_rotation<sp/>is<sp/>non-zero<sp/>only<sp/>if<sp/>the<sp/>text<sp/>has<sp/>vertical</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>writing<sp/>direction.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/>(*vertical_writing)[i]<sp/>=<sp/>classify_rotation.<ref refid="class_f_c_o_o_r_d_1a397f7ce997b246df18e7bd5a20cc422e" kindref="member">y</ref>()<sp/>!=<sp/>0.0f;</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1867"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"></highlight></codeline>
<codeline lineno="1869"><highlight class="normal"></highlight><highlight class="comment">//<sp/>____________________________________________________________________________</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1870"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Ocropus<sp/>add-ons.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1871"><highlight class="normal"></highlight></codeline>
<codeline lineno="1873"><highlight class="normal">BLOCK_LIST*<sp/><ref refid="group___advanced_a_p_i_1ga12273df6a36cd7b618029c21d0c53cfa" kindref="member">TessBaseAPI::FindLinesCreateBlockList</ref>()<sp/>{</highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a86899716a1adde396be4efd57b547d27" kindref="member">FindLines</ref>();</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/>BLOCK_LIST*<sp/>result<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref>;</highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1ac22c36258b0cd727188505a9a1dbc7e1" kindref="member" tooltip="The page layout. ">block_list_</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1878"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"></highlight></codeline>
<codeline lineno="1885"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga8f69791ff9730a032068c87bd7b92ca1" kindref="member">TessBaseAPI::DeleteBlockList</ref>(BLOCK_LIST<sp/>*block_list)<sp/>{</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>block_list;</highlight></codeline>
<codeline lineno="1887"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"></highlight></codeline>
<codeline lineno="1889"><highlight class="normal"></highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><ref refid="class_r_o_w" kindref="compound">ROW</ref><sp/>*<ref refid="group___advanced_a_p_i_1ga6188cb0fdcf944408db772131c545429" kindref="member">TessBaseAPI::MakeTessOCRRow</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="mfoutline_8h_1a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23" kindref="member">baseline</ref>,</highlight></codeline>
<codeline lineno="1891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>xheight,</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>descender,</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ascender)<sp/>{</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>xstarts[]<sp/>=<sp/>{-32000};</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>quad_coeffs[]<sp/>=<sp/>{0,<sp/>0,<sp/>baseline};</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_r_o_w" kindref="compound">ROW</ref>(1,</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xstarts,</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad_coeffs,</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xheight,</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ascender<sp/>-<sp/>(baseline<sp/>+<sp/>xheight),</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>descender<sp/>-<sp/>baseline,</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0);</highlight></codeline>
<codeline lineno="1904"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"></highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref><sp/>*<ref refid="group___advanced_a_p_i_1ga0306bec5d154260922c203d8022832ca" kindref="member">TessBaseAPI::MakeTBLOB</ref>(Pix<sp/>*pix)<sp/>{</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width<sp/>=<sp/>pixGetWidth(pix);</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height<sp/>=<sp/>pixGetHeight(pix);</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><ref refid="class_b_l_o_c_k" kindref="compound">BLOCK</ref><sp/>block(</highlight><highlight class="stringliteral">&quot;a<sp/>character&quot;</highlight><highlight class="normal">,<sp/><ref refid="capi_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/>width,<sp/>height);</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"></highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>C_BLOBs<sp/>from<sp/>the<sp/>page</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><ref refid="edgblob_8cpp_1a16ca13da58e65267e7e34355091ca891" kindref="member">extract_edges</ref>(pix,<sp/>&amp;block);</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"></highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Merge<sp/>all<sp/>C_BLOBs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/>C_BLOB_LIST<sp/>*list<sp/>=<sp/>block.<ref refid="class_b_l_o_c_k_1a23196fe0d7230572b44aa77031a1d72a" kindref="member" tooltip="get blobs ">blob_list</ref>();</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/>C_BLOB_IT<sp/>c_blob_it(list);</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c_blob_it.empty())</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>all<sp/>the<sp/>outlines<sp/>to<sp/>the<sp/>first<sp/>blob.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/>C_OUTLINE_IT<sp/>ol_it(c_blob_it.data()-&gt;out_list());</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(c_blob_it.forward();</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!c_blob_it.at_first();</highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c_blob_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c___b_l_o_b" kindref="compound">C_BLOB</ref><sp/>*c_blob<sp/>=<sp/>c_blob_it.data();</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ol_it.add_list_after(c_blob-&gt;<ref refid="class_c___b_l_o_b_1ae510f3d0e7398fbb46608082429eac89" kindref="member">out_list</ref>());</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Convert<sp/>the<sp/>first<sp/>blob<sp/>to<sp/>the<sp/>output<sp/>TBLOB.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="struct_t_b_l_o_b_1a49b1279a5ff4e05d6dd0beacd2d99395" kindref="member">TBLOB::PolygonalCopy</ref>(c_blob_it.data());</highlight></codeline>
<codeline lineno="1930"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"></highlight></codeline>
<codeline lineno="1937"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga52efb13dbc0127d903cb3ecc5734ec7c" kindref="member">TessBaseAPI::NormalizeTBLOB</ref>(<ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref><sp/>*tblob,<sp/><ref refid="class_r_o_w" kindref="compound">ROW</ref><sp/>*row,</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>numeric_mode,<sp/><ref refid="class_d_e_n_o_r_m" kindref="compound">DENORM</ref><sp/>*denorm)<sp/>{</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><ref refid="struct_t_w_e_r_d" kindref="compound">TWERD</ref><sp/>word;</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1aeec31d57df04c8dac1cf3e6990d358a7" kindref="member">blobs</ref><sp/>=<sp/>tblob;</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(denorm<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1afbd0a7b21dd6c9fcbc265fb4b5117265" kindref="member">SetupBLNormalize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>row,<sp/>row-&gt;<ref refid="class_r_o_w_1a2954f94ec4eefe1e3729912e5b8ea779" kindref="member">x_height</ref>(),<sp/>numeric_mode,<sp/>denorm);</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1a830ae54d262e8348e098b5bab2aa4985" kindref="member">Normalize</ref>(*denorm);</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_d_e_n_o_r_m" kindref="compound">DENORM</ref><sp/>normer;</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1afbd0a7b21dd6c9fcbc265fb4b5117265" kindref="member">SetupBLNormalize</ref>(<ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>row,<sp/>row-&gt;<ref refid="class_r_o_w_1a2954f94ec4eefe1e3729912e5b8ea779" kindref="member">x_height</ref>(),<sp/>numeric_mode,<sp/>&amp;normer);</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1a830ae54d262e8348e098b5bab2aa4985" kindref="member">Normalize</ref>(normer);</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/>word.<ref refid="struct_t_w_e_r_d_1aeec31d57df04c8dac1cf3e6990d358a7" kindref="member">blobs</ref><sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1950"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"></highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref><sp/>*<ref refid="namespacetesseract_1a920259f2171a834a4e379e8a6a8460c5" kindref="member">make_tesseract_blob</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>baseline,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>xheight,</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>descender,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ascender,</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>numeric_mode,<sp/>Pix*<sp/>pix)<sp/>{</highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref><sp/>*tblob<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga0306bec5d154260922c203d8022832ca" kindref="member">TessBaseAPI::MakeTBLOB</ref>(pix);</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"></highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Normalize<sp/>TBLOB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><ref refid="class_r_o_w" kindref="compound">ROW</ref><sp/>*row<sp/>=</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___advanced_a_p_i_1ga6188cb0fdcf944408db772131c545429" kindref="member">TessBaseAPI::MakeTessOCRRow</ref>(baseline,<sp/>xheight,<sp/>descender,<sp/>ascender);</highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><ref refid="group___advanced_a_p_i_1ga52efb13dbc0127d903cb3ecc5734ec7c" kindref="member">TessBaseAPI::NormalizeTBLOB</ref>(tblob,<sp/>row,<sp/>numeric_mode,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>row;</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tblob;</highlight></codeline>
<codeline lineno="1967"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"></highlight></codeline>
<codeline lineno="1974"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__ocropus_add_ons_1gaf62a3be9f3b8ca4f8260ec2cc1628ecc" kindref="member">TessBaseAPI::AdaptToCharacter</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*unichar_repr,</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>length,</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>baseline,</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>xheight,</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>descender,</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ascender)<sp/>{</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1ae786fa834962ef4d6dbf8300c6c5d456" kindref="member">unichar_to_id</ref>(unichar_repr,<sp/>length);</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref><sp/>*blob<sp/>=<sp/><ref refid="namespacetesseract_1a920259f2171a834a4e379e8a6a8460c5" kindref="member">make_tesseract_blob</ref>(baseline,<sp/>xheight,<sp/>descender,<sp/>ascender,</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;classify_bln_numeric_mode,</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a97fde2a457aa76137737b247a2418cb7" kindref="member">pix_binary</ref>());</highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>threshold;</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><ref refid="unichar_8h_1a8578b19fa1ff5ca75080db1a18ecc32e" kindref="member">UNICHAR_ID</ref><sp/>best_class<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>best_rating<sp/>=<sp/>-100;</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"></highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Classify<sp/>to<sp/>get<sp/>a<sp/>raw<sp/>choice.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/>BLOB_CHOICE_LIST<sp/>choices;</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><ref refid="class_d_e_n_o_r_m" kindref="compound">DENORM</ref><sp/>denorm;</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a1f058451e32538b4dc2c853b82bc6600" kindref="member">AdaptiveClassifier</ref>(blob,<sp/>denorm,<sp/>&amp;choices,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/>BLOB_CHOICE_IT<sp/>choice_it;</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/>choice_it.set_to_list(&amp;choices);</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(choice_it.mark_cycle_pt();<sp/>!choice_it.cycled_list();</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>choice_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(choice_it.data()-&gt;rating()<sp/>&gt;<sp/>best_rating)<sp/>{</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>best_rating<sp/>=<sp/>choice_it.data()-&gt;rating();</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>best_class<sp/>=<sp/>choice_it.data()-&gt;unichar_id();</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"></highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/>threshold<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;matcher_good_threshold;</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"></highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(blob-&gt;<ref refid="struct_t_b_l_o_b_1a3c9282cad4102157d214bcc6311cda07" kindref="member">outlines</ref>)</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a53629ef3f5562677ae096bbce864e5ab" kindref="member">AdaptToChar</ref>(blob,<sp/>denorm,<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>kUnknownFontinfoId,<sp/>threshold);</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>blob;</highlight></codeline>
<codeline lineno="2008"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"></highlight></codeline>
<codeline lineno="2010"><highlight class="normal"></highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/><ref refid="group__ocropus_add_ons_1ga0384f67e497ea3e81436d09da0ad7270" kindref="member">TessBaseAPI::RecognitionPass1</ref>(BLOCK_LIST*<sp/>block_list)<sp/>{</highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref><sp/>*page_res<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(block_list,</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a143608f482c6c0c4f312740e6a5f5fd9" kindref="member">prev_word_best_choice_</ref>));</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1af9c097177e82c5f5495a7dc1506d66ed" kindref="member">recog_all_words</ref>(page_res,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>1);</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>page_res;</highlight></codeline>
<codeline lineno="2016"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"></highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/><ref refid="group__ocropus_add_ons_1ga158cc2af7170f3efa8cb140f2745d9b8" kindref="member">TessBaseAPI::RecognitionPass2</ref>(BLOCK_LIST*<sp/>block_list,</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/>pass1_result)<sp/>{</highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pass1_result)</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/>pass1_result<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>(block_list,</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_wordrec_1a143608f482c6c0c4f312740e6a5f5fd9" kindref="member">prev_word_best_choice_</ref>));</highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1af9c097177e82c5f5495a7dc1506d66ed" kindref="member">recog_all_words</ref>(pass1_result,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>2);</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pass1_result;</highlight></codeline>
<codeline lineno="2025"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"></highlight></codeline>
<codeline lineno="2027"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__ocropus_add_ons_1ga33cf8d85c3714857bc8753fef035ea95" kindref="member">TessBaseAPI::DetectParagraphs</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>after_text_recognition)<sp/>{</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>debug_level<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a5923cccbe20988f0f99072844d1af573" kindref="member">GetIntVariable</ref>(</highlight><highlight class="stringliteral">&quot;paragraph_debug_level&quot;</highlight><highlight class="normal">,<sp/>&amp;debug_level);</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ParagraphModel*&gt;</ref>;</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_mutable_iterator" kindref="compound">MutableIterator</ref><sp/>*result_it<sp/>=<sp/><ref refid="group___advanced_a_p_i_1ga29906219f78adc7fd76a83bde37e09eb" kindref="member">GetMutableIterator</ref>();</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Detect<sp/>paragraphs<sp/>for<sp/>this<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_generic_vector" kindref="compound">GenericVector&lt;ParagraphModel *&gt;</ref><sp/>models;</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacetesseract_1ac3edfcbb6042dffc461c6e5737c72643" kindref="member">::tesseract::DetectParagraphs</ref>(debug_level,<sp/>after_text_recognition,</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result_it,<sp/>&amp;models);</highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/>*<ref refid="classtesseract_1_1_tess_base_a_p_i_1a06084d66b830a388515663761d842041" kindref="member">paragraph_models_</ref><sp/>+=<sp/>models;</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(result_it-&gt;<ref refid="classtesseract_1_1_result_iterator_1abd8987e2387f1945b53cf23f99b663e1" kindref="member">Next</ref>(<ref refid="namespacetesseract_1aa26c22b65cc9765a0e747120f4287fd7a2dcea8d4208c16055353029d26f9bf49" kindref="member">RIL_BLOCK</ref>));</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>result_it;</highlight></codeline>
<codeline lineno="2040"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2041"><highlight class="normal"></highlight></codeline>
<codeline lineno="2042" refid="structtesseract_1_1_t_e_s_s___c_h_a_r" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r" kindref="compound">TESS_CHAR</ref><sp/>:<sp/><ref refid="class_e_l_i_s_t___l_i_n_k" kindref="compound">ELIST_LINK</ref><sp/>{</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a26571c64aee9fc53688c36e7b636f442" kindref="member">unicode_repr</ref>;</highlight></codeline>
<codeline lineno="2044"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1addc50bcc00bf59b95831fe5c7a8de558" kindref="member">length</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>unicode_repr</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a59dbd81cf9a36e402f6bbecee62c1bb3" kindref="member">cost</ref>;</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a1ca1136f40f70eb41350f7cd5d65a244" kindref="member">box</ref>;</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a790acae1a0c7dcd6bf9622ee384d3e3c" kindref="member">TESS_CHAR</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>_cost,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*repr,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len<sp/>=<sp/>-1)<sp/>:<sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a59dbd81cf9a36e402f6bbecee62c1bb3" kindref="member">cost</ref>(_cost)<sp/>{</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/>length<sp/>=<sp/>(len<sp/>==<sp/>-1<sp/>?<sp/>strlen(repr)<sp/>:<sp/>len);</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a26571c64aee9fc53688c36e7b636f442" kindref="member">unicode_repr</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[length<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(<ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a26571c64aee9fc53688c36e7b636f442" kindref="member">unicode_repr</ref>,<sp/>repr,<sp/>length);</highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2053"><highlight class="normal"></highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a790acae1a0c7dcd6bf9622ee384d3e3c" kindref="member">TESS_CHAR</ref>()<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Satisfies<sp/>ELISTIZE.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2055"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1afe67e07224557403466b301b29acb124" kindref="member">~TESS_CHAR</ref>()<sp/>{</highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r_1a26571c64aee9fc53688c36e7b636f442" kindref="member">unicode_repr</ref>;</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2059"><highlight class="normal">};</highlight></codeline>
<codeline lineno="2060"><highlight class="normal"></highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><ref refid="namespacetesseract_1a897f98148e8c084774a0c00f774da30a" kindref="member">ELISTIZEH</ref>(<ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r" kindref="compound">TESS_CHAR</ref>)</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><ref refid="namespacetesseract_1a3b71ccfcd667bca92d2e6435845a4c9b" kindref="member">ELISTIZE</ref>(<ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r" kindref="compound">TESS_CHAR</ref>)</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"></highlight></codeline>
<codeline lineno="2064"><highlight class="normal">static<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>add_space(TESS_CHAR_IT*<sp/>it)<sp/>{</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"><sp/><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r" kindref="compound">TESS_CHAR</ref><sp/>*t<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="structtesseract_1_1_t_e_s_s___c_h_a_r" kindref="compound">TESS_CHAR</ref>(0,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/>it-&gt;add_after_then_move(t);</highlight></codeline>
<codeline lineno="2067"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"></highlight></codeline>
<codeline lineno="2069"><highlight class="normal"></highlight></codeline>
<codeline lineno="2070"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>rating_to_cost(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>rating)<sp/>{</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/>rating<sp/>=<sp/>100<sp/>+<sp/>rating;</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>cuddled<sp/>that<sp/>to<sp/>save<sp/>from<sp/>coverage<sp/>profiler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>(I<sp/>have<sp/>never<sp/>seen<sp/>ratings<sp/>worse<sp/>than<sp/>-100,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>but<sp/>the<sp/>check<sp/>won&apos;t<sp/>hurt)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rating<sp/>&lt;<sp/>0)<sp/>rating<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2076"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rating;</highlight></codeline>
<codeline lineno="2077"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"></highlight></codeline>
<codeline lineno="2083"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>extract_result(TESS_CHAR_IT*<sp/>out,</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/>page_res)<sp/>{</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><ref refid="class_p_a_g_e___r_e_s___i_t" kindref="compound">PAGE_RES_IT</ref><sp/>page_res_it(page_res);</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>word_count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(page_res_it.word()<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d___r_e_s" kindref="compound">WERD_RES</ref><sp/>*word<sp/>=<sp/>page_res_it.<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>();</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*str<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a41d740f0accccdfb245d34d554122116" kindref="member">unichar_string</ref>().<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>();</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*len<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a93ab94b6fa6d5c0469fb52d66c62968c" kindref="member">unichar_lengths</ref>().<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>();</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>real_rect<sp/>=<sp/>word-&gt;<ref refid="class_w_e_r_d___r_e_s_1afc15fa7c1b5ad55d6772dea0d6865df1" kindref="member">word</ref>-&gt;<ref refid="class_w_e_r_d_1a151bbfb39ecdef93ab1a14b0f9e4ac74" kindref="member">bounding_box</ref>();</highlight></codeline>
<codeline lineno="2092"><highlight class="normal"></highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(word_count)</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>add_space(out);</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>strlen(len);</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>n;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>TESS_CHAR<sp/>*tc<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>TESS_CHAR(rating_to_cost(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3d42ac7ec121263e757c9b7160dfd50d" kindref="member">best_choice</ref>-&gt;<ref refid="class_w_e_r_d___c_h_o_i_c_e_1a52ea24dcb5ff15ad8aee3fd774622216" kindref="member">rating</ref>()),</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>str,<sp/>*len);</highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tc-&gt;box<sp/>=<sp/>real_rect.<ref refid="class_t_b_o_x_1a33e45c7389737cdf1a908bca0af315c4" kindref="member">intersection</ref>(word-&gt;<ref refid="class_w_e_r_d___r_e_s_1a3a92c8c9750d78631d75998f008f366a" kindref="member">box_word</ref>-&gt;<ref refid="classtesseract_1_1_box_word_1a022cfe52a644e9e800595f014b1fbcf5" kindref="member">BlobBox</ref>(i));</highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out-&gt;add_after_then_move(tc);</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>str<sp/>+=<sp/>*len;</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>len++;</highlight></codeline>
<codeline lineno="2103"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/>page_res_it.forward();</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/>word_count++;</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"></highlight></codeline>
<codeline lineno="2113"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__ocropus_add_ons_1ga554e33b4a8fa10ccd2200698ded6753d" kindref="member">TessBaseAPI::TesseractExtractResult</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">**<sp/>text,</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>lengths,</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">**<sp/>costs,</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>x0,</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>y0,</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>x1,</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">**<sp/>y1,</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_p_a_g_e___r_e_s" kindref="compound">PAGE_RES</ref>*<sp/>page_res)<sp/>{</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/>TESS_CHAR_LIST<sp/>tess_chars;</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/>TESS_CHAR_IT<sp/>tess_chars_it(&amp;tess_chars);</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/>extract_result(&amp;tess_chars_it,<sp/>page_res);</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/>tess_chars_it.move_to_first();</highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>tess_chars.length();</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>text_len<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/>*lengths<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/>*costs<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/>*x0<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/>*y0<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/>*x1<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/>*y1<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[n];</highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(tess_chars_it.mark_cycle_pt();</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!tess_chars_it.cycled_list();</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tess_chars_it.forward(),<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/>TESS_CHAR<sp/>*tc<sp/>=<sp/>tess_chars_it.data();</highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/>text_len<sp/>+=<sp/>(*lengths)[i]<sp/>=<sp/>tc-&gt;length;</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"><sp/><sp/><sp/><sp/>(*costs)[i]<sp/>=<sp/>tc-&gt;cost;</highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/>(*x0)[i]<sp/>=<sp/>tc-&gt;box.left();</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/>(*y0)[i]<sp/>=<sp/>tc-&gt;box.bottom();</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/>(*x1)[i]<sp/>=<sp/>tc-&gt;box.right();</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/>(*y1)[i]<sp/>=<sp/>tc-&gt;box.top();</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*p<sp/>=<sp/>*text<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[text_len];</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"></highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/>tess_chars_it.move_to_first();</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(tess_chars_it.mark_cycle_pt();</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!tess_chars_it.cycled_list();</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tess_chars_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/>TESS_CHAR<sp/>*tc<sp/>=<sp/>tess_chars_it.data();</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(p,<sp/>tc-&gt;unicode_repr,<sp/>tc-&gt;length);</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>tc-&gt;length;</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="2156"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"></highlight></codeline>
<codeline lineno="2159"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga7e60370845b53aefa2e58d0e639435e2" kindref="member">TessBaseAPI::GetFeaturesForBlob</ref>(<ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref>*<sp/>blob,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_d_e_n_o_r_m" kindref="compound">DENORM</ref>&amp;<sp/>denorm,</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="baseapi_8h_1afc188645dba6ff9f0eb7f056464fdd34" kindref="member">INT_FEATURE_ARRAY</ref><sp/>int_features,</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>num_features,</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>FeatureOutlineIndex)<sp/>{</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a62ffff7932680b25784bfca5079ce347" kindref="member">ResetFeaturesHaveBeenExtracted</ref>();</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1a458fe97f82495945f8071bb3c18d1783" kindref="member">uinT8</ref>*<sp/>norm_array<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a458fe97f82495945f8071bb3c18d1783" kindref="member">uinT8</ref>[<ref refid="matchdefs_8h_1adcc52d7d059a8ca452172df64faa231c" kindref="member">MAX_NUM_CLASSES</ref>];</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><ref refid="host_8h_1aba1f582fd0168f3ff9225d8c90fa9eb8" kindref="member">inT32</ref><sp/>len;</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"><sp/><sp/>*num_features<sp/>=<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a1076d5d08686e48d39ef3eb07e711fb6" kindref="member">GetCharNormFeatures</ref>(</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>blob,<sp/>denorm,<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a64383806f917e682c4a644efdd71d530" kindref="member">PreTrainedTemplates</ref>,</highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>int_features,<sp/>norm_array,<sp/>norm_array,<sp/>&amp;len,<sp/>FeatureOutlineIndex);</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>[]<sp/>norm_array;</highlight></codeline>
<codeline lineno="2172"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"></highlight></codeline>
<codeline lineno="2178"><highlight class="normal"><ref refid="class_r_o_w" kindref="compound">ROW</ref>*<sp/><ref refid="group___advanced_a_p_i_1gab73311ecd1bf8f7e6f98585a76328740" kindref="member">TessBaseAPI::FindRowForBox</ref>(BLOCK_LIST*<sp/>blocks,</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>top,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>right,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bottom)<sp/>{</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><ref refid="class_t_b_o_x" kindref="compound">TBOX</ref><sp/>box(left,<sp/>bottom,<sp/>right,<sp/>top);</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/>BLOCK_IT<sp/>b_it(blocks);</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(b_it.mark_cycle_pt();<sp/>!b_it.cycled_list();<sp/>b_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_c_k" kindref="compound">BLOCK</ref>*<sp/>block<sp/>=<sp/>b_it.data();</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!box.major_overlap(block-&gt;<ref refid="class_p_d_b_l_k_1a91950a96127b4a0bb9b237e1f5f889a4" kindref="member" tooltip="get box ">bounding_box</ref>()))</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/>ROW_IT<sp/>r_it(block-&gt;<ref refid="class_b_l_o_c_k_1ae9826e422b0bf17a7592dee8db3fe058" kindref="member" tooltip="get rows ">row_list</ref>());</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(r_it.mark_cycle_pt();<sp/>!r_it.cycled_list();<sp/>r_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_r_o_w" kindref="compound">ROW</ref>*<sp/>row<sp/>=<sp/>r_it.data();</highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!box.major_overlap(row-&gt;<ref refid="class_r_o_w_1a7bb838e55056e39e15d7e2cea8ebebb0" kindref="member">bounding_box</ref>()))</highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>WERD_IT<sp/>w_it(row-&gt;<ref refid="class_r_o_w_1ac9d07f978420b3564bf5508ad294fb70" kindref="member">word_list</ref>());</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(w_it.mark_cycle_pt();<sp/>!w_it.cycled_list();<sp/>w_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_w_e_r_d" kindref="compound">WERD</ref>*<sp/>word<sp/>=<sp/>w_it.data();</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(box.major_overlap(word-&gt;<ref refid="class_w_e_r_d_1a151bbfb39ecdef93ab1a14b0f9e4ac74" kindref="member">bounding_box</ref>()))</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>row;</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"></highlight></codeline>
<codeline lineno="2203"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1ga34a1c103414dd0293ff4d40c275a5971" kindref="member">TessBaseAPI::RunAdaptiveClassifier</ref>(<ref refid="struct_t_b_l_o_b" kindref="compound">TBLOB</ref>*<sp/>blob,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_d_e_n_o_r_m" kindref="compound">DENORM</ref>&amp;<sp/>denorm,</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_max_matches,</highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>unichar_ids,</highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">*<sp/>ratings,</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>num_matches_returned)<sp/>{</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/>BLOB_CHOICE_LIST*<sp/>choices<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>BLOB_CHOICE_LIST;</highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a1f058451e32538b4dc2c853b82bc6600" kindref="member">AdaptiveClassifier</ref>(blob,<sp/>denorm,<sp/>choices,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/>BLOB_CHOICE_IT<sp/>choices_it(choices);</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&amp;<sp/>index<sp/>=<sp/>*num_matches_returned;</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/>index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(choices_it.mark_cycle_pt();</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!choices_it.cycled_list()<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/>num_max_matches;</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>choices_it.forward())<sp/>{</highlight></codeline>
<codeline lineno="2216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_b_l_o_b___c_h_o_i_c_e" kindref="compound">BLOB_CHOICE</ref>*<sp/>choice<sp/>=<sp/>choices_it.data();</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"><sp/><sp/><sp/><sp/>unichar_ids[index]<sp/>=<sp/>choice-&gt;<ref refid="class_b_l_o_b___c_h_o_i_c_e_1aaba6190b77c5f3dc21905fc4118afa94" kindref="member">unichar_id</ref>();</highlight></codeline>
<codeline lineno="2218"><highlight class="normal"><sp/><sp/><sp/><sp/>ratings[index]<sp/>=<sp/>choice-&gt;<ref refid="class_b_l_o_b___c_h_o_i_c_e_1a7fbd2d505bf5b55beee424096fb1e9bc" kindref="member">rating</ref>();</highlight></codeline>
<codeline lineno="2219"><highlight class="normal"><sp/><sp/><sp/><sp/>++index;</highlight></codeline>
<codeline lineno="2220"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/>*num_matches_returned<sp/>=<sp/>index;</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>choices;</highlight></codeline>
<codeline lineno="2223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2224"><highlight class="normal"></highlight></codeline>
<codeline lineno="2226"><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group___advanced_a_p_i_1ga34314bb3635a6e0d171e33d4b4181db2" kindref="member">TessBaseAPI::GetUnichar</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>unichar_id)<sp/>{</highlight></codeline>
<codeline lineno="2227"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_c_c_util_1a69c5179ac5f10a24f3f97e16ca09460f" kindref="member">unicharset</ref>.<ref refid="class_u_n_i_c_h_a_r_s_e_t_1a421c0b6ebcbbe7547490252fb688c961" kindref="member">id_to_unichar</ref>(unichar_id);</highlight></codeline>
<codeline lineno="2228"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"></highlight></codeline>
<codeline lineno="2231"><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Dawg<sp/>*<ref refid="group___advanced_a_p_i_1ga01fc04b1c673045ed8736c02c5943eaf" kindref="member">TessBaseAPI::GetDawg</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/>i<sp/>&gt;=<sp/><ref refid="group___advanced_a_p_i_1gac0a13108ccd514cab99badcb014d2f43" kindref="member">NumDawgs</ref>())<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a774c3a8e23c9e4f47412936b304dae03" kindref="member" tooltip="Return i-th dawg pointer recorded in the dawgs_ vector. ">GetDawg</ref>(i);</highlight></codeline>
<codeline lineno="2234"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"></highlight></codeline>
<codeline lineno="2237"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group___advanced_a_p_i_1gac0a13108ccd514cab99badcb014d2f43" kindref="member">TessBaseAPI::NumDawgs</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2238"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>?<sp/>0<sp/>:<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_classify_1a83e4207353a1bb07adfaa6a82a74c9ce" kindref="member">getDict</ref>().<ref refid="classtesseract_1_1_dict_1a0a380d8e3aa8e0d3827b18ad5355b258" kindref="member" tooltip="Return the number of dawgs in the dawgs_ vector. ">NumDawgs</ref>();</highlight></codeline>
<codeline lineno="2239"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"></highlight></codeline>
<codeline lineno="2242"><highlight class="normal">CubeRecoContext<sp/>*<ref refid="group___advanced_a_p_i_1ga4b21b3a15434987381804258d79651fc" kindref="member">TessBaseAPI::GetCubeRecoContext</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref><sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>:<sp/><ref refid="classtesseract_1_1_tess_base_a_p_i_1a247f50792f581df05afe336a2aeda402" kindref="member" tooltip="The underlying data object. ">tesseract_</ref>-&gt;<ref refid="classtesseract_1_1_tesseract_1a5ec41afb14f223dd2ab976363efa8b58" kindref="member">GetCubeRecoContext</ref>();</highlight></codeline>
<codeline lineno="2244"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2245"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>tesseract.</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/api/baseapi.cpp"/>
  </compounddef>
</doxygen>
