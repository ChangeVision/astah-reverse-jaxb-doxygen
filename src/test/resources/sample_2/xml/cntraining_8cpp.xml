<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="cntraining_8cpp" kind="file">
    <compoundname>cntraining.cpp</compoundname>
    <includes refid="oldlist_8h" local="yes">oldlist.h</includes>
    <includes refid="efio_8h" local="yes">efio.h</includes>
    <includes refid="emalloc_8h" local="yes">emalloc.h</includes>
    <includes refid="featdefs_8h" local="yes">featdefs.h</includes>
    <includes refid="tessopt_8h" local="yes">tessopt.h</includes>
    <includes refid="ocrfeatures_8h" local="yes">ocrfeatures.h</includes>
    <includes refid="clusttool_8h" local="yes">clusttool.h</includes>
    <includes refid="cluster_8h" local="yes">cluster.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">stdio.h</includes>
    <includes local="no">math.h</includes>
    <includes refid="unichar_8h" local="yes">unichar.h</includes>
    <includes refid="commontraining_8h" local="yes">commontraining.h</includes>
    <incdepgraph>
      <node id="41159">
        <label>cutil_class.h</label>
        <link refid="cutil__class_8h"/>
        <childnode refid="41160" relation="include">
        </childnode>
        <childnode refid="41173" relation="include">
        </childnode>
        <childnode refid="41156" relation="include">
        </childnode>
      </node>
      <node id="41177">
        <label>assert.h</label>
      </node>
      <node id="41155">
        <label>ndminx.h</label>
        <link refid="ndminx_8h"/>
      </node>
      <node id="41173">
        <label>const.h</label>
        <link refid="const_8h"/>
      </node>
      <node id="41145">
        <label>stdlib.h</label>
      </node>
      <node id="41147">
        <label>platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="41148" relation="include">
        </childnode>
      </node>
      <node id="41200">
        <label>bitvec.h</label>
        <link refid="bitvec_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
      </node>
      <node id="41191">
        <label>cluster.h</label>
        <link refid="cluster_8h"/>
        <childnode refid="41192" relation="include">
        </childnode>
        <childnode refid="41141" relation="include">
        </childnode>
      </node>
      <node id="41160">
        <label>ccutil.h</label>
        <link refid="ccutil_8h"/>
        <childnode refid="41161" relation="include">
        </childnode>
        <childnode refid="41153" relation="include">
        </childnode>
        <childnode refid="41156" relation="include">
        </childnode>
        <childnode refid="41170" relation="include">
        </childnode>
        <childnode refid="41150" relation="include">
        </childnode>
        <childnode refid="41168" relation="include">
        </childnode>
        <childnode refid="41171" relation="include">
        </childnode>
        <childnode refid="41172" relation="include">
        </childnode>
      </node>
      <node id="41186">
        <label>scrollview.h</label>
        <link refid="scrollview_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
      </node>
      <node id="41163">
        <label>serialis.h</label>
        <link refid="serialis_8h"/>
        <childnode refid="41145" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41157" relation="include">
        </childnode>
        <childnode refid="41153" relation="include">
        </childnode>
        <childnode refid="41164" relation="include">
        </childnode>
      </node>
      <node id="41181">
        <label>clst.h</label>
        <link refid="clst_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41163" relation="include">
        </childnode>
        <childnode refid="41165" relation="include">
        </childnode>
      </node>
      <node id="41198">
        <label>baseline.h</label>
        <link refid="baseline_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41180" relation="include">
        </childnode>
        <childnode refid="41150" relation="include">
        </childnode>
      </node>
      <node id="41158">
        <label>stddef.h</label>
      </node>
      <node id="41167">
        <label>memory.h</label>
      </node>
      <node id="41197">
        <label>fpoint.h</label>
        <link refid="fpoint_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41183" relation="include">
        </childnode>
      </node>
      <node id="41176">
        <label>callcpp.h</label>
        <link refid="callcpp_8h"/>
        <childnode refid="41177" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41150" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
      </node>
      <node id="41153">
        <label>errcode.h</label>
        <link refid="errcode_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
      </node>
      <node id="41195">
        <label>matchdefs.h</label>
        <link refid="matchdefs_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
      </node>
      <node id="41190">
        <label>clusttool.h</label>
        <link refid="clusttool_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41191" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
      </node>
      <node id="41148">
        <label>limits.h</label>
      </node>
      <node id="41192">
        <label>kdtree.h</label>
        <link refid="kdtree_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41142" relation="include">
        </childnode>
        <childnode refid="41179" relation="include">
        </childnode>
      </node>
      <node id="41174">
        <label>efio.h</label>
        <link refid="efio_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
      </node>
      <node id="41185">
        <label>ipoints.h</label>
        <link refid="ipoints_8h"/>
        <childnode refid="41183" relation="include">
        </childnode>
      </node>
      <node id="41171">
        <label>pthread.h</label>
      </node>
      <node id="41144">
        <label>string.h</label>
      </node>
      <node id="41169">
        <label>unicharmap.h</label>
        <link refid="unicharmap_8h"/>
        <childnode refid="41166" relation="include">
        </childnode>
      </node>
      <node id="41140">
        <label>training/cntraining.cpp</label>
        <link refid="cntraining.cpp"/>
        <childnode refid="41141" relation="include">
        </childnode>
        <childnode refid="41174" relation="include">
        </childnode>
        <childnode refid="41175" relation="include">
        </childnode>
        <childnode refid="41178" relation="include">
        </childnode>
        <childnode refid="41188" relation="include">
        </childnode>
        <childnode refid="41179" relation="include">
        </childnode>
        <childnode refid="41190" relation="include">
        </childnode>
        <childnode refid="41191" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41183" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
        <childnode refid="41193" relation="include">
        </childnode>
      </node>
      <node id="41166">
        <label>unichar.h</label>
        <link refid="unichar_8h"/>
        <childnode refid="41167" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
      </node>
      <node id="41142">
        <label>cutil.h</label>
        <link refid="cutil_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
        <childnode refid="41145" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41149" relation="include">
        </childnode>
        <childnode refid="41159" relation="include">
        </childnode>
      </node>
      <node id="41182">
        <label>rect.h</label>
        <link refid="rect_8h"/>
        <childnode refid="41183" relation="include">
        </childnode>
        <childnode refid="41184" relation="include">
        </childnode>
        <childnode refid="41155" relation="include">
        </childnode>
        <childnode refid="41186" relation="include">
        </childnode>
        <childnode refid="41149" relation="include">
        </childnode>
      </node>
      <node id="41152">
        <label>tesscallback.h</label>
        <link refid="tesscallback_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
      </node>
      <node id="41172">
        <label>semaphore.h</label>
      </node>
      <node id="41202">
        <label>base/commandlineflags.h</label>
      </node>
      <node id="41164">
        <label>fileerr.h</label>
        <link refid="fileerr_8h"/>
        <childnode refid="41153" relation="include">
        </childnode>
      </node>
      <node id="41196">
        <label>mfoutline.h</label>
        <link refid="mfoutline_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41141" relation="include">
        </childnode>
        <childnode refid="41197" relation="include">
        </childnode>
        <childnode refid="41198" relation="include">
        </childnode>
        <childnode refid="41150" relation="include">
        </childnode>
      </node>
      <node id="41161">
        <label>ambigs.h</label>
        <link refid="ambigs_8h"/>
        <childnode refid="41162" relation="include">
        </childnode>
        <childnode refid="41149" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
        <childnode refid="41168" relation="include">
        </childnode>
        <childnode refid="41151" relation="include">
        </childnode>
      </node>
      <node id="41201">
        <label>unicity_table.h</label>
        <link refid="unicity__table_8h"/>
        <childnode refid="41152" relation="include">
        </childnode>
        <childnode refid="41153" relation="include">
        </childnode>
        <childnode refid="41151" relation="include">
        </childnode>
      </node>
      <node id="41183">
        <label>math.h</label>
      </node>
      <node id="41165">
        <label>lsterr.h</label>
        <link refid="lsterr_8h"/>
        <childnode refid="41153" relation="include">
        </childnode>
      </node>
      <node id="41188">
        <label>tessopt.h</label>
        <link refid="tessopt_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41189" relation="include">
        </childnode>
      </node>
      <node id="41175">
        <label>emalloc.h</label>
        <link refid="emalloc_8h"/>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41176" relation="include">
        </childnode>
      </node>
      <node id="41187">
        <label>vecfuncs.h</label>
        <link refid="vecfuncs_8h"/>
        <childnode refid="41183" relation="include">
        </childnode>
        <childnode refid="41180" relation="include">
        </childnode>
      </node>
      <node id="41141">
        <label>oldlist.h</label>
        <link refid="oldlist_8h"/>
        <childnode refid="41142" relation="include">
        </childnode>
        <childnode refid="41152" relation="include">
        </childnode>
      </node>
      <node id="41179">
        <label>ocrfeatures.h</label>
        <link refid="ocrfeatures_8h"/>
        <childnode refid="41180" relation="include">
        </childnode>
        <childnode refid="41143" relation="include">
        </childnode>
      </node>
      <node id="41150">
        <label>params.h</label>
        <link refid="params_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41151" relation="include">
        </childnode>
        <childnode refid="41156" relation="include">
        </childnode>
      </node>
      <node id="41151">
        <label>genericvector.h</label>
        <link refid="genericvector_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41145" relation="include">
        </childnode>
        <childnode refid="41152" relation="include">
        </childnode>
        <childnode refid="41153" relation="include">
        </childnode>
        <childnode refid="41154" relation="include">
        </childnode>
        <childnode refid="41155" relation="include">
        </childnode>
      </node>
      <node id="41157">
        <label>memry.h</label>
        <link refid="memry_8h"/>
        <childnode refid="41158" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
      </node>
      <node id="41199">
        <label>protos.h</label>
        <link refid="protos_8h"/>
        <childnode refid="41200" relation="include">
        </childnode>
        <childnode refid="41142" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
        <childnode refid="41201" relation="include">
        </childnode>
        <childnode refid="41150" relation="include">
        </childnode>
      </node>
      <node id="41178">
        <label>featdefs.h</label>
        <link refid="featdefs_8h"/>
        <childnode refid="41179" relation="include">
        </childnode>
      </node>
      <node id="41162">
        <label>elst.h</label>
        <link refid="elst_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41163" relation="include">
        </childnode>
        <childnode refid="41165" relation="include">
        </childnode>
      </node>
      <node id="41168">
        <label>unicharset.h</label>
        <link refid="unicharset_8h"/>
        <childnode refid="41153" relation="include">
        </childnode>
        <childnode refid="41154" relation="include">
        </childnode>
        <childnode refid="41156" relation="include">
        </childnode>
        <childnode refid="41152" relation="include">
        </childnode>
        <childnode refid="41166" relation="include">
        </childnode>
        <childnode refid="41169" relation="include">
        </childnode>
      </node>
      <node id="41193">
        <label>commontraining.h</label>
        <link refid="commontraining_8h"/>
        <childnode refid="41141" relation="include">
        </childnode>
        <childnode refid="41191" relation="include">
        </childnode>
        <childnode refid="41194" relation="include">
        </childnode>
        <childnode refid="41178" relation="include">
        </childnode>
        <childnode refid="41202" relation="include">
        </childnode>
      </node>
      <node id="41184">
        <label>points.h</label>
        <link refid="points_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41183" relation="include">
        </childnode>
        <childnode refid="41162" relation="include">
        </childnode>
        <childnode refid="41185" relation="include">
        </childnode>
      </node>
      <node id="41189">
        <label>notdll.h</label>
        <link refid="notdll_8h"/>
      </node>
      <node id="41149">
        <label>tprintf.h</label>
        <link refid="tprintf_8h"/>
        <childnode refid="41150" relation="include">
        </childnode>
      </node>
      <node id="41146">
        <label>host.h</label>
        <link refid="host_8h"/>
        <childnode refid="41147" relation="include">
        </childnode>
      </node>
      <node id="41143">
        <label>stdio.h</label>
      </node>
      <node id="41194">
        <label>intproto.h</label>
        <link refid="intproto_8h"/>
        <childnode refid="41151" relation="include">
        </childnode>
        <childnode refid="41195" relation="include">
        </childnode>
        <childnode refid="41196" relation="include">
        </childnode>
        <childnode refid="41199" relation="include">
        </childnode>
        <childnode refid="41186" relation="include">
        </childnode>
        <childnode refid="41168" relation="include">
        </childnode>
      </node>
      <node id="41170">
        <label>tessdatamanager.h</label>
        <link refid="tessdatamanager_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41146" relation="include">
        </childnode>
        <childnode refid="41149" relation="include">
        </childnode>
      </node>
      <node id="41156">
        <label>strngs.h</label>
        <link refid="strngs_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
        <childnode refid="41147" relation="include">
        </childnode>
        <childnode refid="41157" relation="include">
        </childnode>
      </node>
      <node id="41180">
        <label>blobs.h</label>
        <link refid="blobs_8h"/>
        <childnode refid="41181" relation="include">
        </childnode>
        <childnode refid="41182" relation="include">
        </childnode>
        <childnode refid="41187" relation="include">
        </childnode>
      </node>
      <node id="41154">
        <label>helpers.h</label>
        <link refid="helpers_8h"/>
        <childnode refid="41143" relation="include">
        </childnode>
        <childnode refid="41144" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="cntraining_8cpp_1a13f1cc39e4f40922426135364cb7c3c2" prot="public" static="no">
        <name>PROGRAM_FEATURE_TYPE</name>
        <initializer>&quot;cn&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><hruler/>
 <heading level="2">Include Files and Type Defines </heading>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="41" column="9" bodyfile="/Users/makoto/Desktop/trunk/training/cntraining.cpp" bodystart="41" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="cntraining_8cpp_1a9243fe96ef4ae297e9fa0aab69416195" prot="public" static="no" mutable="no">
        <type><ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g" kindref="compound">CLUSTERCONFIG</ref></type>
        <definition>CLUSTERCONFIG CNConfig</definition>
        <argsstring></argsstring>
        <name>CNConfig</name>
        <initializer>=
{
  <ref refid="cluster_8h_1a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459" kindref="member">elliptical</ref>, 0.025, 0.05, 0.8, 1e-3, 0
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><hruler/>
 <heading level="2">Global Data Definitions and Declarations </heading>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="79" column="1" bodyfile="/Users/makoto/Desktop/trunk/training/cntraining.cpp" bodystart="79" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cntraining_8cpp_1a420c6f5470a3ca4a36a851655cf6975a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>DECLARE_string</definition>
        <argsstring>(D)</argsstring>
        <name>DECLARE_string</name>
        <param>
          <type>D</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="43" column="1"/>
      </memberdef>
      <memberdef kind="function" id="cntraining_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int main</definition>
        <argsstring>(int argc, char **argv)</argsstring>
        <name>main</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>argv</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><hruler/>
 <heading level="2">Public Function Prototypes </heading>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="48" column="1" bodyfile="/Users/makoto/Desktop/trunk/api/tesseractmain.cpp" bodystart="50" bodyend="250"/>
      </memberdef>
      <memberdef kind="function" id="cntraining_8cpp_1a6c8c93ebadfa96fb7adeeb5ace122e9c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void WriteNormProtos</definition>
        <argsstring>(const char *Directory, LIST LabeledProtoList, CLUSTERER *Clusterer)</argsstring>
        <name>WriteNormProtos</name>
        <param>
          <type>const char *</type>
          <declname>Directory</declname>
        </param>
        <param>
          <type><ref refid="baseapi_8h_1aa200acf94add0e61783bfcd5965bb645" kindref="member">LIST</ref></type>
          <declname>LabeledProtoList</declname>
        </param>
        <param>
          <type><ref refid="struct_c_l_u_s_t_e_r_e_r" kindref="compound">CLUSTERER</ref> *</type>
          <declname>Clusterer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><hruler/>
 <heading level="2">Private Function Prototypes </heading>
</para><para><hruler/>
 <heading level="2">Private Code </heading>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="56" column="1" bodyfile="/Users/makoto/Desktop/trunk/training/cntraining.cpp" bodystart="215" bodyend="267"/>
      </memberdef>
      <memberdef kind="function" id="cntraining_8cpp_1a3b0603890697f92689a2c54d135ddaf4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void WriteProtos</definition>
        <argsstring>(FILE *File, uinT16 N, LIST ProtoList, BOOL8 WriteSigProtos, BOOL8 WriteInsigProtos)</argsstring>
        <name>WriteProtos</name>
        <param>
          <type>FILE *</type>
          <declname>File</declname>
        </param>
        <param>
          <type><ref refid="host_8h_1acb2dfad543247740dab87d31bb49dfff" kindref="member">uinT16</ref></type>
          <declname>N</declname>
        </param>
        <param>
          <type><ref refid="baseapi_8h_1aa200acf94add0e61783bfcd5965bb645" kindref="member">LIST</ref></type>
          <declname>ProtoList</declname>
        </param>
        <param>
          <type><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref></type>
          <declname>WriteSigProtos</declname>
        </param>
        <param>
          <type><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref></type>
          <declname>WriteInsigProtos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="67" column="1" bodyfile="/Users/makoto/Desktop/trunk/training/cntraining.cpp" bodystart="270" bodyend="287"/>
      </memberdef>
      <memberdef kind="function" id="cntraining_8cpp_1a0ddf1224851353fc92bfbff6f499fa97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int main</definition>
        <argsstring>(int argc, char *argv[])</argsstring>
        <name>main</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>argv</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><hruler/>
 <heading level="2">Public Code </heading>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp" line="89" column="1" bodyfile="/Users/makoto/Desktop/trunk/training/cntraining.cpp" bodystart="89" bodyend="207"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment">**<sp/><sp/>Filename:<sp/><sp/>cntraining.cpp</highlight></codeline>
<codeline lineno="3"><highlight class="comment">**<sp/><sp/>Purpose:<sp/><sp/>Generates<sp/>a<sp/>normproto<sp/>and<sp/>pffmtable.</highlight></codeline>
<codeline lineno="4"><highlight class="comment">**<sp/><sp/>Author:<sp/><sp/><sp/><sp/>Dan<sp/>Johnson</highlight></codeline>
<codeline lineno="5"><highlight class="comment">**<sp/><sp/>Revisment:<sp/><sp/>Christy<sp/>Russon</highlight></codeline>
<codeline lineno="6"><highlight class="comment">**<sp/><sp/>History:<sp/><sp/><sp/><sp/><sp/>Fri<sp/>Aug<sp/>18<sp/>08:53:50<sp/>1989,<sp/>DSJ,<sp/>Created.</highlight></codeline>
<codeline lineno="7"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>5/25/90,<sp/>DSJ,<sp/>Adapted<sp/>to<sp/>multiple<sp/>feature<sp/>types.</highlight></codeline>
<codeline lineno="8"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuesday,<sp/>May<sp/>17,<sp/>1998<sp/>Changes<sp/>made<sp/>to<sp/>make<sp/>feature<sp/>specific<sp/>and</highlight></codeline>
<codeline lineno="9"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>simplify<sp/>structures.<sp/>First<sp/>step<sp/>in<sp/>simplifying<sp/>training<sp/>process.</highlight></codeline>
<codeline lineno="10"><highlight class="comment">**</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>**<sp/><sp/>(c)<sp/>Copyright<sp/>Hewlett-Packard<sp/>Company,<sp/>1988.</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>**<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>**<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>**<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>**<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>**<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>**<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>**<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>**<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>**<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="21"><highlight class="comment">******************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="oldlist_8h" kindref="compound">oldlist.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="efio_8h" kindref="compound">efio.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="emalloc_8h" kindref="compound">emalloc.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="featdefs_8h" kindref="compound">featdefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tessopt_8h" kindref="compound">tessopt.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ocrfeatures_8h" kindref="compound">ocrfeatures.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="clusttool_8h" kindref="compound">clusttool.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cluster_8h" kindref="compound">cluster.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="unichar_8h" kindref="compound">unichar.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="commontraining_8h" kindref="compound">commontraining.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROGRAM_FEATURE_TYPE<sp/>&quot;cn&quot;</highlight></codeline>
<codeline lineno="42"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><ref refid="commontraining_8h_1a87a885957cbc36af45212ba399d6c815" kindref="member">DECLARE_STRING_PARAM_FLAG</ref>(D);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tesseractmain_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627" kindref="member">main</ref><sp/>(</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/>argc,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>**argv);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="cntraining_8cpp_1a6c8c93ebadfa96fb7adeeb5ace122e9c" kindref="member">WriteNormProtos</ref><sp/>(</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*Directory,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/>LabeledProtoList,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><ref refid="struct_c_l_u_s_t_e_r_e_r" kindref="compound">CLUSTERER</ref><sp/>*Clusterer);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="62"><highlight class="comment">PARAMDESC<sp/>*ConvertToPARAMDESC(</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/><sp/>PARAM_DESC*<sp/>Param_Desc,</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/><sp/>int<sp/>N);</highlight></codeline>
<codeline lineno="65"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="cntraining_8cpp_1a3b0603890697f92689a2c54d135ddaf4" kindref="member">WriteProtos</ref>(</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>FILE<sp/><sp/>*File,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1acb2dfad543247740dab87d31bb49dfff" kindref="member">uinT16</ref><sp/><sp/>N,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/>ProtoList,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><sp/>WriteSigProtos,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><sp/>WriteInsigProtos);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="comment">/*<sp/>global<sp/>variable<sp/>to<sp/>hold<sp/>configuration<sp/>parameters<sp/>to<sp/>control<sp/>clustering<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="comment">//-M<sp/>0.025<sp/><sp/><sp/>-B<sp/>0.05<sp/><sp/><sp/>-I<sp/>0.8<sp/><sp/><sp/>-C<sp/>1e-3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g" kindref="compound">CLUSTERCONFIG</ref><sp/><sp/><ref refid="cntraining_8cpp_1a9243fe96ef4ae297e9fa0aab69416195" kindref="member">CNConfig</ref><sp/>=</highlight></codeline>
<codeline lineno="80"><highlight class="normal">{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><ref refid="cluster_8h_1a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459" kindref="member">elliptical</ref>,<sp/>0.025,<sp/>0.05,<sp/>0.8,<sp/>1e-3,<sp/>0</highlight></codeline>
<codeline lineno="82"><highlight class="normal">};</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="comment">/*---------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tesseractmain_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627" kindref="member">main</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>argv[])</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="92"><highlight class="comment">**<sp/><sp/>Parameters:</highlight></codeline>
<codeline lineno="93"><highlight class="comment">**<sp/><sp/><sp/><sp/>argc<sp/><sp/>number<sp/>of<sp/>command<sp/>line<sp/>arguments</highlight></codeline>
<codeline lineno="94"><highlight class="comment">**<sp/><sp/><sp/><sp/>argv<sp/><sp/>array<sp/>of<sp/>command<sp/>line<sp/>arguments</highlight></codeline>
<codeline lineno="95"><highlight class="comment">**<sp/><sp/>Globals:<sp/>none</highlight></codeline>
<codeline lineno="96"><highlight class="comment">**<sp/><sp/>Operation:</highlight></codeline>
<codeline lineno="97"><highlight class="comment">**<sp/><sp/><sp/><sp/>This<sp/>program<sp/>reads<sp/>in<sp/>a<sp/>text<sp/>file<sp/>consisting<sp/>of<sp/>feature</highlight></codeline>
<codeline lineno="98"><highlight class="comment">**<sp/><sp/><sp/><sp/>samples<sp/>from<sp/>a<sp/>training<sp/>page<sp/>in<sp/>the<sp/>following<sp/>format:</highlight></codeline>
<codeline lineno="99"><highlight class="comment">**</highlight></codeline>
<codeline lineno="100"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>FontName<sp/>CharName<sp/>NumberOfFeatureTypes(N)</highlight></codeline>
<codeline lineno="101"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureTypeName1<sp/>NumberOfFeatures(M)</highlight></codeline>
<codeline lineno="102"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Feature1</highlight></codeline>
<codeline lineno="103"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="104"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureM</highlight></codeline>
<codeline lineno="105"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureTypeName2<sp/>NumberOfFeatures(M)</highlight></codeline>
<codeline lineno="106"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Feature1</highlight></codeline>
<codeline lineno="107"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="108"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureM</highlight></codeline>
<codeline lineno="109"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="110"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureTypeNameN<sp/>NumberOfFeatures(M)</highlight></codeline>
<codeline lineno="111"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Feature1</highlight></codeline>
<codeline lineno="112"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="113"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureM</highlight></codeline>
<codeline lineno="114"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>FontName<sp/>CharName<sp/>...</highlight></codeline>
<codeline lineno="115"><highlight class="comment">**</highlight></codeline>
<codeline lineno="116"><highlight class="comment">**<sp/><sp/><sp/><sp/>It<sp/>then<sp/>appends<sp/>these<sp/>samples<sp/>into<sp/>a<sp/>separate<sp/>file<sp/>for<sp/>each</highlight></codeline>
<codeline lineno="117"><highlight class="comment">**<sp/><sp/><sp/><sp/>character.<sp/><sp/>The<sp/>name<sp/>of<sp/>the<sp/>file<sp/>is</highlight></codeline>
<codeline lineno="118"><highlight class="comment">**</highlight></codeline>
<codeline lineno="119"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>DirectoryName/FontName/CharName.FeatureTypeName</highlight></codeline>
<codeline lineno="120"><highlight class="comment">**</highlight></codeline>
<codeline lineno="121"><highlight class="comment">**<sp/><sp/><sp/><sp/>The<sp/>DirectoryName<sp/>can<sp/>be<sp/>specified<sp/>via<sp/>a<sp/>command</highlight></codeline>
<codeline lineno="122"><highlight class="comment">**<sp/><sp/><sp/><sp/>line<sp/>argument.<sp/><sp/>If<sp/>not<sp/>specified,<sp/>it<sp/>defaults<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="123"><highlight class="comment">**<sp/><sp/><sp/><sp/>current<sp/>directory.<sp/><sp/>The<sp/>format<sp/>of<sp/>the<sp/>resulting<sp/>files<sp/>is:</highlight></codeline>
<codeline lineno="124"><highlight class="comment">**</highlight></codeline>
<codeline lineno="125"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>NumberOfFeatures(M)</highlight></codeline>
<codeline lineno="126"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Feature1</highlight></codeline>
<codeline lineno="127"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="128"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FeatureM</highlight></codeline>
<codeline lineno="129"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>NumberOfFeatures(M)</highlight></codeline>
<codeline lineno="130"><highlight class="comment">**<sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="131"><highlight class="comment">**</highlight></codeline>
<codeline lineno="132"><highlight class="comment">**<sp/><sp/><sp/><sp/>The<sp/>output<sp/>files<sp/>each<sp/>have<sp/>a<sp/>header<sp/>which<sp/>describes<sp/>the</highlight></codeline>
<codeline lineno="133"><highlight class="comment">**<sp/><sp/><sp/><sp/>type<sp/>of<sp/>feature<sp/>which<sp/>the<sp/>file<sp/>contains.<sp/><sp/>This<sp/>header<sp/>is</highlight></codeline>
<codeline lineno="134"><highlight class="comment">**<sp/><sp/><sp/><sp/>in<sp/>the<sp/>format<sp/>required<sp/>by<sp/>the<sp/>clusterer.<sp/><sp/>A<sp/>command<sp/>line</highlight></codeline>
<codeline lineno="135"><highlight class="comment">**<sp/><sp/><sp/><sp/>argument<sp/>can<sp/>also<sp/>be<sp/>used<sp/>to<sp/>specify<sp/>that<sp/>only<sp/>the<sp/>first</highlight></codeline>
<codeline lineno="136"><highlight class="comment">**<sp/><sp/><sp/><sp/>N<sp/>samples<sp/>of<sp/>each<sp/>class<sp/>should<sp/>be<sp/>used.</highlight></codeline>
<codeline lineno="137"><highlight class="comment">**<sp/><sp/>Return:<sp/>none</highlight></codeline>
<codeline lineno="138"><highlight class="comment">**<sp/><sp/>Exceptions:<sp/>none</highlight></codeline>
<codeline lineno="139"><highlight class="comment">**<sp/><sp/>History:<sp/>Fri<sp/>Aug<sp/>18<sp/>08:56:17<sp/>1989,<sp/>DSJ,<sp/>Created.</highlight></codeline>
<codeline lineno="140"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal">{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>global<sp/>Config<sp/>parameters<sp/>before<sp/>parsing<sp/>the<sp/>command<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref><sp/>=<sp/><ref refid="cntraining_8cpp_1a9243fe96ef4ae297e9fa0aab69416195" kindref="member">CNConfig</ref>;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*PageName;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>FILE<sp/><sp/>*TrainingPage;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/>CharList<sp/>=<sp/><ref refid="oldlist_8h_1ae212530ca629c67513698e988c705a5a" kindref="member">NIL_LIST</ref>;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><ref refid="struct_c_l_u_s_t_e_r_e_r" kindref="compound">CLUSTERER</ref><sp/><sp/>*Clusterer<sp/>=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/><sp/><sp/>ProtoList<sp/>=<sp/><ref refid="oldlist_8h_1ae212530ca629c67513698e988c705a5a" kindref="member">NIL_LIST</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/><sp/><sp/>NormProtoList<sp/>=<sp/><ref refid="oldlist_8h_1ae212530ca629c67513698e988c705a5a" kindref="member">NIL_LIST</ref>;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/>pCharList;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e" kindref="compound">LABELEDLIST</ref><sp/>CharSample;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><ref refid="struct_f_e_a_t_u_r_e___d_e_f_s___s_t_r_u_c_t" kindref="compound">FEATURE_DEFS_STRUCT</ref><sp/>FeatureDefs;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><ref refid="featdefs_8cpp_1a6e4c84ab01e39577e4a74d9ab1eff68b" kindref="member">InitFeatureDefs</ref>(&amp;FeatureDefs);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><ref refid="commontraining_8cpp_1a5177d61ebf73a60571198cb6eaa753ac" kindref="member">ParseArguments</ref>(&amp;argc,<sp/>&amp;argv);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_fonts<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((PageName<sp/>=<sp/><ref refid="commontraining_8cpp_1acc69f64ead8e1c64560ef259e5d87b5b" kindref="member">GetNextFilename</ref>(argc,<sp/>argv))<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Reading<sp/>%s<sp/>...\n&quot;</highlight><highlight class="normal">,<sp/>PageName);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>TrainingPage<sp/>=<sp/><ref refid="efio_8cpp_1a1a07e904724c29e89b04235a34ded950" kindref="member">Efopen</ref>(PageName,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1a858311d0ef1820c6e83cc15ecc0e0e28" kindref="member">ReadTrainingSamples</ref>(FeatureDefs,<sp/><ref refid="cntraining_8cpp_1a13f1cc39e4f40922426135364cb7c3c2" kindref="member">PROGRAM_FEATURE_TYPE</ref>,</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>100,<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>TrainingPage,<sp/>&amp;CharList);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>fclose(TrainingPage);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>++num_fonts;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Clustering<sp/>...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>allow<sp/>an<sp/>individual<sp/>font<sp/>to<sp/>form<sp/>a<sp/>separate<sp/>cluster,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>reduce<sp/>the<sp/>min<sp/>samples:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Config.MinSamples<sp/>=<sp/>0.5<sp/>/<sp/>num_fonts;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>pCharList<sp/>=<sp/>CharList;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><ref refid="oldlist_8h_1a2cf19ba78be6b54f66823d58f34f2a53" kindref="member">iterate</ref>(pCharList)<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Cluster</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>CharSample<sp/>=<sp/>(<ref refid="commontraining_8h_1af49d04c90ffcf9376c7a1e1db99182cb" kindref="member">LABELEDLIST</ref>)<ref refid="oldlist_8h_1a69547be764424f18b0be535400747978" kindref="member">first_node</ref>(pCharList);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>Clusterer<sp/>=</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1aeec0a66901e2f5ba2fba6c5023a6734e" kindref="member">SetUpForClustering</ref>(FeatureDefs,<sp/>CharSample,<sp/><ref refid="cntraining_8cpp_1a13f1cc39e4f40922426135364cb7c3c2" kindref="member">PROGRAM_FEATURE_TYPE</ref>);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>SavedMinSamples<sp/>=<sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a30f3f6f54aa8e9371a0398f04bca0de3" kindref="member">MinSamples</ref>;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>disable<sp/>the<sp/>tendency<sp/>to<sp/>produce<sp/>a<sp/>single<sp/>cluster<sp/>for<sp/>all<sp/>fonts,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>make<sp/>MagicSamples<sp/>an<sp/>impossible<sp/>to<sp/>achieve<sp/>number:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Config.MagicSamples<sp/>=<sp/>CharSample-&gt;SampleCount<sp/>*<sp/>10;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a3578d77905f03b8d4321568be8f030c2" kindref="member">MagicSamples</ref><sp/>=<sp/>CharSample-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1aab481329945e65c4aeee79b145e4de51" kindref="member">SampleCount</ref>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a30f3f6f54aa8e9371a0398f04bca0de3" kindref="member">MinSamples</ref><sp/>&gt;<sp/>0.001)<sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ProtoList<sp/>=<sp/><ref refid="cluster_8cpp_1ac7c6943d214b9c60e0f37cbb1a2111b4" kindref="member">ClusterSamples</ref>(Clusterer,<sp/>&amp;<ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="commontraining_8cpp_1abeba7db95e0009664b96ac0441e7dc16" kindref="member">NumberOfProtos</ref>(ProtoList,<sp/>1,<sp/>0)<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a30f3f6f54aa8e9371a0398f04bca0de3" kindref="member">MinSamples</ref><sp/>*=<sp/>0.95;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;0<sp/>significant<sp/>protos<sp/>for<sp/>%s.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>Retrying<sp/>clustering<sp/>with<sp/>MinSamples<sp/>=<sp/>%f%%\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CharSample-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1ad4701118c2e75f005c1f7e4c53abb35d" kindref="member">Label</ref>,<sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a30f3f6f54aa8e9371a0398f04bca0de3" kindref="member">MinSamples</ref>);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1a1630a3dc82a9a7cef07bb6153df9eb9c" kindref="member">Config</ref>.<ref refid="struct_c_l_u_s_t_e_r_c_o_n_f_i_g_1a30f3f6f54aa8e9371a0398f04bca0de3" kindref="member">MinSamples</ref><sp/>=<sp/>SavedMinSamples;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1a19e1f0ede9842599275a9d0ffc67ef4a" kindref="member">AddToNormProtosList</ref>(&amp;NormProtoList,<sp/>ProtoList,<sp/>CharSample-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1ad4701118c2e75f005c1f7e4c53abb35d" kindref="member">Label</ref>);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><ref refid="commontraining_8cpp_1a2eb4d580c0984a25fea59c6ec1196cec" kindref="member">FreeTrainingSamples</ref>(CharList);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Clusterer<sp/>==<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>To<sp/>avoid<sp/>a<sp/>SIGSEGV</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Error:<sp/>NULL<sp/>clusterer!\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><ref refid="cntraining_8cpp_1a6c8c93ebadfa96fb7adeeb5ace122e9c" kindref="member">WriteNormProtos</ref>(FLAGS_D.c_str(),<sp/>NormProtoList,<sp/>Clusterer);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><ref refid="commontraining_8cpp_1a7a389fb9515f5942d514995b3dfb904c" kindref="member">FreeNormProtoList</ref>(NormProtoList);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><ref refid="cluster_8cpp_1a7e5357920f0bded023b15d29ddf15ebf" kindref="member">FreeProtoList</ref>(&amp;ProtoList);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><ref refid="cluster_8cpp_1aa5b6309260cd2d1acac25bd9cc9e9a66" kindref="member">FreeClusterer</ref>(Clusterer);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/>printf<sp/>(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="207"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>main</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="comment">/*----------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="cntraining_8cpp_1a6c8c93ebadfa96fb7adeeb5ace122e9c" kindref="member">WriteNormProtos</ref><sp/>(</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/>*Directory,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/>LabeledProtoList,</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><ref refid="struct_c_l_u_s_t_e_r_e_r" kindref="compound">CLUSTERER</ref><sp/>*Clusterer)</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="221"><highlight class="comment">**<sp/><sp/>Parameters:</highlight></codeline>
<codeline lineno="222"><highlight class="comment">**<sp/><sp/><sp/><sp/>Directory<sp/><sp/>directory<sp/>to<sp/>place<sp/>sample<sp/>files<sp/>into</highlight></codeline>
<codeline lineno="223"><highlight class="comment">**<sp/><sp/>Operation:</highlight></codeline>
<codeline lineno="224"><highlight class="comment">**<sp/><sp/><sp/><sp/>This<sp/>routine<sp/>writes<sp/>the<sp/>specified<sp/>samples<sp/>into<sp/>files<sp/>which</highlight></codeline>
<codeline lineno="225"><highlight class="comment">**<sp/><sp/><sp/><sp/>are<sp/>organized<sp/>according<sp/>to<sp/>the<sp/>font<sp/>name<sp/>and<sp/>character<sp/>name</highlight></codeline>
<codeline lineno="226"><highlight class="comment">**<sp/><sp/><sp/><sp/>of<sp/>the<sp/>samples.</highlight></codeline>
<codeline lineno="227"><highlight class="comment">**<sp/><sp/>Return:<sp/>none</highlight></codeline>
<codeline lineno="228"><highlight class="comment">**<sp/><sp/>Exceptions:<sp/>none</highlight></codeline>
<codeline lineno="229"><highlight class="comment">**<sp/><sp/>History:<sp/>Fri<sp/>Aug<sp/>18<sp/>16:17:06<sp/>1989,<sp/>DSJ,<sp/>Created.</highlight></codeline>
<codeline lineno="230"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal">{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/>FILE<sp/><sp/><sp/><sp/>*File;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><ref refid="class_s_t_r_i_n_g" kindref="compound">STRING</ref><sp/>Filename;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e" kindref="compound">LABELEDLIST</ref><sp/>LabeledProto;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>N;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/>Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Directory<sp/>!=<sp/><ref refid="host_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>Directory[0]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>Filename<sp/>+=<sp/>Directory;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>Filename<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;/&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/>Filename<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;normproto&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/>printf<sp/>(</highlight><highlight class="stringliteral">&quot;\nWriting<sp/>%s<sp/>...&quot;</highlight><highlight class="normal">,<sp/>Filename.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>());</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/>File<sp/>=<sp/><ref refid="efio_8cpp_1a1a07e904724c29e89b04235a34ded950" kindref="member">Efopen</ref><sp/>(Filename.<ref refid="class_s_t_r_i_n_g_1a32beee43ecab1bed8bebc3466896ad6e" kindref="member">string</ref>(),<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/>fprintf(File,</highlight><highlight class="stringliteral">&quot;%0d\n&quot;</highlight><highlight class="normal">,Clusterer-&gt;<ref refid="struct_c_l_u_s_t_e_r_e_r_1ac78a1d40ce4bac0a156a21e2d987f394" kindref="member">SampleSize</ref>);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><ref refid="clusttool_8cpp_1a889ad8a8f7e5c6652ba059206b5a0aa8" kindref="member">WriteParamDesc</ref>(File,Clusterer-&gt;<ref refid="struct_c_l_u_s_t_e_r_e_r_1ac78a1d40ce4bac0a156a21e2d987f394" kindref="member">SampleSize</ref>,Clusterer-&gt;<ref refid="struct_c_l_u_s_t_e_r_e_r_1af44850047e9f5b3648871d7517c04316" kindref="member">ParamDesc</ref>);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><ref refid="oldlist_8h_1a2cf19ba78be6b54f66823d58f34f2a53" kindref="member">iterate</ref>(LabeledProtoList)</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>LabeledProto<sp/>=<sp/>(<ref refid="commontraining_8h_1af49d04c90ffcf9376c7a1e1db99182cb" kindref="member">LABELEDLIST</ref>)<sp/><ref refid="oldlist_8h_1a69547be764424f18b0be535400747978" kindref="member">first_node</ref><sp/>(LabeledProtoList);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>N<sp/>=<sp/><ref refid="commontraining_8cpp_1abeba7db95e0009664b96ac0441e7dc16" kindref="member">NumberOfProtos</ref>(LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1a848ab6ee611dbc860f80a47ecef2faa7" kindref="member">List</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(N<sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf<sp/>(</highlight><highlight class="stringliteral">&quot;\nError!<sp/>Not<sp/>enough<sp/>protos<sp/>for<sp/>%s:<sp/>%d<sp/>protos&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>(%d<sp/>significant<sp/>protos&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;,<sp/>%d<sp/>insignificant<sp/>protos)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1ad4701118c2e75f005c1f7e4c53abb35d" kindref="member">Label</ref>,<sp/>N,</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1abeba7db95e0009664b96ac0441e7dc16" kindref="member">NumberOfProtos</ref>(LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1a848ab6ee611dbc860f80a47ecef2faa7" kindref="member">List</ref>,<sp/>1,<sp/>0),</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="commontraining_8cpp_1abeba7db95e0009664b96ac0441e7dc16" kindref="member">NumberOfProtos</ref>(LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1a848ab6ee611dbc860f80a47ecef2faa7" kindref="member">List</ref>,<sp/>0,<sp/>1));</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(File,<sp/></highlight><highlight class="stringliteral">&quot;\n%s<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1ad4701118c2e75f005c1f7e4c53abb35d" kindref="member">Label</ref>,<sp/>N);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cntraining_8cpp_1a3b0603890697f92689a2c54d135ddaf4" kindref="member">WriteProtos</ref>(File,<sp/>Clusterer-&gt;<ref refid="struct_c_l_u_s_t_e_r_e_r_1ac78a1d40ce4bac0a156a21e2d987f394" kindref="member">SampleSize</ref>,<sp/>LabeledProto-&gt;<ref refid="struct_l_a_b_e_l_e_d_l_i_s_t_n_o_d_e_1a848ab6ee611dbc860f80a47ecef2faa7" kindref="member">List</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/>fclose<sp/>(File);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>WriteNormProtos</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="cntraining_8cpp_1a3b0603890697f92689a2c54d135ddaf4" kindref="member">WriteProtos</ref>(</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>FILE<sp/><sp/>*File,</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1acb2dfad543247740dab87d31bb49dfff" kindref="member">uinT16</ref><sp/><sp/>N,</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structlist__rec" kindref="compound">LIST</ref><sp/><sp/>ProtoList,</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><sp/>WriteSigProtos,</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="host_8h_1a7712a7e28433d0ade59219a129549b6f" kindref="member">BOOL8</ref><sp/><sp/>WriteInsigProtos)</highlight></codeline>
<codeline lineno="276"><highlight class="normal">{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><ref refid="struct_p_r_o_t_o_t_y_p_e" kindref="compound">PROTOTYPE</ref><sp/><sp/>*Proto;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>write<sp/>prototypes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><ref refid="oldlist_8h_1a2cf19ba78be6b54f66823d58f34f2a53" kindref="member">iterate</ref>(ProtoList)</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>Proto<sp/>=<sp/>(<ref refid="struct_p_r_o_t_o_t_y_p_e" kindref="compound">PROTOTYPE</ref><sp/>*)<sp/><ref refid="oldlist_8h_1a69547be764424f18b0be535400747978" kindref="member">first_node</ref><sp/>(<sp/>ProtoList<sp/>);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<sp/>Proto-&gt;<ref refid="struct_p_r_o_t_o_t_y_p_e_1a5d94887aaa0acd7e4a0c04c420af5670" kindref="member">Significant</ref><sp/>&amp;&amp;<sp/>WriteSigProtos<sp/>)<sp/><sp/>||</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>!<sp/>Proto-&gt;<ref refid="struct_p_r_o_t_o_t_y_p_e_1a5d94887aaa0acd7e4a0c04c420af5670" kindref="member">Significant</ref><sp/>&amp;&amp;<sp/>WriteInsigProtos<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="clusttool_8cpp_1a6f0ccfd7c117c2006796af1d3b19f110" kindref="member">WritePrototype</ref>(<sp/>File,<sp/>N,<sp/>Proto<sp/>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>WriteProtos</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/makoto/Desktop/trunk/training/cntraining.cpp"/>
  </compounddef>
</doxygen>
